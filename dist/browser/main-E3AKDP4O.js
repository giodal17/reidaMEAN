import{$ as $e,A as Rm,B as rt,C as gn,D as Gs,E as Ki,F as Pm,G as Om,H as km,I as S,J as Be,K as me,L as mu,M as Fm,N as Qi,O as zs,P as Ce,Q as Pe,R as qs,S as vu,T as Lm,U as mn,V as yt,W as vn,X as Vm,Y as jm,Z as Zi,_ as Um,a as w,aa as qe,b as K,c as P,d as Cm,e as Us,f as Dm,g as Em,h as m,i as Mr,j as Bs,k as Im,l as bm,m as we,n as Tm,o as gu,p as Sm,q as Am,r as xt,s as $s,t as Mm,u as xm,v as Hs,w as xr,x as Ws,y as he,z as Nm}from"./chunk-KR4YUIJL.js";var Bm=null;var yu=1,$m=Symbol("SIGNAL");function Oe(t){let e=Bm;return Bm=t,e}var Hm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bb(t){if(!(Cu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yu)){if(!t.producerMustRecompute(t)&&!_u(t)){t.dirty=!1,t.lastCleanEpoch=yu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=yu}}function Wm(t){return t&&(t.nextProducerIndex=0),Oe(t)}function Gm(t,e){if(Oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Cu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function _u(t){Ys(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bb(n),r!==n.version))return!0}return!1}function zm(t){if(Ys(t),Cu(t))for(let e=0;e<t.producerNode.length;e++)wu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function wu(t,e){if($b(t),Ys(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)wu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ys(i),i.producerIndexOfThis[r]=e}}function Cu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ys(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $b(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Hb(){throw new Error}var Wb=Hb;function qm(t){Wb=t}function A(t){return typeof t=="function"}function Nr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ks=Nr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Kn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(o){e=o instanceof Ks?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ym(o)}catch(s){e=e??[],s instanceof Ks?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ks(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ym(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Kn(n,e)}remove(e){let{_finalizers:n}=this;n&&Kn(n,e),e instanceof t&&e._removeParent(this)}};ue.EMPTY=(()=>{let t=new ue;return t.closed=!0,t})();var Du=ue.EMPTY;function Qs(t){return t instanceof ue||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function Ym(t){A(t)?t():t.unsubscribe()}var _t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rr={setTimeout(t,e,...n){let{delegate:r}=Rr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Rr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zs(t){Rr.setTimeout(()=>{let{onUnhandledError:e}=_t;if(e)e(t);else throw t})}function Qn(){}var Km=Eu("C",void 0,void 0);function Qm(t){return Eu("E",void 0,t)}function Zm(t){return Eu("N",t,void 0)}function Eu(t,e,n){return{kind:t,value:e,error:n}}var Zn=null;function Pr(t){if(_t.useDeprecatedSynchronousErrorHandling){let e=!Zn;if(e&&(Zn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Zn;if(Zn=null,n)throw r}}else t()}function Xm(t){_t.useDeprecatedSynchronousErrorHandling&&Zn&&(Zn.errorThrown=!0,Zn.error=t)}var Xn=class extends ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qs(e)&&e.add(this)):this.destination=qb}static create(e,n,r){return new Xt(e,n,r)}next(e){this.isStopped?bu(Zm(e),this):this._next(e)}error(e){this.isStopped?bu(Qm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bu(Km,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gb=Function.prototype.bind;function Iu(t,e){return Gb.call(t,e)}var Tu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xs(r)}else Xs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xs(n)}}},Xt=class extends Xn{constructor(e,n,r){super();let i;if(A(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&_t.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Iu(e.next,o),error:e.error&&Iu(e.error,o),complete:e.complete&&Iu(e.complete,o)}):i=e}this.destination=new Tu(i)}};function Xs(t){_t.useDeprecatedSynchronousErrorHandling?Xm(t):Zs(t)}function zb(t){throw t}function bu(t,e){let{onStoppedNotification:n}=_t;n&&Rr.setTimeout(()=>n(t,e))}var qb={closed:!0,next:Qn,error:zb,complete:Qn};var Or=typeof Symbol=="function"&&Symbol.observable||"@@observable";function be(t){return t}function Su(...t){return Au(t)}function Au(t){return t.length===0?be:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var F=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Kb(n)?n:new Xt(n,r,i);return Pr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Jm(r),new r((i,o)=>{let s=new Xt({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Or](){return this}pipe(...n){return Au(n)(this)}toPromise(n){return n=Jm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Jm(t){var e;return(e=t??_t.Promise)!==null&&e!==void 0?e:Promise}function Yb(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function Kb(t){return t&&t instanceof Xn||Yb(t)&&Qs(t)}function Mu(t){return A(t?.lift)}function R(t){return e=>{if(Mu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(t,e,n,r,i){return new xu(t,e,n,r,i)}var xu=class extends Xn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function kr(){return R((t,e)=>{let n=null;t._refCount++;let r=x(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Fr=class extends F{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Mu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ue;let n=this.getSubject();e.add(this.source.subscribe(x(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ue.EMPTY)}return e}refCount(){return kr()(this)}};var ev=Nr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ve=(()=>{class t extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Js(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ev}next(n){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Du:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,Kn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new F;return n.source=this,n}}return t.create=(e,n)=>new Js(e,n),t})(),Js=class extends ve{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Du}};var ye=class extends ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xi={now(){return(Xi.delegate||Date).now()},delegate:void 0};var ea=class extends ve{constructor(e=1/0,n=1/0,r=Xi){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ta=class extends ue{constructor(e,n){super()}schedule(e,n=0){return this}};var Ji={setInterval(t,e,...n){let{delegate:r}=Ji;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ji;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Lr=class extends ta{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ji.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ji.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Kn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Vr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Vr.now=Xi.now;var jr=class extends Vr{constructor(e,n=Vr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var eo=new jr(Lr);var na=class extends Lr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ra=class extends jr{};var Nu=new ra(na);var He=new F(t=>t.complete());function tv(t){return t&&A(t.schedule)}function Ru(t){return t[t.length-1]}function Ur(t){return A(Ru(t))?t.pop():void 0}function Nt(t){return tv(Ru(t))?t.pop():void 0}function nv(t,e){return typeof Ru(t)=="number"?t.pop():e}var ia=t=>t&&typeof t.length=="number"&&typeof t!="function";function oa(t){return A(t?.then)}function sa(t){return A(t[Or])}function aa(t){return Symbol.asyncIterator&&A(t?.[Symbol.asyncIterator])}function ca(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Qb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var la=Qb();function ua(t){return A(t?.[la])}function da(t){return Dm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Us(n.read());if(i)return yield Us(void 0);yield yield Us(r)}}finally{n.releaseLock()}})}function fa(t){return A(t?.getReader)}function X(t){if(t instanceof F)return t;if(t!=null){if(sa(t))return Zb(t);if(ia(t))return Xb(t);if(oa(t))return Jb(t);if(aa(t))return rv(t);if(ua(t))return e0(t);if(fa(t))return t0(t)}throw ca(t)}function Zb(t){return new F(e=>{let n=t[Or]();if(A(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xb(t){return new F(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Jb(t){return new F(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zs)})}function e0(t){return new F(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function rv(t){return new F(e=>{n0(t,e).catch(n=>e.error(n))})}function t0(t){return rv(da(t))}function n0(t,e){var n,r,i,o;return Cm(this,void 0,void 0,function*(){try{for(n=Em(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function We(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function it(t,e=0){return R((n,r)=>{n.subscribe(x(r,i=>We(r,t,()=>r.next(i),e),()=>We(r,t,()=>r.complete(),e),i=>We(r,t,()=>r.error(i),e)))})}function wt(t,e=0){return R((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function iv(t,e){return X(t).pipe(wt(e),it(e))}function ov(t,e){return X(t).pipe(wt(e),it(e))}function sv(t,e){return new F(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function av(t,e){return new F(n=>{let r;return We(n,e,()=>{r=t[la](),We(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>A(r?.return)&&r.return()})}function ha(t,e){if(!t)throw new Error("Iterable cannot be null");return new F(n=>{We(n,e,()=>{let r=t[Symbol.asyncIterator]();We(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function cv(t,e){return ha(da(t),e)}function lv(t,e){if(t!=null){if(sa(t))return iv(t,e);if(ia(t))return sv(t,e);if(oa(t))return ov(t,e);if(aa(t))return ha(t,e);if(ua(t))return av(t,e);if(fa(t))return cv(t,e)}throw ca(t)}function Q(t,e){return e?lv(t,e):X(t)}function b(...t){let e=Nt(t);return Q(t,e)}function Br(t,e){let n=A(t)?t:()=>t,r=i=>i.error(n());return new F(e?i=>e.schedule(r,0,i):r)}function Pu(t){return!!t&&(t instanceof F||A(t.lift)&&A(t.subscribe))}var Jt=Nr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function T(t,e){return R((n,r)=>{let i=0;n.subscribe(x(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:r0}=Array;function i0(t,e){return r0(e)?t(...e):t(e)}function pa(t){return T(e=>i0(t,e))}var{isArray:o0}=Array,{getPrototypeOf:s0,prototype:a0,keys:c0}=Object;function ga(t){if(t.length===1){let e=t[0];if(o0(e))return{args:e,keys:null};if(l0(e)){let n=c0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function l0(t){return t&&typeof t=="object"&&s0(t)===a0}function ma(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function to(...t){let e=Nt(t),n=Ur(t),{args:r,keys:i}=ga(t);if(r.length===0)return Q([],e);let o=new F(u0(r,e,i?s=>ma(i,s):be));return n?o.pipe(pa(n)):o}function u0(t,e,n=be){return r=>{uv(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)uv(e,()=>{let l=Q(t[c],e),u=!1;l.subscribe(x(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function uv(t,e,n){t?We(n,t,e):e()}function dv(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&e.next(y),l++;let _=!1;X(n(y,u++)).subscribe(x(e,D=>{i?.(D),o?h(D):e.next(D)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let D=c.shift();s?We(e,s,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(x(e,h,()=>{d=!0,f()})),()=>{a?.()}}function pe(t,e,n=1/0){return A(e)?pe((r,i)=>T((o,s)=>e(r,o,i,s))(X(t(r,i))),n):(typeof e=="number"&&(n=e),R((r,i)=>dv(r,i,t,n)))}function yn(t=1/0){return pe(be,t)}function fv(){return yn(1)}function $r(...t){return fv()(Q(t,Nt(t)))}function va(t){return new F(e=>{X(t()).subscribe(e)})}function Ou(...t){let e=Ur(t),{args:n,keys:r}=ga(t),i=new F(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;X(n[u]).subscribe(x(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?ma(r,a):a),o.complete())}))}});return e?i.pipe(pa(e)):i}function Hr(...t){let e=Nt(t),n=nv(t,1/0),r=t;return r.length?r.length===1?X(r[0]):yn(n)(Q(r,e)):He}function Ae(t,e){return R((n,r)=>{let i=0;n.subscribe(x(r,o=>t.call(e,o,i++)&&r.next(o)))})}function _n(t){return R((e,n)=>{let r=null,i=!1,o;r=e.subscribe(x(n,void 0,void 0,s=>{o=X(t(s,_n(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function hv(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(x(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function en(t,e){return A(e)?pe(t,e,1):pe(t,1)}function wn(t){return R((e,n)=>{let r=!1;e.subscribe(x(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tn(t){return t<=0?()=>He:R((e,n)=>{let r=0;e.subscribe(x(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ku(t){return T(()=>t)}function Fu(t,e=be){return t=t??d0,R((n,r)=>{let i,o=!0;n.subscribe(x(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function d0(t,e){return t===e}function ya(t=f0){return R((e,n)=>{let r=!1;e.subscribe(x(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function f0(){return new Jt}function Cn(t){return R((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ae((i,o)=>t(i,o,r)):be,tn(1),n?wn(e):ya(()=>new Jt))}function Wr(t){return t<=0?()=>He:R((e,n)=>{let r=[];e.subscribe(x(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Lu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ae((i,o)=>t(i,o,r)):be,Wr(1),n?wn(e):ya(()=>new Jt))}function Gr(t,e){return R(hv(t,e,arguments.length>=2,!0))}function no(t={}){let{connector:e=()=>new ve,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},p=()=>{let y=s;h(),y?.unsubscribe()};return R((y,_)=>{l++,!d&&!u&&f();let D=c=c??e();_.add(()=>{l--,l===0&&!d&&!u&&(a=Vu(p,i))}),D.subscribe(_),!s&&l>0&&(s=new Xt({next:k=>D.next(k),error:k=>{d=!0,f(),a=Vu(h,n,k),D.error(k)},complete:()=>{u=!0,f(),a=Vu(h,r),D.complete()}}),X(y).subscribe(s))})(o)}}function Vu(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Xt({next:()=>{r.unsubscribe(),t()}});return X(e(...n)).subscribe(r)}function _a(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,no({connector:()=>new ea(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ju(t){return R((e,n)=>{let r=!1,i=0;e.subscribe(x(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function Uu(...t){let e=Nt(t);return R((n,r)=>{(e?$r(t,n,e):$r(t,n)).subscribe(r)})}function te(t,e){return R((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(x(r,c=>{i?.unsubscribe();let l=0,u=o++;X(t(c,u)).subscribe(i=x(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function wa(t,e){return A(e)?te(()=>t,e):te(()=>t)}function Bu(t){return R((e,n)=>{X(t).subscribe(x(n,()=>n.complete(),Qn)),!n.closed&&e.subscribe(n)})}function ie(t,e,n){let r=A(t)||e||n?{next:t,error:e,complete:n}:t;return r?R((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(x(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):be}function $u(...t){let e=Ur(t);return R((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)X(t[c]).subscribe(x(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(be))&&(s=null))},Qn));n.subscribe(x(r,c=>{if(a){let l=[c,...o];r.next(e?e(...l):l)}}))})}var h0="https://g.co/ng/security#xss",I=class extends Error{constructor(e,n){super(Za(e,n)),this.code=e}};function Za(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function p0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Fe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Fe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function pv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var g0=J({__forward_ref__:J});function oi(t){return t.__forward_ref__=oi,t.toString=function(){return Fe(this())},t}function ke(t){return Kv(t)?t():t}function Kv(t){return typeof t=="function"&&t.hasOwnProperty(g0)&&t.__forward_ref__===oi}function Qv(t){return t&&!!t.\u0275providers}var m0=J({\u0275cmp:J}),v0=J({\u0275dir:J}),y0=J({\u0275pipe:J}),_0=J({\u0275mod:J}),xa=J({\u0275fac:J}),ro=J({__NG_ELEMENT_ID__:J}),gv=J({__NG_ENV_ID__:J});function Zv(t){return typeof t=="string"?t:t==null?"":String(t)}function w0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zv(t)}function C0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,`Circular dependency in DI detected for ${t}${n}`)}function Bd(t,e){throw new I(-201,!1)}function D0(t,e){t==null&&E0(e,t,null,"!=")}function E0(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function de(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xa(t){return mv(t,Jv)||mv(t,ey)}function Xv(t){return Xa(t)!==null}function mv(t,e){return t.hasOwnProperty(e)?t[e]:null}function I0(t){let e=t&&(t[Jv]||t[ey]);return e||null}function vv(t){return t&&(t.hasOwnProperty(yv)||t.hasOwnProperty(b0))?t[yv]:null}var Jv=J({\u0275prov:J}),yv=J({\u0275inj:J}),ey=J({ngInjectableDef:J}),b0=J({ngInjectorDef:J}),$=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),rd;function ty(){return rd}function Ge(t){let e=rd;return rd=t,e}function ny(t,e,n){let r=Xa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;Bd(t,"Injector")}var Ye=globalThis;var C=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var T0={},oo=T0,id="__NG_DI_FLAG__",Na="ngTempTokenPath",S0="ngTokenPath",A0=/\n/gm,M0="\u0275",_v="__source",Qr;function x0(){return Qr}function Dn(t){let e=Qr;return Qr=t,e}function N0(t,e=$.Default){if(Qr===void 0)throw new I(-203,!1);return Qr===null?ny(t,void 0,e):Qr.get(t,e&$.Optional?null:void 0,e)}function g(t,e=$.Default){return(ty()||N0)(ke(t),e)}function v(t,e=$.Default){return g(t,Ja(e))}function Ja(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function od(t){let e=[];for(let n=0;n<t.length;n++){let r=ke(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=$.Default;for(let s=0;s<r.length;s++){let a=r[s],c=R0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(g(i,o))}else e.push(g(r))}return e}function ry(t,e){return t[id]=e,t.prototype[id]=e,t}function R0(t){return t[id]}function P0(t,e,n,r){let i=t[Na];throw e[_v]&&i.unshift(e[_v]),t.message=O0(`
`+t.message,i,n,r),t[S0]=i,t[Na]=null,t}function O0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==M0?t.slice(2):t;let i=Fe(e);if(Array.isArray(e))i=e.map(Fe).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Fe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(A0,`
  `)}`}function vo(t){return{toString:t}.toString()}var iy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(iy||{}),Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ot||{}),Xr={},st=[],Ke=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ke||{});function oy(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function sd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];F0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function k0(t){return t===3||t===4||t===6}function F0(t){return t.charCodeAt(0)===64}function so(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wv(t,n,i,null,e[++r]):wv(t,n,i,null,null))}}return t}function wv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var sy="ng-template";function L0(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&oy(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function ay(t){return t.type===4&&t.value!==sy}function V0(t,e,n){let r=t.type===4&&!n?sy:t.value;return e===r}function j0(t,e,n){let r=4,i=t.attrs||[],o=$0(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ct(r)&&!Ct(c))return!1;if(s&&Ct(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!V0(t,c,n)||c===""&&e.length===1){if(Ct(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!L0(t.attrs,l,n)){if(Ct(r))return!1;s=!0}continue}let u=r&8?"class":c,d=U0(u,i,ay(t),n);if(d===-1){if(Ct(r))return!1;s=!0;continue}if(l!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&oy(h,l,0)!==-1||r&2&&l!==f){if(Ct(r))return!1;s=!0}}}}return Ct(r)||s}function Ct(t){return(t&1)===0}function U0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return H0(e,t)}function B0(t,e,n=!1){for(let r=0;r<e.length;r++)if(j0(t,e[r],n))return!0;return!1}function $0(t){for(let e=0;e<t.length;e++){let n=t[e];if(k0(n))return e}return t.length}function H0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Cv(t,e){return t?":not("+e.trim()+")":e}function W0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ct(s)&&(e+=Cv(o,i),i=""),r=s,o=o||!Ct(r);n++}return i!==""&&(e+=Cv(o,i)),e}function G0(t){return t.map(W0).join(",")}function z0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ct(i))break;i=o}r++}return{attrs:e,classes:n}}function jt(t){return vo(()=>{let e=hy(t),n=K(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===iy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});py(n);let r=t.dependencies;return n.directiveDefs=Ev(r,!1),n.pipeDefs=Ev(r,!0),n.id=K0(n),n})}function q0(t){return In(t)||ly(t)}function Y0(t){return t!==null}function fe(t){return vo(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Dv(t,e){if(t==null)return Xr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ke.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ke.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Qe(t){return vo(()=>{let e=hy(t);return py(e),e})}function cy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function In(t){return t[m0]||null}function ly(t){return t[v0]||null}function uy(t){return t[y0]||null}function dy(t){let e=In(t)||ly(t)||uy(t);return e!==null?e.standalone:!1}function fy(t,e){let n=t[_0]||null;if(!n&&e===!0)throw new Error(`Type ${Fe(t)} does not have '\u0275mod' property.`);return n}function hy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dv(t.inputs,e),outputs:Dv(t.outputs),debugInfo:null}}function py(t){t.features?.forEach(e=>e(t))}function Ev(t,e){if(!t)return null;let n=e?uy:q0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Y0)}function K0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var on=0,W=1,M=2,Me=3,Dt=4,It=5,Ra=6,ao=7,Et=8,Jr=9,bn=10,xe=11,co=12,Iv=13,si=14,kt=15,ec=16,zr=17,lo=18,tc=19,gy=20,En=21,Hu=22,tr=23,Ft=25,my=1;var nr=7,Pa=8,Oa=9,at=10,$d=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}($d||{});function Jn(t){return Array.isArray(t)&&typeof t[my]=="object"}function sn(t){return Array.isArray(t)&&t[my]===!0}function vy(t){return(t.flags&4)!==0}function nc(t){return t.componentOffset>-1}function Hd(t){return(t.flags&1)===1}function Tn(t){return!!t.template}function Q0(t){return(t[M]&512)!==0}function rr(t,e){let n=t.hasOwnProperty(xa);return n?t[xa]:null}var ad=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function yy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function lr(){return _y}function _y(t){return t.type.prototype.ngOnChanges&&(t.setInput=X0),Z0}lr.ngInherit=!0;function Z0(){let t=Cy(this),e=t?.current;if(e){let n=t.previous;if(n===Xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function X0(t,e,n,r,i){let o=this.declaredInputs[r],s=Cy(t)||J0(t,{previous:Xr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ad(l&&l.currentValue,n,c===Xr),yy(t,e,i,n)}var wy="__ngSimpleChanges__";function Cy(t){return t[wy]||null}function J0(t,e){return t[wy]=e}var bv=null;var Rt=function(t,e,n){bv?.(t,e,n)},Dy="svg",eT="math",tT=!1;function nT(){return tT}function Lt(t){for(;Array.isArray(t);)t=t[on];return t}function Ey(t,e){return Lt(e[t])}function bt(t,e){return Lt(e[t.index])}function Iy(t,e){return t.data[e]}function rT(t,e){return t[e]}function An(t,e){let n=e[t];return Jn(n)?n:n[on]}function Wd(t){return(t[M]&128)===128}function iT(t){return sn(t[Me])}function ka(t,e){return e==null?null:t[e]}function by(t){t[zr]=0}function oT(t){t[M]&1024||(t[M]|=1024,Wd(t)&&uo(t))}function sT(t,e){for(;t>0;)e=e[si],t--;return e}function Ty(t){return t[M]&9216||t[tr]?.dirty}function cd(t){Ty(t)?uo(t):t[M]&64&&(nT()?(t[M]|=1024,uo(t)):t[bn].changeDetectionScheduler?.notify())}function uo(t){t[bn].changeDetectionScheduler?.notify();let e=fo(t);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!Wd(e)));)e=fo(e)}function Sy(t,e){if((t[M]&256)===256)throw new I(911,!1);t[En]===null&&(t[En]=[]),t[En].push(e)}function aT(t,e){if(t[En]===null)return;let n=t[En].indexOf(e);n!==-1&&t[En].splice(n,1)}function fo(t){let e=t[Me];return sn(e)?e[Me]:e}var L={lFrame:Ly(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cT(){return L.lFrame.elementDepthCount}function lT(){L.lFrame.elementDepthCount++}function uT(){L.lFrame.elementDepthCount--}function Ay(){return L.bindingsEnabled}function dT(){return L.skipHydrationRootTNode!==null}function fT(t){return L.skipHydrationRootTNode===t}function hT(){L.skipHydrationRootTNode=null}function se(){return L.lFrame.lView}function Tt(){return L.lFrame.tView}function My(t){return L.lFrame.contextLView=t,t[Et]}function xy(t){return L.lFrame.contextLView=null,t}function ct(){let t=Ny();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ny(){return L.lFrame.currentTNode}function pT(){let t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function yo(t,e){let n=L.lFrame;n.currentTNode=t,n.isParent=e}function Ry(){return L.lFrame.isParent}function gT(){L.lFrame.isParent=!1}function mT(){let t=L.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vT(t){return L.lFrame.bindingIndex=t}function Py(){return L.lFrame.bindingIndex++}function yT(t){let e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _T(){return L.lFrame.inI18n}function wT(t,e){let n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,ld(e)}function CT(){return L.lFrame.currentDirectiveIndex}function ld(t){L.lFrame.currentDirectiveIndex=t}function DT(t){let e=L.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Oy(t){L.lFrame.currentQueryIndex=t}function ET(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[It]:null}function ky(t,e,n){if(n&$.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&$.Host);)if(i=ET(o),i===null||(o=o[si],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=L.lFrame=Fy();return r.currentTNode=e,r.lView=t,!0}function Gd(t){let e=Fy(),n=t[W];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Fy(){let t=L.lFrame,e=t===null?null:t.child;return e===null?Ly(t):e}function Ly(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Vy(){let t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var jy=Vy;function zd(){let t=Vy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IT(t){return(L.lFrame.contextLView=sT(t,L.lFrame.contextLView))[Et]}function ai(){return L.lFrame.selectedIndex}function ir(t){L.lFrame.selectedIndex=t}function bT(){let t=L.lFrame;return Iy(t.tView,t.selectedIndex)}function Uy(){L.lFrame.currentNamespace=Dy}function By(){TT()}function TT(){L.lFrame.currentNamespace=null}function ST(){return L.lFrame.currentNamespace}var $y=!0;function qd(){return $y}function Yd(t){$y=t}function AT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=_y(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Kd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function ba(t,e,n){Hy(t,e,3,n)}function Ta(t,e,n,r){(t[M]&3)===n&&Hy(t,e,n,r)}function Wu(t,e){let n=t[M];(n&3)===e&&(n&=16383,n+=1,t[M]=n)}function Hy(t,e,n,r){let i=r!==void 0?t[zr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[zr]+=65536),(a<o||o==-1)&&(MT(t,n,e,c),t[zr]=(t[zr]&4294901760)+c+2),c++}function Tv(t,e){Rt(4,t,e);let n=Oe(null);try{e.call(t)}finally{Oe(n),Rt(5,t,e)}}function MT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[M]>>14<t[zr]>>16&&(t[M]&3)===e&&(t[M]+=16384,Tv(a,o)):Tv(a,o)}var Zr=-1,or=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function xT(t){return t instanceof or}function NT(t){return(t.flags&8)!==0}function RT(t){return(t.flags&16)!==0}function Wy(t){return t!==Zr}function Fa(t){return t&32767}function PT(t){return t>>16}function La(t,e){let n=PT(t),r=e;for(;n>0;)r=r[si],n--;return r}var ud=!0;function Va(t){let e=ud;return ud=t,e}var OT=256,Gy=OT-1,zy=5,kT=0,Pt={};function FT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ro)&&(r=n[ro]),r==null&&(r=n[ro]=kT++);let i=r&Gy,o=1<<i;e.data[t+(i>>zy)]|=o}function ja(t,e){let n=qy(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,Gu(r.data,t),Gu(e,null),Gu(r.blueprint,null));let i=Qd(t,e),o=t.injectorIndex;if(Wy(i)){let s=Fa(i),a=La(i,e),c=a[W].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Gu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qy(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Xy(i),r===null)return Zr;if(n++,i=i[si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Zr}function dd(t,e,n){FT(t,e,n)}function Yy(t,e,n){if(n&$.Optional||t!==void 0)return t;Bd(e,"NodeInjector")}function Ky(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let i=t[Jr],o=Ge(void 0);try{return i?i.get(e,r,n&$.Optional):ny(e,r,n&$.Optional)}finally{Ge(o)}}return Yy(r,e,n)}function Qy(t,e,n,r=$.Default,i){if(t!==null){if(e[M]&2048&&!(r&$.Self)){let s=BT(t,e,n,r,Pt);if(s!==Pt)return s}let o=Zy(t,e,n,r,Pt);if(o!==Pt)return o}return Ky(e,n,r,i)}function Zy(t,e,n,r,i){let o=jT(n);if(typeof o=="function"){if(!ky(e,t,r))return r&$.Host?Yy(i,n,r):Ky(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&$.Optional))Bd(n);else return s}finally{jy()}}else if(typeof o=="number"){let s=null,a=qy(t,e),c=Zr,l=r&$.Host?e[kt][It]:null;for((a===-1||r&$.SkipSelf)&&(c=a===-1?Qd(t,e):e[a+8],c===Zr||!Av(r,!1)?a=-1:(s=e[W],a=Fa(c),e=La(c,e)));a!==-1;){let u=e[W];if(Sv(o,a,u.data)){let d=LT(a,e,n,s,r,l);if(d!==Pt)return d}c=e[a+8],c!==Zr&&Av(r,e[W].data[a+8]===l)&&Sv(o,a,e)?(s=u,a=Fa(c),e=La(c,e)):a=-1}}return i}function LT(t,e,n,r,i,o){let s=e[W],a=s.data[t+8],c=r==null?nc(a)&&ud:r!=s&&(a.type&3)!==0,l=i&$.Host&&o===a,u=VT(a,s,n,c,l);return u!==null?ei(e,s,u,a):Pt}function VT(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Tn(h)&&h.type===n)return c}return null}function ei(t,e,n,r){let i=t[n],o=e.data;if(xT(i)){let s=i;s.resolving&&C0(w0(o[n]));let a=Va(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ge(s.injectImpl):null,u=ky(t,r,$.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&AT(n,o[n],e)}finally{l!==null&&Ge(l),Va(a),s.resolving=!1,jy()}}return i}function jT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ro)?t[ro]:void 0;return typeof e=="number"?e>=0?e&Gy:UT:e}function Sv(t,e,n){let r=1<<t;return!!(n[e+(t>>zy)]&r)}function Av(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var er=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qy(this._tNode,this._lView,e,Ja(r),n)}};function UT(){return new er(ct(),se())}function _o(t){return vo(()=>{let e=t.prototype.constructor,n=e[xa]||fd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xa]||fd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fd(t){return Kv(t)?()=>{let e=fd(ke(t));return e&&e()}:rr(t)}function BT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[M]&2048&&!(s[M]&512);){let a=Zy(o,s,n,r|$.Self,Pt);if(a!==Pt)return a;let c=o.parent;if(!c){let l=s[gy];if(l){let u=l.get(n,Pt,r);if(u!==Pt)return u}c=Xy(s),s=s[si]}o=c}return i}function Xy(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[It]:null}var Ca="__parameters__";function $T(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Jy(t,e,n){return vo(()=>{let r=$T(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ca)?c[Ca]:Object.defineProperty(c,Ca,{value:[]})[Ca];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function HT(t){let e=Ye.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function WT(t){return typeof t=="function"}function Zd(t,e){t.forEach(n=>Array.isArray(n)?Zd(n,e):e(n))}function e_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ua(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function GT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function zT(t,e,n){let r=wo(t,e);return r>=0?t[r|1]=n:(r=~r,GT(t,r,e,n)),r}function zu(t,e){let n=wo(t,e);if(n>=0)return t[n|1]}function wo(t,e){return qT(t,e,1)}function qT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Co=ry(Jy("Optional"),8);var t_=ry(Jy("SkipSelf"),4);function YT(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(XT))}return o}return Ba.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>JT(o));e.push(c)}),QT(),Promise.all(e).then(()=>{})}var Ba=new Map,KT=new Set;function QT(){let t=Ba;return Ba=new Map,t}function ZT(){return Ba.size===0}function XT(t){return typeof t=="string"?t:t.text()}function JT(t){KT.delete(t)}var ti=new C("ENVIRONMENT_INITIALIZER"),n_=new C("INJECTOR",-1),r_=new C("INJECTOR_DEF_TYPES"),$a=class{get(e,n=oo){if(n===oo){let r=new Error(`NullInjectorError: No provider for ${Fe(e)}!`);throw r.name="NullInjectorError",r}return n}};function rc(t){return{\u0275providers:t}}function eS(...t){return{\u0275providers:i_(!0,t),\u0275fromNgModule:!0}}function i_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Zd(e,s=>{let a=s;hd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&o_(i,o),n}function o_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Xd(i,o=>{e(o,r)})}}function hd(t,e,n,r){if(t=ke(t),!t)return!1;let i=null,o=vv(t),s=!o&&In(t);if(!o&&!s){let c=t.ngModule;if(o=vv(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)hd(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Zd(o.imports,u=>{hd(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&o_(l,e)}if(!a){let l=rr(i)||(()=>new i);e({provide:i,useFactory:l,deps:st},i),e({provide:r_,useValue:i,multi:!0},i),e({provide:ti,useValue:()=>g(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Xd(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Xd(t,e){for(let n of t)Qv(n)&&(n=n.\u0275providers),Array.isArray(n)?Xd(n,e):e(n)}var tS=J({provide:String,useValue:J});function s_(t){return t!==null&&typeof t=="object"&&tS in t}function nS(t){return!!(t&&t.useExisting)}function rS(t){return!!(t&&t.useFactory)}function ni(t){return typeof t=="function"}function iS(t){return!!t.useClass}var ic=new C("Set Injector scope."),Sa={},oS={},qu;function Jd(){return qu===void 0&&(qu=new $a),qu}var Le=class{},ho=class extends Le{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gd(e,s=>this.processProvider(s)),this.records.set(n_,qr(void 0,this)),i.has("environment")&&this.records.set(Le,qr(void 0,this));let o=this.records.get(ic);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(r_,st,$.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Dn(this),r=Ge(void 0),i;try{return e()}finally{Dn(n),Ge(r)}}get(e,n=oo,r=$.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gv))return e[gv](this);r=Ja(r);let i,o=Dn(this),s=Ge(void 0);try{if(!(r&$.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=uS(e)&&Xa(e);l&&this.injectableDefInScope(l)?c=qr(pd(e),Sa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$.Self?Jd():this.parent;return n=r&$.Optional&&n===oo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Na]=a[Na]||[]).unshift(Fe(e)),o)throw a;return P0(a,e,"R3InjectorError",this.source)}else throw a}finally{Ge(s),Dn(o)}}resolveInjectorInitializers(){let e=Dn(this),n=Ge(void 0),r;try{let i=this.get(ti,st,$.Self);for(let o of i)o()}finally{Dn(e),Ge(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Fe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=ke(e);let n=ni(e)?e:ke(e&&e.provide),r=aS(e);if(!ni(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qr(void 0,Sa,!0),i.factory=()=>od(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Sa&&(n.value=oS,n.value=n.factory()),typeof n.value=="object"&&n.value&&lS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ke(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pd(t){let e=Xa(t),n=e!==null?e.factory:rr(t);if(n!==null)return n;if(t instanceof C)throw new I(204,!1);if(t instanceof Function)return sS(t);throw new I(204,!1)}function sS(t){if(t.length>0)throw new I(204,!1);let n=I0(t);return n!==null?()=>n.factory(t):()=>new t}function aS(t){if(s_(t))return qr(void 0,t.useValue);{let e=a_(t);return qr(e,Sa)}}function a_(t,e,n){let r;if(ni(t)){let i=ke(t);return rr(i)||pd(i)}else if(s_(t))r=()=>ke(t.useValue);else if(rS(t))r=()=>t.useFactory(...od(t.deps||[]));else if(nS(t))r=()=>g(ke(t.useExisting));else{let i=ke(t&&(t.useClass||t.provide));if(cS(t))r=()=>new i(...od(t.deps));else return rr(i)||pd(i)}return r}function qr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cS(t){return!!t.deps}function lS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uS(t){return typeof t=="function"||typeof t=="object"&&t instanceof C}function gd(t,e){for(let n of t)Array.isArray(n)?gd(n,e):n&&Qv(n)?gd(n.\u0275providers,e):e(n)}function Ut(t,e){t instanceof ho&&t.assertNotDestroyed();let n,r=Dn(t),i=Ge(void 0);try{return e()}finally{Dn(r),Ge(i)}}function dS(t){if(!ty()&&!x0())throw new I(-203,!1)}function Mv(t,e=null,n=null,r){let i=c_(t,e,n,r);return i.resolveInjectorInitializers(),i}function c_(t,e=null,n=null,r,i=new Set){let o=[n||st,eS(t)];return r=r||(typeof t=="object"?void 0:Fe(t)),new ho(o,e||Jd(),r||null,i)}var lt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Mv({name:""},i,r,"");{let o=r.name??"";return Mv({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=oo,e.NULL=new $a,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>g(n_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var md;function l_(t){md=t}function fS(){if(md!==void 0)return md;if(typeof document<"u")return document;throw new I(210,!1)}var oc=new C("AppId",{providedIn:"root",factory:()=>hS}),hS="ng",ef=new C("Platform Initializer"),Ne=new C("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var tf=new C("CSP nonce",{providedIn:"root",factory:()=>fS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function u_(t){return t instanceof Function?t():t}function pS(t){return(t??v(lt)).get(Ne)==="browser"}function d_(t){return(t.flags&128)===128}var nn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(nn||{});var f_=new Map,gS=0;function mS(){return gS++}function vS(t){f_.set(t[tc],t)}function yS(t){f_.delete(t[tc])}var xv="__ngContext__";function sr(t,e){Jn(e)?(t[xv]=e[tc],vS(e)):t[xv]=e}var _S;function nf(t,e){return _S(t,e)}function Yr(t,e,n,r,i){if(r!=null){let o,s=!1;sn(r)?o=r:Jn(r)&&(s=!0,r=r[on]);let a=Lt(r);t===0&&n!==null?i==null?v_(e,n,a):Ha(e,n,a,i||null,!0):t===1&&n!==null?Ha(e,n,a,i||null,!0):t===2?FS(e,a,s):t===3&&e.destroyNode(a),o!=null&&VS(e,t,o,n,i)}}function wS(t,e){return t.createText(e)}function CS(t,e,n){t.setValue(e,n)}function h_(t,e,n){return t.createElement(e,n)}function DS(t,e){p_(t,e),e[on]=null,e[It]=null}function ES(t,e,n,r,i,o){r[on]=i,r[It]=e,sc(t,r,n,1,i,o)}function p_(t,e){sc(t,e,e[xe],2,null,null)}function IS(t){let e=t[co];if(!e)return Yu(t[W],t);for(;e;){let n=null;if(Jn(e))n=e[co];else{let r=e[at];r&&(n=r)}if(!n){for(;e&&!e[Dt]&&e!==t;)Jn(e)&&Yu(e[W],e),e=e[Me];e===null&&(e=t),Jn(e)&&Yu(e[W],e),n=e&&e[Dt]}e=n}}function bS(t,e,n,r){let i=at+r,o=n.length;r>0&&(n[i-1][Dt]=e),r<o-at?(e[Dt]=n[i],e_(n,at+r,e)):(n.push(e),e[Dt]=null),e[Me]=n;let s=e[ec];s!==null&&n!==s&&TS(s,e);let a=e[lo];a!==null&&a.insertView(t),cd(e),e[M]|=128}function TS(t,e){let n=t[Oa],i=e[Me][Me][kt];e[kt]!==i&&(t[M]|=$d.HasTransplantedViews),n===null?t[Oa]=[e]:n.push(e)}function g_(t,e){let n=t[Oa],r=n.indexOf(e);n.splice(r,1)}function vd(t,e){if(t.length<=at)return;let n=at+e,r=t[n];if(r){let i=r[ec];i!==null&&i!==t&&g_(i,r),e>0&&(t[n-1][Dt]=r[Dt]);let o=Ua(t,at+e);DS(r[W],r);let s=o[lo];s!==null&&s.detachView(o[W]),r[Me]=null,r[Dt]=null,r[M]&=-129}return r}function m_(t,e){if(!(e[M]&256)){let n=e[xe];n.destroyNode&&sc(t,e,n,3,null,null),IS(e)}}function Yu(t,e){if(!(e[M]&256)){e[M]&=-129,e[M]|=256,e[tr]&&zm(e[tr]),AS(t,e),SS(t,e),e[W].type===1&&e[xe].destroy();let n=e[ec];if(n!==null&&sn(e[Me])){n!==e[Me]&&g_(n,e);let r=e[lo];r!==null&&r.detachView(t)}yS(e)}}function SS(t,e){let n=t.cleanup,r=e[ao];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ao]=null);let i=e[En];if(i!==null){e[En]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function AS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof or)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Rt(4,a,c);try{c.call(a)}finally{Rt(5,a,c)}}else{Rt(4,i,o);try{o.call(i)}finally{Rt(5,i,o)}}}}}function MS(t,e,n){return xS(t,e.parent,n)}function xS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[on];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ot.None||o===Ot.Emulated)return null}return bt(r,n)}}function Ha(t,e,n,r,i){t.insertBefore(e,n,r,i)}function v_(t,e,n){t.appendChild(e,n)}function Nv(t,e,n,r,i){r!==null?Ha(t,e,n,r,i):v_(t,e,n)}function NS(t,e,n,r){t.removeChild(e,n,r)}function rf(t,e){return t.parentNode(e)}function RS(t,e){return t.nextSibling(e)}function PS(t,e,n){return kS(t,e,n)}function OS(t,e,n){return t.type&40?bt(t,n):null}var kS=OS,Rv;function of(t,e,n,r){let i=MS(t,r,e),o=e[xe],s=r.parent||e[It],a=PS(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Nv(o,i,n[c],a,!1);else Nv(o,i,n,a,!1);Rv!==void 0&&Rv(o,r,e,n,i)}function Aa(t,e){if(e!==null){let n=e.type;if(n&3)return bt(e,t);if(n&4)return yd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Aa(t,r);{let i=t[e.index];return sn(i)?yd(-1,i):Lt(i)}}else{if(n&32)return nf(e,t)()||Lt(t[e.index]);{let r=y_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fo(t[kt]);return Aa(i,r)}else return Aa(t,e.next)}}}return null}function y_(t,e){if(e!==null){let r=t[kt][It],i=e.projection;return r.projection[i]}return null}function yd(t,e){let n=at+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return Aa(r,i)}return e[nr]}function FS(t,e,n){let r=rf(t,e);r&&NS(t,r,e,n)}function sf(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&sr(Lt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)sf(t,e,n.child,r,i,o,!1),Yr(e,t,i,a,o);else if(c&32){let l=nf(n,r),u;for(;u=l();)Yr(e,t,i,u,o);Yr(e,t,i,a,o)}else c&16?LS(t,e,r,n,i,o):Yr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function sc(t,e,n,r,i,o){sf(n,r,t.firstChild,e,i,o,!1)}function LS(t,e,n,r,i,o){let s=n[kt],c=s[It].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Yr(e,t,i,u,o)}else{let l=c,u=s[Me];d_(r)&&(l.flags|=128),sf(t,e,l,u,i,o,!0)}}function VS(t,e,n,r,i){let o=n[nr],s=Lt(n);o!==s&&Yr(e,t,r,o,i);for(let a=at;a<n.length;a++){let c=n[a];sc(c[W],c,t,e,r,o)}}function jS(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:nn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=nn.Important),t.setStyle(n,r,i,o))}}function US(t,e,n){t.setAttribute(e,"style",n)}function __(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function w_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&sd(t,e,r),i!==null&&__(t,e,i),o!==null&&US(t,e,o)}var _d=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${h0})`}};function af(t){return t instanceof _d?t.changingThisBreaksApplicationSecurity:t}var wd=class{};var BS="h",$S="b";var HS=()=>null;function cf(t,e,n=!1){return HS(t,e,n)}var Cd=class{},Wa=class{};function WS(t){let e=Error(`No component factory found for ${Fe(t)}.`);return e[GS]=t,e}var GS="ngComponent";var Dd=class{resolveComponentFactory(e){throw WS(e)}},ac=(()=>{let e=class e{};e.NULL=new Dd;let t=e;return t})();function zS(){return cc(ct(),se())}function cc(t,e){return new ur(bt(t,e))}var ur=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=zS;let t=e;return t})();var po=class{},ci=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>qS();let t=e;return t})();function qS(){let t=se(),e=ct(),n=An(e.index,t);return(Jn(n)?n:t)[xe]}var YS=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ku={};function lf(t){let e=Oe(null);try{return t()}finally{Oe(e)}}function Ga(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Lt(o)),sn(o)&&KS(o,r);let s=n.type;if(s&8)Ga(t,e,n.child,r);else if(s&32){let a=nf(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=y_(e,n);if(Array.isArray(a))r.push(...a);else{let c=fo(e[kt]);Ga(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KS(t,e){for(let n=at;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&Ga(r[W],r,i,e)}t[nr]!==t[on]&&e.push(t[nr])}var C_=[];function QS(t){return t[tr]??ZS(t)}function ZS(t){let e=C_.pop()??Object.create(JS);return e.lView=t,e}function XS(t){t.lView[tr]!==t&&(t.lView=null,C_.push(t))}var JS=K(w({},Hm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{uo(t.lView)},consumerOnSignalRead(){this.lView[tr]=this}});function D_(t){return I_(t[co])}function E_(t){return I_(t[Dt])}function I_(t){for(;t!==null&&!sn(t);)t=t[Dt];return t}var eA="ngOriginalError";function Qu(t){return t[eA]}var Vt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qu(e);for(;n&&Qu(n);)n=Qu(n);return n||null}},b_=new C("",{providedIn:"root",factory:()=>v(Vt).handleError.bind(void 0)});var T_=!1,tA=new C("",{providedIn:"root",factory:()=>T_});var dr={};function Bt(t=1){S_(Tt(),se(),ai()+t,!1)}function S_(t,e,n,r){if(!r)if((e[M]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ba(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ta(e,o,0,n)}ir(n)}function z(t,e=$.Default){let n=se();if(n===null)return g(t,e);let r=ct();return Qy(r,n,ke(t),e)}function A_(){let t="invalid";throw new Error(t)}function M_(t,e,n,r,i,o){let s=Oe(null);try{let a=null;i&Ke.SignalBased&&(a=e[r][$m]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ke.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):yy(e,a,r,o)}finally{Oe(s)}}function nA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ir(~i);else{let o=i,s=n[++r],a=n[++r];wT(s,o);let c=e[o];a(2,c)}}}finally{ir(-1)}}function lc(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[on]=i,d[M]=r|4|128|8|64,(l!==null||t&&t[M]&2048)&&(d[M]|=2048),by(d),d[Me]=d[si]=t,d[Et]=n,d[bn]=s||t&&t[bn],d[xe]=a||t&&t[xe],d[Jr]=c||t&&t[Jr]||null,d[It]=o,d[tc]=mS(),d[Ra]=u,d[gy]=l,d[kt]=e.type==2?t[kt]:d,d}function uc(t,e,n,r,i){let o=t.data[e];if(o===null)o=rA(t,e,n,r,i),_T()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=pT();o.injectorIndex=s===null?-1:s.injectorIndex}return yo(o,!0),o}function rA(t,e,n,r,i){let o=Ny(),s=Ry(),a=s?o:o&&o.parent,c=t.data[e]=cA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function x_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function N_(t,e,n,r,i){let o=ai(),s=r&2;try{ir(-1),s&&e.length>Ft&&S_(t,e,Ft,!1),Rt(s?2:0,i),n(r,i)}finally{ir(o),Rt(s?3:1,i)}}function R_(t,e,n){if(vy(e)){let r=Oe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Oe(r)}}}function P_(t,e,n){Ay()&&(gA(t,e,n,bt(n,e)),(n.flags&64)===64&&V_(t,e,n))}function O_(t,e,n=bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function k_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=uf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function uf(t,e,n,r,i,o,s,a,c,l,u){let d=Ft+r,f=d+i,h=iA(d,f),p=typeof l=="function"?l():l;return h[W]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function iA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:dr);return n}function oA(t,e,n,r){let o=r.get(tA,T_)||n===Ot.ShadowDom,s=t.selectRootElement(e,o);return sA(s),s}function sA(t){aA(t)}var aA=()=>null;function cA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return dT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Pv(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Ke.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Ov(r,n,l,a,c):Ov(r,n,l,a)}return r}function Ov(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function lA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=Pv(0,d.inputs,u,c,h),l=Pv(1,d.outputs,u,l,p);let y=c!==null&&s!==null&&!ay(e)?IA(c,u,s):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function uA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function dA(t,e,n,r,i,o,s,a){let c=bt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(df(t,n,u,r,i),nc(e)&&fA(n,e.index)):e.type&3?(r=uA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function fA(t,e){let n=An(e,t);n[M]&16||(n[M]|=64)}function F_(t,e,n,r){if(Ay()){let i=r===null?null:{"":-1},o=vA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&L_(t,e,n,s,i,a),i&&yA(n,r,i)}n.mergedAttrs=so(n.mergedAttrs,n.attrs)}function L_(t,e,n,r,i,o){for(let l=0;l<r.length;l++)dd(ja(n,e),t,r[l].type);wA(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=x_(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=so(n.mergedAttrs,u.hostAttrs),CA(t,n,e,c,u),_A(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}lA(t,n,o)}function hA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;pA(s)!=a&&s.push(a),s.push(n,r,o)}}function pA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function gA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;nc(n)&&DA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ja(n,e),sr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=ei(e,t,a,n);if(sr(l,e),s!==null&&EA(e,a-i,l,c,n,s),Tn(c)){let u=An(n.index,e);u[Et]=ei(e,t,a,n)}}}function V_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=CT();try{ir(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];ld(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mA(c,l)}}finally{ir(-1),ld(s)}}function mA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function vA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(B0(e,s.selectors,!1))if(r||(r=[]),Tn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Ed(t,e,c)}else r.unshift(s),Ed(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Ed(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function _A(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function wA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=rr(i.type,!0)),s=new or(o,Tn(i),z);t.blueprint[r]=s,n[r]=s,hA(t,e,r,x_(t,n,i.hostVars,dr),i)}function DA(t,e,n){let r=bt(e,t),i=k_(n),o=t[bn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=dc(t,lc(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function EA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];M_(r,n,c,l,u,d)}}function IA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function j_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function U_(t,e){let n=t.contentQueries;if(n!==null){let r=Oe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Oy(o),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}function dc(t,e){return t[co]?t[Iv][Dt]=e:t[co]=e,t[Iv]=e,e}function Id(t,e,n){Oy(0);let r=Oe(null);try{e(t,n)}finally{Oe(r)}}function bA(t){return t[ao]||(t[ao]=[])}function TA(t){return t.cleanup||(t.cleanup=[])}function B_(t,e){let n=t[Jr],r=n?n.get(Vt,null):null;r&&r.handleError(e)}function df(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];M_(u,l,r,a,c,i)}}function SA(t,e,n){let r=Ey(e,t);CS(t[xe],r,n)}var AA=100;function MA(t,e=!0){let n=t[bn],r=n.rendererFactory,i=!1;i||r.begin?.();try{xA(t)}catch(o){throw e&&B_(t,o),o}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function xA(t){bd(t,0);let e=0;for(;Ty(t);){if(e===AA)throw new I(103,!1);e++,bd(t,1)}}function NA(t,e,n,r){let i=e[M];if((i&256)===256)return;let o=!1;!o&&e[bn].inlineEffectRunner?.flush(),Gd(e);let s=null,a=null;!o&&RA(t)&&(a=QS(e),s=Wm(a));try{by(e),vT(t.bindingStartIndex),n!==null&&N_(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&ba(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ta(e,d,0,null),Wu(e,0)}if(PA(e),$_(e,0),t.contentQueries!==null&&U_(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&ba(e,d)}else{let d=t.contentHooks;d!==null&&Ta(e,d,1),Wu(e,1)}nA(t,e);let l=t.components;l!==null&&W_(e,l,0);let u=t.viewQuery;if(u!==null&&Id(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&ba(e,d)}else{let d=t.viewHooks;d!==null&&Ta(e,d,2),Wu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hu]){for(let d of e[Hu])d();e[Hu]=null}o||(e[M]&=-73)}catch(c){throw uo(e),c}finally{a!==null&&(Gm(a,s),XS(a)),zd()}}function RA(t){return t.type!==2}function $_(t,e){for(let n=D_(t);n!==null;n=E_(n))for(let r=at;r<n.length;r++){let i=n[r];H_(i,e)}}function PA(t){for(let e=D_(t);e!==null;e=E_(e)){if(!(e[M]&$d.HasTransplantedViews))continue;let n=e[Oa];for(let r=0;r<n.length;r++){let i=n[r],o=i[Me];oT(i)}}}function OA(t,e,n){let r=An(e,t);H_(r,n)}function H_(t,e){Wd(t)&&bd(t,e)}function bd(t,e){let r=t[W],i=t[M],o=t[tr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&_u(o)),o&&(o.dirty=!1),t[M]&=-9217,s)NA(r,t,r.template,t[Et]);else if(i&8192){$_(t,1);let a=r.components;a!==null&&W_(t,a,1)}}function W_(t,e,n){for(let r=0;r<e.length;r++)OA(t,e[r],n)}function ff(t){for(t[bn].changeDetectionScheduler?.notify();t;){t[M]|=64;let e=fo(t);if(Q0(t)&&!e)return t;t=e}return null}var ar=class{get rootNodes(){let e=this._lView,n=e[W];return Ga(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Et]}set context(e){this._lView[Et]=e}get destroyed(){return(this._lView[M]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Me];if(sn(e)){let n=e[Pa],r=n?n.indexOf(this):-1;r>-1&&(vd(e,r),Ua(n,r))}this._attachedToViewContainer=!1}m_(this._lView[W],this._lView)}onDestroy(e){Sy(this._lView,e)}markForCheck(){ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){cd(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,MA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,p_(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e,cd(this._lView)}},li=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kA;let t=e;return t})();function kA(t){return FA(ct(),se(),(t&16)===16)}function FA(t,e,n){if(nc(t)&&!n){let r=An(t.index,e);return new ar(r,r)}else if(t.type&47){let r=e[kt];return new ar(r,e)}return null}var G_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Td=class extends G_{constructor(e){super(),this._lView=e}onDestroy(e){return Sy(this._lView,e),()=>aT(this._lView,e)}};function LA(){return new Td(se())}var kv=new Set;function fc(t){kv.has(t)||(kv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Sd=class extends ve{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Zu(o),i&&(i=Zu(i)),s&&(s=Zu(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ue&&e.add(a),a}};function Zu(t){return e=>{setTimeout(t,void 0,e)}}var ge=Sd;function Fv(...t){}function VA(){let t=typeof Ye.requestAnimationFrame=="function",e=Ye[t?"requestAnimationFrame":"setTimeout"],n=Ye[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var G=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=VA().nativeRequestAnimationFrame,BA(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jA,Fv,Fv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},jA={};function hf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function UA(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ye,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ad(t),t.isCheckStableRunning=!0,hf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ad(t))}function BA(t){let e=()=>{UA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if($A(a))return n.invokeTask(i,o,s,a);try{return Lv(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Vv(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Lv(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Vv(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ad(t),hf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ad(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Lv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vv(t){t._nesting--,hf(t)}var Md=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ge,this.onMicrotaskEmpty=new ge,this.onStable=new ge,this.onError=new ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function $A(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function HA(t="zone.js",e){return t==="noop"?new Md:t==="zone.js"?new G(e):t}var Kr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Kr||{}),WA={destroy(){}};function pf(t,e){!e&&dS(pf);let n=e?.injector??v(lt);if(!pS(n))return WA;fc("NgAfterNextRender");let r=n.get(gf),i=r.handler??=new Nd,o=e?.phase??Kr.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(G_).onDestroy(s),c=new xd(n,o,()=>{s(),t()});return i.register(c),{destroy:s}}var xd=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(G),this.errorHandler=e.get(Vt,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Nd=class{constructor(){this.executingCallbacks=!1,this.buckets={[Kr.EarlyRead]:new Set,[Kr.Write]:new Set,[Kr.MixedReadWrite]:new Set,[Kr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},gf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function GA(t,e){let n=An(e,t),r=n[W];zA(r,n);let i=n[on];i!==null&&n[Ra]===null&&(n[Ra]=cf(i,n[Jr])),mf(r,n,n[Et])}function zA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mf(t,e,n){Gd(e);try{let r=t.viewQuery;r!==null&&Id(1,r,n);let i=t.template;i!==null&&N_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&U_(t,e),t.staticViewQueries&&Id(2,t.viewQuery,n);let o=t.components;o!==null&&qA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[M]&=-5,zd()}}function qA(t,e){for(let n=0;n<e.length;n++)GA(t,e[n])}function Rd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=pv(i,a);else if(o==2){let c=a,l=e[++s];r=pv(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var za=class extends ac{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=In(e);return new ri(n,this.ngModule)}};function jv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function YA(t){let e=t.toLowerCase();return e==="svg"?Dy:e==="math"?eT:null}var Pd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ja(r);let i=this.injector.get(e,Ku,r);return i!==Ku||n===Ku?i:this.parentInjector.get(e,n,r)}},ri=class extends Wa{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=jv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return jv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=G0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof Le?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Pd(e,o):e,a=s.get(po,null);if(a===null)throw new I(407,!1);let c=s.get(YS,null),l=s.get(gf,null),u=s.get(wd,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?oA(f,r,this.componentDef.encapsulation,s):h_(f,h,YA(h)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let _=null;p!==null&&(_=cf(p,s,!0));let D=uf(0,null,null,1,0,null,null,null,null,null,null),k=lc(null,D,null,y,null,null,d,f,s,null,_);Gd(k);let U,B;try{let le=this.componentDef,vt,Yi=null;le.findHostDirectiveDefs?(vt=[],Yi=new Map,le.findHostDirectiveDefs(le,vt,Yi),vt.push(le)):vt=[le];let jb=KA(k,p),Ub=QA(jb,p,le,vt,k,d,f);B=Iy(D,Ft),p&&JA(f,le,p,r),n!==void 0&&eM(B,this.ngContentSelectors,n),U=XA(Ub,le,vt,Yi,k,[tM]),mf(D,k,null)}finally{zd()}return new Od(this.componentType,U,cc(B,k),k,B)}},Od=class extends Cd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ar(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;df(o[W],o,i,e,n),this.previousInputValues.set(e,n);let s=An(this._tNode.index,o);ff(s)}}get injector(){return new er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KA(t,e){let n=t[W],r=Ft;return t[r]=e,uc(n,r,2,"#host",null)}function QA(t,e,n,r,i,o,s){let a=i[W];ZA(r,t,e,s);let c=null;e!==null&&(c=cf(e,i[Jr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=lc(i,k_(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Ed(a,t,r.length-1),dc(i,d),i[t.index]=d}function ZA(t,e,n,r){for(let i of t)e.mergedAttrs=so(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Rd(e,e.mergedAttrs,!0),n!==null&&w_(r,n,e))}function XA(t,e,n,r,i,o){let s=ct(),a=i[W],c=bt(s,i);L_(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=ei(i,a,d,s);sr(f,i)}V_(a,i,s),c&&sr(c,i);let l=ei(i,a,s.directiveStart+s.componentOffset,s);if(t[Et]=i[Et]=l,o!==null)for(let u of o)u(l,e);return R_(a,s,t),l}function JA(t,e,n,r){if(r)sd(t,n,["ng-version","17.1.1"]);else{let{attrs:i,classes:o}=z0(e.selectors[0]);i&&sd(t,n,i),o&&o.length>0&&__(t,n,o.join(" "))}}function eM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function tM(){let t=ct();Kd(se()[W],t)}function nM(t){return Object.getPrototypeOf(t.prototype).constructor}function Mn(t){let e=nM(t.type),n=!0,r=[t];for(;e;){let i;if(Tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Da(t.inputs),s.inputTransforms=Da(t.inputTransforms),s.declaredInputs=Da(t.declaredInputs),s.outputs=Da(t.outputs);let a=i.hostBindings;a&&aM(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&oM(t,c),l&&sM(t,l),rM(t,i),p0(t.outputs,i.outputs),Tn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Mn&&(n=!1)}}e=Object.getPrototypeOf(e)}iM(r)}function rM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function iM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=so(i.hostAttrs,n=so(n,i.hostAttrs))}}function Da(t){return t===Xr?{}:t===st?[]:t}function oM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function sM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function aM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}var WW=new RegExp(`^(\\d+)*(${$S}|${BS})*(.*)`);var cM=()=>null;function Uv(t,e){return cM(t,e)}function lM(t,e,n,r){let i=e.tView,s=t[M]&4096?4096:16,a=lc(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[ec]=c;let l=t[lo];return l!==null&&(a[lo]=l.createEmbeddedView(i)),mf(i,a,n),a}function Bv(t,e){return!e||e.firstChild===null||d_(t)}function uM(t,e,n,r=!0){let i=e[W];if(bS(i,e,t,n),r){let s=yd(n,t),a=e[xe],c=rf(a,t[nr]);c!==null&&ES(i,t[It],a,e,c,s)}let o=e[Ra];o!==null&&o.firstChild!==null&&(o.firstChild=null)}var Do=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dM;let t=e;return t})();function dM(){let t=ct();return hM(t,se())}var fM=Do,z_=class extends fM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cc(this._hostTNode,this._hostLView)}get injector(){return new er(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qd(this._hostTNode,this._hostLView);if(Wy(e)){let n=La(e,this._hostLView),r=Fa(e),i=n[W].data[r+8];return new er(i,n)}else return new er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=$v(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Uv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Bv(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!WT(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new ri(In(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let y=(s?l:this.parentInjector).get(Le,null);y&&(o=y)}let u=In(c.componentType??{}),d=Uv(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,Bv(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(iT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Me],l=new z_(c,c[It],c[Me]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return uM(s,i,o,r),e.attachToViewContainerRef(),e_(Xu(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=$v(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=vd(this._lContainer,n);r&&(Ua(Xu(this._lContainer),n),m_(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=vd(this._lContainer,n);return r&&Ua(Xu(this._lContainer),n)!=null?new ar(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function $v(t){return t[Pa]}function Xu(t){return t[Pa]||(t[Pa]=[])}function hM(t,e){let n,r=e[t.index];return sn(r)?n=r:(n=j_(r,e,null,t),e[t.index]=n,dc(e,n)),gM(n,e,t,r),new z_(n,t,e)}function pM(t,e){let n=t[xe],r=n.createComment(""),i=bt(e,t),o=rf(n,i);return Ha(n,o,r,RS(n,i),!1),r}var gM=yM,mM=()=>!1;function vM(t,e,n){return mM(t,e,n)}function yM(t,e,n,r){if(t[nr])return;let i;n.type&8?i=Lt(r):i=pM(e,n),t[nr]=i}function _M(t,e,n){return t[e]=n}function hc(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function wM(t,e,n,r,i,o,s,a,c){let l=e.consts,u=uc(e,t,4,s||null,ka(l,a));F_(e,n,u,ka(l,c)),Kd(e,u);let d=u.tView=uf(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function xn(t,e,n,r,i,o,s,a){let c=se(),l=Tt(),u=t+Ft,d=l.firstCreatePass?wM(u,l,c,e,n,r,i,o,s):l.data[u];yo(d,!1);let f=CM(l,c,d,t);qd()&&of(l,c,f,d),sr(f,c);let h=j_(f,c,f,d);return c[u]=h,dc(c,h),vM(h,d,c),Hd(d)&&P_(l,c,d),s!=null&&O_(c,d,a),xn}var CM=DM;function DM(t,e,n,r){return Yd(!0),e[xe].createComment("")}function EM(t,e,n,r){return hc(t,Py(),n)?e+Zv(n)+r:dr}function Ea(t,e){return t<<17|e<<2}function cr(t){return t>>17&32767}function IM(t){return(t&2)==2}function bM(t,e){return t&131071|e<<17}function kd(t){return t|2}function ii(t){return(t&131068)>>2}function Ju(t,e){return t&-131069|e<<2}function TM(t){return(t&1)===1}function Fd(t){return t|1}function SM(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=cr(s),c=ii(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||wo(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=cr(t[a+1]);t[r+1]=Ea(f,a),f!==0&&(t[f+1]=Ju(t[f+1],r)),t[a+1]=bM(t[a+1],r)}else t[r+1]=Ea(a,0),a!==0&&(t[a+1]=Ju(t[a+1],r)),a=r;else t[r+1]=Ea(c,0),a===0?a=r:t[c+1]=Ju(t[c+1],r),c=r;l&&(t[r+1]=kd(t[r+1])),Hv(t,u,r,!0),Hv(t,u,r,!1),AM(e,u,t,r,o),s=Ea(a,c),o?e.classBindings=s:e.styleBindings=s}function AM(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&wo(o,e)>=0&&(n[r+1]=Fd(n[r+1]))}function Hv(t,e,n,r){let i=t[n+1],o=e===null,s=r?cr(i):ii(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];MM(c,e)&&(a=!0,t[s+1]=r?Fd(l):kd(l)),s=r?cr(l):ii(l)}a&&(t[n+1]=r?kd(i):Fd(i))}function MM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wo(t,e)>=0:!1}function ut(t,e,n){let r=se(),i=Py();if(hc(r,i,e)){let o=Tt(),s=bT();dA(o,s,r,t,e,r[xe],n,!1)}return ut}function Wv(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";df(t,n,o[s],s,r)}function pc(t,e){return xM(t,e,null,!0),pc}function xM(t,e,n,r){let i=se(),o=Tt(),s=yT(2);if(o.firstUpdatePass&&RM(o,t,s,r),e!==dr&&hc(i,s,e)){let a=o.data[ai()];LM(o,a,i,i[xe],t,i[s+1]=VM(e,n),r,s)}}function NM(t,e){return e>=t.expandoStartIndex}function RM(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ai()],s=NM(t,n);jM(o,r)&&e===null&&!s&&(e=!1),e=PM(i,o,e,r),SM(i,o,e,n,s,r)}}function PM(t,e,n,r){let i=DT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ed(null,t,e,n,r),n=go(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=ed(i,t,e,n,r),o===null){let c=OM(t,e,r);c!==void 0&&Array.isArray(c)&&(c=ed(null,t,e,c[1],r),c=go(c,e.attrs,r),kM(t,e,r,c))}else o=FM(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function OM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ii(r)!==0)return t[cr(r)]}function kM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[cr(i)]=r}function FM(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=go(r,s,n)}return go(r,e.attrs,n)}function ed(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=go(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function go(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function LM(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=TM(l)?Gv(c,e,n,i,ii(l),s):void 0;if(!qa(u)){qa(o)||IM(l)&&(o=Gv(c,null,n,i,a,s));let d=Ey(ai(),n);jS(r,s,d,i,o)}}function Gv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===dr&&(f=d?st:void 0);let h=d?zu(f,r):u===r?f:void 0;if(l&&!qa(h)&&(h=zu(c,r)),qa(h)&&(a=h,s))return a;let p=t[i+1];i=s?cr(p):ii(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=zu(c,r))}return a}function qa(t){return t!==void 0}function VM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Fe(af(t)))),t}function jM(t,e){return(t.flags&(e?8:16))!==0}function UM(t,e,n,r,i,o){let s=e.consts,a=ka(s,i),c=uc(e,t,2,r,a);return F_(e,n,c,ka(s,o)),c.attrs!==null&&Rd(c,c.attrs,!1),c.mergedAttrs!==null&&Rd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function re(t,e,n,r){let i=se(),o=Tt(),s=Ft+t,a=i[xe],c=o.firstCreatePass?UM(s,o,i,e,n,r):o.data[s],l=BM(o,i,c,a,e,t);i[s]=l;let u=Hd(c);return yo(c,!0),w_(a,l,c),(c.flags&32)!==32&&qd()&&of(o,i,l,c),cT()===0&&sr(l,i),lT(),u&&(P_(o,i,c),R_(o,c,i)),r!==null&&O_(i,c),re}function ae(){let t=ct();Ry()?gT():(t=t.parent,yo(t,!1));let e=t;fT(e)&&hT(),uT();let n=Tt();return n.firstCreatePass&&(Kd(n,t),vy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&NT(e)&&Wv(n,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RT(e)&&Wv(n,e,se(),e.stylesWithoutHost,!1),ae}function Te(t,e,n,r){return re(t,e,n,r),ae(),Te}var BM=(t,e,n,r,i,o)=>(Yd(!0),h_(r,i,ST()));function q_(){return se()}var Ya="en-US";var $M=Ya;function HM(t){D0(t,"Expected localeId to be defined"),typeof t=="string"&&($M=t.toLowerCase().replace(/_/g,"-"))}function Nn(t){return!!t&&typeof t.then=="function"}function vf(t){return!!t&&typeof t.subscribe=="function"}function an(t,e,n,r){let i=se(),o=Tt(),s=ct();return GM(o,i,i[xe],s,t,e,r),an}function WM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ao],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function GM(t,e,n,r,i,o,s){let a=Hd(r),l=t.firstCreatePass&&TA(t),u=e[Et],d=bA(e),f=!0;if(r.type&3||s){let y=bt(r,e),_=s?s(y):y,D=d.length,k=s?B=>s(Lt(B[r.index])):r.index,U=null;if(!s&&a&&(U=WM(t,e,i,r.index)),U!==null){let B=U.__ngLastListenerFn__||U;B.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,f=!1}else{o=qv(r,e,u,o,!1);let B=n.listen(_,i,o);d.push(o,B),l&&l.push(i,k,D,D+1)}}else o=qv(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let y=p.length;if(y)for(let _=0;_<y;_+=2){let D=p[_],k=p[_+1],le=e[D][k].subscribe(o),vt=d.length;d.push(o,le),l&&l.push(i,r.index,vt,-(vt+1))}}}function zv(t,e,n,r){try{return Rt(6,e,n),n(r)!==!1}catch(i){return B_(t,i),!1}finally{Rt(7,e,n)}}function qv(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?An(t.index,e):e;ff(a);let c=zv(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=zv(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function Eo(t=1){return IT(t)}var yf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YM;let t=e;return t})(),zM=yf,qM=class extends zM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=lM(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new ar(i)}};function YM(){return KM(ct(),se())}function KM(t,e){return t.type&4?new qM(e,t,cc(t,e)):null}function QM(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function dt(t,e=""){let n=se(),r=Tt(),i=t+Ft,o=r.firstCreatePass?uc(r,i,1,e,null):r.data[i],s=ZM(r,n,o,e,t);n[i]=s,qd()&&of(r,n,s,o),yo(o,!1)}var ZM=(t,e,n,r,i)=>(Yd(!0),wS(e[xe],r));function _f(t,e,n){let r=se(),i=EM(r,t,e,n);return i!==dr&&SA(r,ai(),i),_f}function XM(t,e,n){let r=Tt();if(r.firstCreatePass){let i=Tn(t);Ld(n,r.data,r.blueprint,i,!0),Ld(e,r.data,r.blueprint,i,!1)}}function Ld(t,e,n,r,i){if(t=ke(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ld(t[o],e,n,r,i);else{let o=Tt(),s=se(),a=ct(),c=ni(t)?t:ke(t.provide),l=a_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ni(t)||!t.multi){let h=new or(l,i,z),p=nd(c,e,i?u:u+f,d);p===-1?(dd(ja(a,s),o,c),td(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=nd(c,e,u+f,d),p=nd(c,e,u,u+f),y=h>=0&&n[h],_=p>=0&&n[p];if(i&&!_||!i&&!y){dd(ja(a,s),o,c);let D=tx(i?ex:JM,n.length,i,r,l);!i&&_&&(n[p].providerFactory=D),td(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=Y_(n[i?p:h],l,!i&&r);td(o,t,h>-1?h:p,D)}!i&&r&&_&&n[p].componentProviders++}}}function td(t,e,n,r){let i=ni(e),o=iS(e);if(i||o){let c=(o?ke(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Y_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function nd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function JM(t,e,n,r){return Vd(this.multi,[])}function ex(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ei(n,n[W],this.providerFactory.index,r);o=a.slice(0,s),Vd(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Vd(i,o);return o}function Vd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function tx(t,e,n,r,i){let o=new or(t,n,z);return o.multi=[],o.index=e,o.componentProviders=0,Y_(o,i,r&&!n),o}function gc(t,e=[]){return n=>{n.providersResolver=(r,i)=>XM(r,i?i(t):t,e)}}var Sn=class{},mo=class{};var Ka=class extends Sn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new za(this);let i=fy(e);this._bootstrapComponents=u_(i.bootstrap),this._r3Injector=c_(e,n,[{provide:Sn,useValue:this},{provide:ac,useValue:this.componentFactoryResolver},...r],Fe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qa=class extends mo{constructor(e){super(),this.moduleType=e}create(e){return new Ka(this.moduleType,e,[])}};function nx(t,e,n){return new Ka(t,e,n)}var jd=class extends Sn{constructor(e){super(),this.componentFactoryResolver=new za(this),this.instance=null;let n=new ho([...e.providers,{provide:Sn,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],e.parent||Jd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function mc(t,e,n=null){return new jd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var rx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=i_(!1,r.type),o=i.length>0?mc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(g(Le))});let t=e;return t})();function K_(t){fc("NgStandalone"),t.getStandaloneInjector=e=>e.get(rx).getOrCreateStandaloneInjector(t)}function ix(t,e){let n=t[e];return n===dr?void 0:n}function ox(t,e,n,r,i,o){let s=e+n;return hc(t,s,i)?_M(t,s+1,o?r.call(o,i):r(i)):ix(t,s+1)}function vc(t,e){let n=Tt(),r,i=t+Ft;n.firstCreatePass?(r=sx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=rr(r.type,!0)),s,a=Ge(z);try{let c=Va(!1),l=o();return Va(c),QM(n,se(),i,l),l}finally{Ge(a)}}function sx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function yc(t,e,n){let r=t+Ft,i=se(),o=rT(i,r);return ax(i,r)?ox(i,mT(),e,o.transform,n,o):o.transform(n)}function ax(t,e){return t[W].data[e].pure}var Ia=null;function cx(t){Ia!==null&&(t.defaultEncapsulation!==Ia.defaultEncapsulation||t.preserveWhitespaces!==Ia.preserveWhitespaces)||(Ia=t)}var rn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Q_=new rn("17.1.1");var _c=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ud=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},wc=(()=>{let e=class e{compileModuleSync(r){return new Qa(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=fy(r),s=u_(o.declarations).reduce((a,c)=>{let l=In(c);return l&&a.push(new ri(l)),a},[]);return new Ud(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lx=new C("compilerOptions");var fr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wf=new C(""),Io=new C(""),Cc=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Cf||(ux(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{G.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(g(G),g(Dc),g(Io))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Dc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Cf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function ux(t){Cf=t}var Cf,Ec=new C("Application Initializer"),Z_=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(Ec,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Nn(s))r.push(s);else if(vf(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ic=new C("appBootstrapListener");function dx(t,e,n){let r=new Qa(n);return Promise.resolve(r)}function fx(){qm(()=>{throw new I(600,!1)})}function hx(t){return t.isBoundToModule}function px(t,e,n){try{let r=n();return Nn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function X_(t,e){return Array.isArray(e)?e.reduce(X_,t):w(w({},t),e)}var hr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(b_),this.afterRenderEffectManager=v(gf),this.componentTypes=[],this.components=[],this.isStable=v(fr).hasPendingTasks.pipe(T(r=>!r)),this._injector=v(Le)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Wa;if(!this._injector.get(Z_).done){let h=!o&&dy(r),p=!1;throw new I(405,p)}let a;o?a=r:a=this._injector.get(ac).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=hx(a)?void 0:this._injector.get(Sn),l=i||a.selector,u=a.create(lt.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(wf,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ma(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ma(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ic,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ma(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ma(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Yv(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var gx=(()=>{let e=class e{constructor(){this.zone=v(G),this.applicationRef=v(hr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mx(t){return[{provide:G,useFactory:t},{provide:ti,multi:!0,useFactory:()=>{let e=v(gx,{optional:!0});return()=>e.initialize()}},{provide:ti,multi:!0,useFactory:()=>{let e=v(_x);return()=>{e.initialize()}}},{provide:b_,useFactory:vx}]}function vx(){let t=v(G),e=v(Vt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function yx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var _x=(()=>{let e=class e{constructor(){this.subscription=new ue,this.initialized=!1,this.zone=v(G),this.pendingTasks=v(fr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{G.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{G.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wx(){return typeof $localize<"u"&&$localize.locale||Ya}var Df=new C("LocaleId",{providedIn:"root",factory:()=>v(Df,$.Optional|$.SkipSelf)||wx()});var J_=new C("PlatformDestroyListeners"),ew=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=HA(i?.ngZone,yx({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=nx(r.moduleType,this.injector,mx(()=>o)),a=s.injector.get(Vt,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Ma(this._modules,s),c.unsubscribe()})}),px(a,o,()=>{let c=s.injector.get(Z_);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Df,Ya);return HM(l||Ya),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=X_({},i);return dx(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(hr);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new I(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(J_,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(g(lt))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),io=null,tw=new C("AllowMultipleToken");function Cx(t){if(io&&!io.get(tw,!1))throw new I(400,!1);fx(),io=t;let e=t.get(ew);return Ix(t),e}function Ef(t,e,n=[]){let r=`Platform: ${e}`,i=new C(r);return(o=[])=>{let s=nw();if(!s||s.injector.get(tw,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):Cx(Dx(a,r))}return Ex(i)}}function Dx(t=[],e){return lt.create({name:e,providers:[{provide:ic,useValue:"platform"},{provide:J_,useValue:new Set([()=>io=null])},...t]})}function Ex(t){let e=nw();if(!e)throw new I(401,!1);return e}function nw(){return io?.get(ew)??null}function Ix(t){t.get(ef,null)?.forEach(n=>n())}function If(){return!1}var rw=Ef(null,"core",[]),iw=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(g(hr))},e.\u0275mod=fe({type:e}),e.\u0275inj=de({});let t=e;return t})();function ow(t){let e=In(t);if(!e)return null;let n=new ri(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var bf=null;function $t(){return bf}function uw(t){bf||(bf=t)}var bc=class{},Se=new C("DocumentToken"),Nf=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(Sx),providedIn:"platform"});let t=e;return t})(),dw=new C("Location Initialized"),Sx=(()=>{let e=class e extends Nf{constructor(){super(),this._doc=v(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $t().getBaseHref(this._doc)}onPopState(r){let i=$t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=$t().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Rf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function sw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function cn(t){return t&&t[0]!=="?"?"?"+t:t}var ln=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(Pf),providedIn:"root"});let t=e;return t})(),fw=new C("appBaseHref"),Pf=(()=>{let e=class e extends ln{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Rf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+cn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+cn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+cn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(g(Nf),g(fw,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tc=(()=>{let e=class e extends ln{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Rf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+cn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+cn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(g(Nf),g(fw,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),di=(()=>{let e=class e{constructor(r){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=xx(sw(aw(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+cn(i))}normalize(r){return e.stripTrailingSlash(Mx(this._basePath,aw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+cn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+cn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=cn,e.joinWithSlash=Rf,e.stripTrailingSlash=sw,e.\u0275fac=function(i){return new(i||e)(g(ln))},e.\u0275prov=E({token:e,factory:()=>Ax(),providedIn:"root"});let t=e;return t})();function Ax(){return new di(g(ln))}function Mx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function aw(t){return t.replace(/\/index.html$/,"")}function xx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Sc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ac=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Tf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){cw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){cw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(z(Do),z(yf))},e.\u0275dir=Qe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Tf=class{constructor(){this.$implicit=null,this.ngIf=null}};function cw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Fe(e)}'.`)}function Nx(t,e){return new I(2100,!1)}var Sf=class{createSubscription(e,n){return lf(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){lf(()=>e.unsubscribe())}},Af=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Rx=new Af,Px=new Sf,Mc=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Nn(r))return Rx;if(vf(r))return Px;throw Nx(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(z(li,16))},e.\u0275pipe=cy({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var hw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=fe({type:e}),e.\u0275inj=de({});let t=e;return t})(),Of="browser",Ox="server";function kx(t){return t===Of}function bo(t){return t===Ox}var pw=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>kx(v(Ne))?new Mf(v(Se),window):new xf});let t=e;return t})(),Mf=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Fx(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Fx(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var xf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ui=class{};var So=class{},Nc=class{},Ht=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Lf=class{encodeKey(e){return gw(e)}encodeValue(e){return gw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function jx(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var Ux=/%(\d[a-f0-9])/gi,Bx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gw(t){return encodeURIComponent(t).replace(Ux,(e,n)=>Bx[n]??e)}function xc(t){return`${t}`}var Rn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Lf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=jx(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(xc):[xc(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(xc(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(xc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Vf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $x(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function mw(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function vw(t){return typeof Blob<"u"&&t instanceof Blob}function yw(t){return typeof FormData<"u"&&t instanceof FormData}function Hx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var To=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if($x(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Ht),this.context||(this.context=new Vf),!this.params)this.params=new Rn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:mw(this.body)||vw(this.body)||yw(this.body)||Hx(this.body)||typeof this.body=="string"?this.body:this.body instanceof Rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||yw(this.body)?null:vw(this.body)?this.body.type||null:mw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},fi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(fi||{}),Ao=class{constructor(e,n=Rc.Ok,r="OK"){this.headers=e.headers||new Ht,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jf=class t extends Ao{constructor(e={}){super(e),this.type=fi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hi=class t extends Ao{constructor(e={}){super(e),this.type=fi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pi=class extends Ao{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Rc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Rc||{});function Ff(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Mo=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof To)s=r;else{let l;o.headers instanceof Ht?l=o.headers:l=new Ht(o.headers);let u;o.params&&(o.params instanceof Rn?u=o.params:u=new Rn({fromObject:o.params})),s=new To(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=b(s).pipe(en(l=>this.handler.handle(l)));if(r instanceof To||o.observe==="events")return a;let c=a.pipe(Ae(l=>l instanceof hi));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(T(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(T(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Rn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Ff(o,i))}post(r,i,o={}){return this.request("POST",r,Ff(o,i))}put(r,i,o={}){return this.request("PUT",r,Ff(o,i))}};e.\u0275fac=function(i){return new(i||e)(g(So))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Dw(t,e){return e(t)}function Wx(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Gx(t,e,n){return(r,i)=>Ut(n,()=>e(r,o=>t(o,i)))}var Uf=new C(""),Bf=new C(""),zx=new C(""),qx=new C("");function Yx(){let t=null;return(e,n)=>{t===null&&(t=(v(Uf,{optional:!0})??[]).reduceRight(Wx,Dw));let r=v(fr),i=r.add();return t(e,n).pipe(Cn(()=>r.remove(i)))}}var _w=(()=>{let e=class e extends So{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=v(fr);let o=v(qx,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Bf),...this.injector.get(zx,[])]));this.chain=o.reduceRight((s,a)=>Gx(s,a,this.injector),Dw)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Cn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(g(Nc),g(Le))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var Kx=/^\)\]\}',?\n/;function Qx(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var ww=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Q(i.\u0275loadImpl()):b(null)).pipe(te(()=>new F(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,D)=>a.setRequestHeader(_,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let _=a.statusText||"OK",D=new Ht(a.getAllResponseHeaders()),k=Qx(a)||r.url;return l=new jf({headers:D,status:a.status,statusText:_,url:k}),l},d=()=>{let{headers:_,status:D,statusText:k,url:U}=u(),B=null;D!==Rc.NoContent&&(B=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=B?Rc.Ok:0);let le=D>=200&&D<300;if(r.responseType==="json"&&typeof B=="string"){let vt=B;B=B.replace(Kx,"");try{B=B!==""?JSON.parse(B):null}catch(Yi){B=vt,le&&(le=!1,B={error:Yi,text:B})}}le?(s.next(new hi({body:B,headers:_,status:D,statusText:k,url:U||void 0})),s.complete()):s.error(new pi({error:B,headers:_,status:D,statusText:k,url:U||void 0}))},f=_=>{let{url:D}=u(),k=new pi({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error(k)},h=!1,p=_=>{h||(s.next(u()),h=!0);let D={type:fi.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(D.total=_.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),s.next(D)},y=_=>{let D={type:fi.UploadProgress,loaded:_.loaded};_.lengthComputable&&(D.total=_.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(c),s.next({type:fi.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(g(ui))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ew=new C("XSRF_ENABLED"),Zx="XSRF-TOKEN",Xx=new C("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Zx}),Jx="X-XSRF-TOKEN",eN=new C("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Jx}),Pc=class{},tN=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(g(Se),g(Ne),g(Xx))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function nN(t,e){let n=t.url.toLowerCase();if(!v(Ew)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=v(Pc).getToken(),i=v(eN);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Iw=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Iw||{});function rN(t,e){return{\u0275kind:t,\u0275providers:e}}function iN(...t){let e=[Mo,ww,_w,{provide:So,useExisting:_w},{provide:Nc,useExisting:ww},{provide:Bf,useValue:nN,multi:!0},{provide:Ew,useValue:!0},{provide:Pc,useClass:tN}];for(let n of t)e.push(...n.\u0275providers);return rc(e)}var Cw=new C("LEGACY_INTERCEPTOR_FN");function oN(){return rN(Iw.LegacyInterceptors,[{provide:Cw,useFactory:Yx},{provide:Bf,useExisting:Cw,multi:!0}])}var bw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=fe({type:e}),e.\u0275inj=de({providers:[iN(oN())]});let t=e;return t})();var Wf=class extends bc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gf=class t extends Wf{static makeCurrent(){uw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=aN();return n==null?null:cN(n)}resetBaseElement(){xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sc(document.cookie,e)}},xo=null;function aN(){return xo=xo||document.querySelector("base"),xo?xo.getAttribute("href"):null}function cN(t){return new URL(t,document.baseURI).pathname}var zf=class{addToWindow(e){Ye.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new I(5103,!1);return o},Ye.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ye.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ye.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?$t().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},lN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),qf=new C("EventManagerPlugins"),Mw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(g(qf),g(G))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Oc=class{constructor(e){this._doc=e}},$f="ng-app-id",xw=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${$f}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute($f),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute($f,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(g(Se),g(oc),g(tf,8),g(Ne))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Hf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kf=/%COMP%/g,Nw="%COMP%",uN=`_nghost-${Nw}`,dN=`_ngcontent-${Nw}`,fN=!0,hN=new C("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>fN});function pN(t){return dN.replace(Kf,t)}function gN(t){return uN.replace(Kf,t)}function Rw(t,e){return e.map(n=>n.replace(Kf,t))}var Tw=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=bo(c),this.defaultRenderer=new No(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ot.ShadowDom&&(i=K(w({},i),{encapsulation:Ot.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof kc?o.applyToHost(r):o instanceof Ro&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ot.Emulated:s=new kc(l,u,i,this.appId,d,a,c,f);break;case Ot.ShadowDom:return new Yf(l,u,r,i,a,c,this.nonce,f);default:s=new Ro(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(g(Mw),g(xw),g(oc),g(hN),g(Se),g(Ne),g(G),g(tf))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),No=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Hf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Sw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Sw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Hf[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Hf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(nn.DashCase|nn.Important)?e.style.setProperty(n,r,i&nn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&nn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=$t().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Sw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Yf=class extends No{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Rw(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ro=class extends No{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Rw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kc=class extends Ro{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=pN(l),this.hostAttr=gN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},mN=(()=>{let e=class e extends Oc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(g(Se))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Aw=["alt","control","meta","shift"],vN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_N=(()=>{let e=class e extends Oc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$t().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Aw.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=vN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Aw.forEach(a=>{if(a!==o){let c=yN[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(g(Se))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function wN(){Gf.makeCurrent()}function CN(){return new Vt}function DN(){return l_(document),document}var EN=[{provide:Ne,useValue:Of},{provide:ef,useValue:wN,multi:!0},{provide:Se,useFactory:DN,deps:[]}],Pw=Ef(rw,"browser",EN),IN=new C(""),bN=[{provide:Io,useClass:zf,deps:[]},{provide:wf,useClass:Cc,deps:[G,Dc,Io]},{provide:Cc,useClass:Cc,deps:[G,Dc,Io]}],TN=[{provide:ic,useValue:"root"},{provide:Vt,useFactory:CN,deps:[]},{provide:qf,useClass:mN,multi:!0,deps:[Se,G,Ne]},{provide:qf,useClass:_N,multi:!0,deps:[Se]},Tw,xw,Mw,{provide:po,useExisting:Tw},{provide:ui,useClass:lN,deps:[]},[]],Ow=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:oc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(g(IN,12))},e.\u0275mod=fe({type:e}),e.\u0275inj=de({providers:[...TN,...bN],imports:[hw,iw]});let t=e;return t})();function SN(){return new Qf(g(Se))}var Qf=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(g(Se))},e.\u0275prov=E({token:e,factory:function(i){let o=null;return i?o=new i:o=SN(),o},providedIn:"root"});let t=e;return t})();var O="primary",qo=Symbol("RouteTitle"),th=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _i(t){return new th(t)}function MN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function xN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wt(t[n],e[n]))return!1;return!0}function Wt(t,e){let n=t?nh(t):void 0,r=e?nh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Ww(t[i],e[i]))return!1;return!0}function nh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ww(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Gw(t){return t.length>0?t[t.length-1]:null}function Fn(t){return Pu(t)?t:Nn(t)?Q(Promise.resolve(t)):b(t)}var NN={exact:qw,subset:Yw},zw={exact:RN,subset:PN,ignored:()=>!0};function Fw(t,e,n){return NN[n.paths](t.root,e.root,n.matrixParams)&&zw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function RN(t,e){return Wt(t,e)}function qw(t,e,n){if(!gr(t.segments,e.segments)||!Vc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!qw(t.children[r],e.children[r],n))return!1;return!0}function PN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ww(t[n],e[n]))}function Yw(t,e,n){return Kw(t,e,e.segments,n)}function Kw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!gr(i,n)||e.hasChildren()||!Vc(i,n,r))}else if(t.segments.length===n.length){if(!gr(t.segments,n)||!Vc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Yw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!gr(t.segments,i)||!Vc(t.segments,i,r)||!t.children[O]?!1:Kw(t.children[O],e,o,r)}}function Vc(t,e,n){return e.every((r,i)=>zw[n](t[i].parameters,r.parameters))}var Pn=class{constructor(e=new Z([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){return FN.serialize(this)}},Z=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}},pr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=_i(this.parameters),this._parameterMap}toString(){return Zw(this)}};function ON(t,e){return gr(t,e)&&t.every((n,r)=>Wt(n.parameters,e[r].parameters))}function gr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function kN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===O&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==O&&(n=n.concat(e(i,r)))}),n}var Yo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new jo,providedIn:"root"});let t=e;return t})(),jo=class{parse(e){let n=new ih(e);return new Pn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Po(e.root,!0)}`,r=jN(e.queryParams),i=typeof e.fragment=="string"?`#${LN(e.fragment)}`:"";return`${n}${r}${i}`}},FN=new jo;function jc(t){return t.segments.map(e=>Zw(e)).join("/")}function Po(t,e){if(!t.hasChildren())return jc(t);if(e){let n=t.children[O]?Po(t.children[O],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==O&&r.push(`${i}:${Po(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=kN(t,(r,i)=>i===O?[Po(t.children[O],!1)]:[`${i}:${Po(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[O]!=null?`${jc(t)}/${n[0]}`:`${jc(t)}/(${n.join("//")})`}}function Qw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fc(t){return Qw(t).replace(/%3B/gi,";")}function LN(t){return encodeURI(t)}function rh(t){return Qw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uc(t){return decodeURIComponent(t)}function Lw(t){return Uc(t.replace(/\+/g,"%20"))}function Zw(t){return`${rh(t.path)}${VN(t.parameters)}`}function VN(t){return Object.entries(t).map(([e,n])=>`;${rh(e)}=${rh(n)}`).join("")}function jN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Fc(n)}=${Fc(i)}`).join("&"):`${Fc(n)}=${Fc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var UN=/^[^\/()?;#]+/;function Zf(t){let e=t.match(UN);return e?e[0]:""}var BN=/^[^\/()?;=#]+/;function $N(t){let e=t.match(BN);return e?e[0]:""}var HN=/^[^=?&#]+/;function WN(t){let e=t.match(HN);return e?e[0]:""}var GN=/^[^&#]+/;function zN(t){let e=t.match(GN);return e?e[0]:""}var ih=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[O]=new Z(e,n)),r}parseSegment(){let e=Zf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new pr(Uc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=$N(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Zf(this.remaining);i&&(r=i,this.capture(r))}e[Uc(n)]=Uc(r)}parseQueryParam(e){let n=WN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=zN(this.remaining);s&&(r=s,this.capture(r))}let i=Lw(n),o=Lw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=O);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[O]:new Z([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function Xw(t){return t.segments.length>0?new Z([],{[O]:t}):t}function Jw(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Jw(i);if(r===O&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Z(t.segments,e);return qN(n)}function qN(t){if(t.numberOfChildren===1&&t.children[O]){let e=t.children[O];return new Z(t.segments.concat(e.segments),e.children)}return t}function wi(t){return t instanceof Pn}function YN(t,e,n=null,r=null){let i=eC(t);return tC(i,e,n,r)}function eC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Z(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Xw(r);return e??i}function tC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Xf(i,i,i,n,r);let o=KN(e);if(o.toRoot())return Xf(i,i,new Z([],{}),n,r);let s=QN(o,i,t),a=s.processChildren?Fo(s.segmentGroup,s.index,o.commands):rC(s.segmentGroup,s.index,o.commands);return Xf(i,s.segmentGroup,a,n,r)}function Bc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Uo(t){return typeof t=="object"&&t!=null&&t.outlets}function Xf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=nC(t,e,n);let a=Xw(Jw(s));return new Pn(a,o,i)}function nC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=nC(o,e,n)}),new Z(t.segments,r)}var $c=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bc(r[0]))throw new I(4003,!1);let i=r.find(Uo);if(i&&i!==Gw(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function KN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $c(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $c(n,e,r)}var vi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function QN(t,e,n){if(t.isAbsolute)return new vi(e,!0,0);if(!n)return new vi(e,!1,NaN);if(n.parent===null)return new vi(n,!0,0);let r=Bc(t.commands[0])?0:1,i=n.segments.length-1+r;return ZN(n,i,t.numberOfDoubleDots)}function ZN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new vi(r,!1,i-o)}function XN(t){return Uo(t[0])?t[0].outlets:{[O]:t}}function rC(t,e,n){if(t??=new Z([],{}),t.segments.length===0&&t.hasChildren())return Fo(t,e,n);let r=JN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Z(t.segments.slice(0,r.pathIndex),{});return o.children[O]=new Z(t.segments.slice(r.pathIndex),t.children),Fo(o,0,i)}else return r.match&&i.length===0?new Z(t.segments,{}):r.match&&!t.hasChildren()?oh(t,e,n):r.match?Fo(t,0,i):oh(t,e,n)}function Fo(t,e,n){if(n.length===0)return new Z(t.segments,{});{let r=XN(n),i={};if(Object.keys(r).some(o=>o!==O)&&t.children[O]&&t.numberOfChildren===1&&t.children[O].segments.length===0){let o=Fo(t.children[O],e,n);return new Z(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Z(t.segments,i)}}function JN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Uo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!jw(c,l,s))return o;r+=2}else{if(!jw(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function oh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Uo(o)){let c=eR(o.outlets);return new Z(r,c)}if(i===0&&Bc(n[0])){let c=t.segments[e];r.push(new pr(c.path,Vw(n[0]))),i++;continue}let s=Uo(o)?o.outlets[O]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bc(a)?(r.push(new pr(s,Vw(a))),i+=2):(r.push(new pr(s,{})),i++)}return new Z(r,{})}function eR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=oh(new Z([],{}),0,r))}),e}function Vw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function jw(t,e,n){return t==n.path&&Wt(e,n.parameters)}var Lo="imperative",De=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(De||{}),ht=class{constructor(e,n){this.id=e,this.url=n}},Ci=class extends ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=De.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=De.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ft||{}),Hc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Hc||{}),On=class extends ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kn=class extends ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationSkipped}},Bo=class extends ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=De.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wc=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ah=class extends ht{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=De.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ch=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lh=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uh=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dh=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fh=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hh=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ph=class{constructor(e){this.snapshot=e,this.type=De.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gh=class{constructor(e){this.snapshot=e,this.type=De.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=De.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},$o=class{},Ho=class{constructor(e){this.url=e}};var mh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ko,this.attachRef=null}},Ko=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new mh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=vh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=vh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yh(e,this._root).map(n=>n.value)}};function vh(t,e){if(t===e.value)return e;for(let n of e.children){let r=vh(t,n);if(r)return r}return null}function yh(t,e){if(t===e.value)return[e];for(let n of e.children){let r=yh(t,n);if(r.length)return r.unshift(e),r}return[]}var Ze=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function mi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qc=class extends zc{constructor(e,n){super(e),this.snapshot=n,Ah(this,e)}toString(){return this.snapshot.toString()}};function iC(t){let e=tR(t),n=new ye([new pr("",{})]),r=new ye({}),i=new ye({}),o=new ye({}),s=new ye(""),a=new Di(n,r,o,s,i,O,t,e.root);return a.snapshot=e.root,new qc(new Ze(a,[]),e)}function tR(t){let e={},n={},r={},i="",o=new Wo([],e,r,i,n,O,t,null,{});return new Yc("",new Ze(o,[]))}var Di=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(T(l=>l[qo]))??b(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(e=>_i(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(e=>_i(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&sC(i)&&(r.resolve[qo]=i.title),r}var Wo=class{get title(){return this.data?.[qo]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_i(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Yc=class extends zc{constructor(e,n){super(n),this.url=e,Ah(this,n)}toString(){return oC(this._root)}};function Ah(t,e){e.value._routerState=t,e.children.forEach(n=>Ah(t,n))}function oC(t){let e=t.children.length>0?` { ${t.children.map(oC).join(", ")} } `:"";return`${t.value}${e}`}function Jf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wt(e.params,n.params)||t.paramsSubject.next(n.params),xN(e.url,n.url)||t.urlSubject.next(n.url),Wt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _h(t,e){let n=Wt(t.params,e.params)&&ON(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||_h(t.parent,e.parent))}function sC(t){return typeof t.title=="string"||t.title===null}var Mh=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=O,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=v(Ko),this.location=v(Do),this.changeDetector=v(li),this.environmentInjector=v(Le),this.inputBinder=v(Jc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new wh(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[lr]});let t=e;return t})(),wh=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Di?this.route:e===Ko?this.childContexts:this.parent.get(e,n)}},Jc=new C(""),Uw=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=to([i.queryParams,i.params,i.data]).pipe(te(([s,a,c],l)=>(c=w(w(w({},s),a),c),l===0?b(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=ow(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function nR(t,e,n){let r=Go(t,e._root,n?n._root:void 0);return new qc(r,e)}function Go(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=rR(t,e,n);return new Ze(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Go(t,a)),s}}let r=iR(e.value),i=e.children.map(o=>Go(t,o));return new Ze(r,i)}}function rR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Go(t,r,i);return Go(t,r)})}function iR(t){return new Di(new ye(t.url),new ye(t.params),new ye(t.queryParams),new ye(t.fragment),new ye(t.data),t.outlet,t.component,t)}var aC="ngNavigationCancelingError";function cC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lC(!1,ft.Redirect,e);return i.url=n,i.navigationBehaviorOptions=r,i}function lC(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[aC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function oR(t){return uC(t)&&wi(t.url)}function uC(t){return t&&t[aC]}var sR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=jt({type:e,selectors:[["ng-component"]],standalone:!0,features:[K_],decls:1,vars:0,template:function(i,o){i&1&&Te(0,"router-outlet")},dependencies:[Mh],encapsulation:2});let t=e;return t})();function aR(t,e){return t.providers&&!t._injector&&(t._injector=mc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xh(t){let e=t.children&&t.children.map(xh),n=e?K(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=sR),n}function Gt(t){return t.outlet||O}function cR(t,e){let n=t.filter(r=>Gt(r)===e);return n.push(...t.filter(r=>Gt(r)!==e)),n}function Qo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lR=(t,e,n,r)=>T(i=>(new Ch(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ch=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Jf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=mi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=mi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=mi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=mi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Jf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Qo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},Kc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yi=class{constructor(e,n){this.component=e,this.route=n}};function uR(t,e,n){let r=t._root,i=e?e._root:null;return Oo(r,i,n,[r.value])}function dR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ii(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Xv(t)?t:e.get(t):r}function Oo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=mi(e);return t.children.forEach(s=>{fR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Vo(a,n.getContext(s),i)),i}function fR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=hR(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Kc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Oo(t,e,a?a.children:null,r,i):Oo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yi(a.outlet.component,s))}else s&&Vo(e,a,i),i.canActivateChecks.push(new Kc(r)),o.component?Oo(t,null,a?a.children:null,r,i):Oo(t,null,n,r,i);return i}function hR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!gr(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!_h(t,e)}}function Vo(t,e,n){let r=mi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Vo(s,e.children.getContext(o),n):Vo(s,null,n):Vo(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yi(e.outlet.component,i)):n.canDeactivateChecks.push(new yi(null,i)):n.canDeactivateChecks.push(new yi(null,i))}function Zo(t){return typeof t=="function"}function pR(t){return typeof t=="boolean"}function gR(t){return t&&Zo(t.canLoad)}function mR(t){return t&&Zo(t.canActivate)}function vR(t){return t&&Zo(t.canActivateChild)}function yR(t){return t&&Zo(t.canDeactivate)}function _R(t){return t&&Zo(t.canMatch)}function dC(t){return t instanceof Jt||t?.name==="EmptyError"}var Lc=Symbol("INITIAL_VALUE");function Ei(){return te(t=>to(t.map(e=>e.pipe(tn(1),Uu(Lc)))).pipe(T(e=>{for(let n of e)if(n!==!0){if(n===Lc)return Lc;if(n===!1||n instanceof Pn)return n}return!0}),Ae(e=>e!==Lc),tn(1)))}function wR(t,e){return pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?b(K(w({},n),{guardsResult:!0})):CR(s,r,i,t).pipe(pe(a=>a&&pR(a)?DR(r,o,t,e):b(a)),T(a=>K(w({},n),{guardsResult:a})))})}function CR(t,e,n,r){return Q(t).pipe(pe(i=>SR(i.component,i.route,n,e,r)),ot(i=>i!==!0,!0))}function DR(t,e,n,r){return Q(e).pipe(en(i=>$r(IR(i.route.parent,r),ER(i.route,r),TR(t,i.path,n),bR(t,i.route,n))),ot(i=>i!==!0,!0))}function ER(t,e){return t!==null&&e&&e(new ph(t)),b(!0)}function IR(t,e){return t!==null&&e&&e(new fh(t)),b(!0)}function bR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return b(!0);let i=r.map(o=>va(()=>{let s=Qo(e)??n,a=Ii(o,s),c=mR(a)?a.canActivate(e,t):Ut(s,()=>a(e,t));return Fn(c).pipe(ot())}));return b(i).pipe(Ei())}function TR(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>dR(s)).filter(s=>s!==null).map(s=>va(()=>{let a=s.guards.map(c=>{let l=Qo(s.node)??n,u=Ii(c,l),d=vR(u)?u.canActivateChild(r,t):Ut(l,()=>u(r,t));return Fn(d).pipe(ot())});return b(a).pipe(Ei())}));return b(o).pipe(Ei())}function SR(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return b(!0);let s=o.map(a=>{let c=Qo(e)??i,l=Ii(a,c),u=yR(l)?l.canDeactivate(t,e,n,r):Ut(c,()=>l(t,e,n,r));return Fn(u).pipe(ot())});return b(s).pipe(Ei())}function AR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return b(!0);let o=i.map(s=>{let a=Ii(s,t),c=gR(a)?a.canLoad(e,n):Ut(t,()=>a(e,n));return Fn(c)});return b(o).pipe(Ei(),fC(r))}function fC(t){return Su(ie(e=>{if(wi(e))throw cC(t,e)}),T(e=>e===!0))}function MR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return b(!0);let o=i.map(s=>{let a=Ii(s,t),c=_R(a)?a.canMatch(e,n):Ut(t,()=>a(e,n));return Fn(c)});return b(o).pipe(Ei(),fC(r))}var zo=class{constructor(e){this.segmentGroup=e||null}},Qc=class extends Error{constructor(e){super(),this.urlTree=e}};function gi(t){return Br(new zo(t))}function xR(t){return Br(new I(4e3,!1))}function NR(t){return Br(lC(!1,ft.GuardRejected))}var Dh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return b(r);if(i.numberOfChildren>1||!i.children[O])return xR(e.redirectTo);i=i.children[O]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Qc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Pn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Z(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Eh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RR(t,e,n,r,i){let o=Nh(t,e,n);return o.matched?(r=aR(e,r),MR(r,e,n,i).pipe(T(s=>s===!0?o:w({},Eh)))):b(o)}function Nh(t,e,n){if(e.path==="**")return PR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},Eh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MN)(n,t,e);if(!i)return w({},Eh);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function PR(t){return{matched:!0,parameters:t.length>0?Gw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Bw(t,e,n,r){return n.length>0&&FR(t,n,r)?{segmentGroup:new Z(e,kR(r,new Z(n,t.children))),slicedSegments:[]}:n.length===0&&LR(t,n,r)?{segmentGroup:new Z(t.segments,OR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Z(t.segments,t.children),slicedSegments:n}}function OR(t,e,n,r){let i={};for(let o of n)if(el(t,e,o)&&!r[Gt(o)]){let s=new Z([],{});i[Gt(o)]=s}return w(w({},r),i)}function kR(t,e){let n={};n[O]=e;for(let r of t)if(r.path===""&&Gt(r)!==O){let i=new Z([],{});n[Gt(r)]=i}return n}function FR(t,e,n){return n.some(r=>el(t,e,r)&&Gt(r)!==O)}function LR(t,e,n){return n.some(r=>el(t,e,r))}function el(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function VR(t,e,n,r){return Gt(t)!==r&&(r===O||!el(e,n,t))?!1:Nh(e,t,n).matched}function jR(t,e,n){return e.length===0&&!t.children[n]}var Ih=class{};function UR(t,e,n,r,i,o,s="emptyOnly"){return new bh(t,e,n,r,i,s,o).recognize()}var BR=31,bh=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Dh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=Bw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(T(n=>{let r=new Wo([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},O,this.rootComponentType,null,{}),i=new Ze(r,n),o=new Yc("",i),s=YN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,O).pipe(_n(r=>{if(r instanceof Qc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Sh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(T(o=>o instanceof Ze?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Q(i).pipe(en(o=>{let s=r.children[o],a=cR(n,o);return this.processSegmentGroup(e,a,s,o)}),Gr((o,s)=>(o.push(...s),o)),wn(null),Lu(),pe(o=>{if(o===null)return gi(r);let s=hC(o);return $R(s),b(s)}))}processSegment(e,n,r,i,o,s){return Q(n).pipe(en(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(_n(c=>{if(c instanceof zo)return b(null);throw c}))),ot(a=>!!a),_n(a=>{if(dC(a))return jR(r,i,o)?b(new Ih):gi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return VR(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):gi(i):gi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Nh(n,i,o);if(!a)return gi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BR&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(pe(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=RR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(te(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(te(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new Wo(u,f,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,WR(r),Gt(r),r.component??r._loadedComponent??null,r,GR(r)),{segmentGroup:p,slicedSegments:y}=Bw(n,u,d,c);if(y.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(T(D=>D===null?null:new Ze(h,D)));if(c.length===0&&y.length===0)return b(new Ze(h,[]));let _=Gt(r)===o;return this.processSegment(l,c,p,y,_?O:o,!0).pipe(T(D=>new Ze(h,D instanceof Ze?[D]:[])))}))):gi(n)))}getChildConfig(e,n,r){return n.children?b({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?b({routes:n._loadedRoutes,injector:n._loadedInjector}):AR(e,n,r,this.urlSerializer).pipe(pe(i=>i?this.configLoader.loadChildren(e,n).pipe(ie(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):NR(n))):b({routes:[],injector:e})}};function $R(t){t.sort((e,n)=>e.value.outlet===O?-1:n.value.outlet===O?1:e.value.outlet.localeCompare(n.value.outlet))}function HR(t){let e=t.value.routeConfig;return e&&e.path===""}function hC(t){let e=[],n=new Set;for(let r of t){if(!HR(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=hC(r.children);e.push(new Ze(r.value,i))}return e.filter(r=>!n.has(r))}function WR(t){return t.data||{}}function GR(t){return t.resolve||{}}function zR(t,e,n,r,i,o){return pe(s=>UR(t,e,n,r,s.extractedUrl,i,o).pipe(T(({state:a,tree:c})=>K(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function qR(t,e){return pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return b(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of pC(c))s.add(l);let a=0;return Q(s).pipe(en(c=>o.has(c)?YR(c,r,t,e):(c.data=Sh(c,c.parent,t).resolve,b(void 0))),ie(()=>a++),Wr(1),pe(c=>a===s.size?b(n):He))})}function pC(t){let e=t.children.map(n=>pC(n)).flat();return[t,...e]}function YR(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!sC(i)&&(o[qo]=i.title),KR(o,t,e,r).pipe(T(s=>(t._resolvedData=s,t.data=Sh(t,t.parent,n).resolve,null)))}function KR(t,e,n,r){let i=nh(t);if(i.length===0)return b({});let o={};return Q(i).pipe(pe(s=>QR(t[s],e,n,r).pipe(ot(),ie(a=>{o[s]=a}))),Wr(1),ku(o),_n(s=>dC(s)?He:Br(s)))}function QR(t,e,n,r){let i=Qo(e)??r,o=Ii(t,i),s=o.resolve?o.resolve(e,n):Ut(i,()=>o(e,n));return Fn(s)}function eh(t){return te(e=>{let n=t(e);return n?Q(n).pipe(T(()=>e)):b(e)})}var gC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===O);return i}getResolvedTitleForRoute(r){return r.data[qo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(ZR),providedIn:"root"});let t=e;return t})(),ZR=(()=>{let e=class e extends gC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(g(Qf))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xo=new C("",{providedIn:"root",factory:()=>({})}),Zc=new C("ROUTES"),Rh=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(wc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return b(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Fn(r.loadComponent()).pipe(T(mC),ie(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Cn(()=>{this.componentLoaders.delete(r)})),o=new Fr(i,()=>new ve).pipe(kr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return b({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=XR(i,this.compiler,r,this.onLoadEndListener).pipe(Cn(()=>{this.childrenLoaders.delete(i)})),a=new Fr(s,()=>new ve).pipe(kr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XR(t,e,n,r){return Fn(t.loadChildren()).pipe(T(mC),pe(i=>i instanceof mo||Array.isArray(i)?b(i):Q(e.compileModuleAsync(i))),T(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Zc,[],{optional:!0,self:!0}).flat()),{routes:s.map(xh),injector:o}}))}function JR(t){return t&&typeof t=="object"&&"default"in t}function mC(t){return JR(t)?t.default:t}var Ph=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(eP),providedIn:"root"});let t=e;return t})(),eP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vC=new C(""),yC=new C("");function tP(t,e,n){let r=t.get(yC),i=t.get(Se);return t.get(G).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),nP(t))),{onViewTransitionCreated:c}=r;return c&&Ut(t,()=>c({transition:a,from:e,to:n})),s})}function nP(t){return new Promise(e=>{pf(e,{injector:t})})}var Oh=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=v(Rh),this.environmentInjector=v(Le),this.urlSerializer=v(Yo),this.rootContexts=v(Ko),this.location=v(di),this.inputBindingEnabled=v(Jc,{optional:!0})!==null,this.titleStrategy=v(gC),this.options=v(Xo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Ph),this.createViewTransition=v(vC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>b(void 0),this.rootComponentType=null;let r=o=>this.events.next(new uh(o)),i=o=>this.events.next(new dh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(K(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ae(s=>s.id!==0),T(s=>K(w({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),te(s=>{this.currentTransition=s;let a=!1,c=!1;return b(s).pipe(ie(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?K(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),te(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new kn(l.id,this.urlSerializer.serialize(l.rawUrl),f,Hc.IgnoredSameUrlNavigation)),l.resolve(null),He}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return b(l).pipe(te(f=>{let h=this.transitions?.getValue();return this.events.next(new Ci(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?He:Promise.resolve(f)}),zR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ie(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=K(w({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Wc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:y,extras:_}=l,D=new Ci(f,this.urlSerializer.serialize(h),p,y);this.events.next(D);let k=iC(this.rootComponentType).snapshot;return this.currentTransition=s=K(w({},l),{targetSnapshot:k,urlAfterRedirects:h,extras:K(w({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,b(s)}else{let f="";return this.events.next(new kn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Hc.IgnoredByUrlHandlingStrategy)),l.resolve(null),He}}),ie(l=>{let u=new sh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),T(l=>(this.currentTransition=s=K(w({},l),{guards:uR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),wR(this.environmentInjector,l=>this.events.next(l)),ie(l=>{if(s.guardsResult=l.guardsResult,wi(l.guardsResult))throw cC(this.urlSerializer,l.guardsResult);let u=new ah(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ae(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ft.GuardRejected),!1)),eh(l=>{if(l.guards.canActivateChecks.length)return b(l).pipe(ie(u=>{let d=new ch(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),te(u=>{let d=!1;return b(u).pipe(qR(this.paramsInheritanceStrategy,this.environmentInjector),ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",ft.NoDataFromResolver)}}))}),ie(u=>{let d=new lh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),eh(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ie(h=>{d.component=h}),T(()=>{})));for(let h of d.children)f.push(...u(h));return f};return to(u(l.targetSnapshot.root)).pipe(wn(null),tn(1))}),eh(()=>this.afterPreactivation()),te(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Q(d).pipe(T(()=>s)):b(s)}),T(l=>{let u=nR(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=K(w({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ie(()=>{this.events.next(new $o)}),lR(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),tn(1),ie({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new un(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Bu(this.transitionAbortSubject.pipe(ie(l=>{throw l}))),Cn(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",ft.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),_n(l=>{if(c=!0,uC(l))this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),oR(l)?this.events.next(new Ho(l.url)):s.resolve(!1);else{this.events.next(new Bo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return He}))}))}cancelNavigationTransition(r,i,o){let s=new On(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rP(t){return t!==Lo}var iP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(oP),providedIn:"root"});let t=e;return t})(),Th=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},oP=(()=>{let e=class e extends Th{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=_o(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_C=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(sP),providedIn:"root"});let t=e;return t})(),sP=(()=>{let e=class e extends _C{constructor(){super(...arguments),this.location=v(di),this.urlSerializer=v(Yo),this.options=v(Xo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Ph),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ci)this.stateMemento=this.createStateMemento();else if(r instanceof kn)this.rawUrlTree=i.initialUrl;else if(r instanceof Wc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof $o?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof On&&(r.code===ft.GuardRejected||r.code===ft.NoDataFromResolver)?this.restoreHistory(i):r instanceof Bo?this.restoreHistory(i,!0):r instanceof un&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=_o(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ko=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ko||{});function wC(t,e){t.events.pipe(Ae(n=>n instanceof un||n instanceof On||n instanceof Bo||n instanceof kn),T(n=>n instanceof un||n instanceof kn?ko.COMPLETE:(n instanceof On?n.code===ft.Redirect||n.code===ft.SupersededByNewNavigation:!1)?ko.REDIRECTING:ko.FAILED),Ae(n=>n!==ko.REDIRECTING),tn(1)).subscribe(()=>{e()})}function aP(t){throw t}var cP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},dn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(_c),this.stateManager=v(_C),this.options=v(Xo,{optional:!0})||{},this.pendingTasks=v(fr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(Oh),this.urlSerializer=v(Yo),this.location=v(di),this.urlHandlingStrategy=v(Ph),this._events=new ve,this.errorHandler=this.options.errorHandler||aP,this.navigated=!1,this.routeReuseStrategy=v(iP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(Zc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(Jc,{optional:!0}),this.eventsSubscription=new ue,this.isNgZoneEnabled=v(G)instanceof G&&G.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof On&&i.code!==ft.Redirect&&i.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof un)this.navigated=!0;else if(i instanceof Ho){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||rP(o.source)};this.scheduleNavigation(a,Lo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}dP(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=w({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=eC(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return tC(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=wi(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Lo,null,i)}navigate(r,i={skipLocationChange:!1}){return uP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=w({},cP):i===!1?o=w({},lP):o=i,wi(r))return Fw(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Fw(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return wC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function dP(t){return!(t instanceof $o)&&!(t instanceof Ho)}var Xc=class{};var fP=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ae(r=>r instanceof un),en(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=mc(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Q(o).pipe(yn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=b(null);let s=o.pipe(pe(a=>a===null?b(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Q([s,a]).pipe(yn())}else return s})}};e.\u0275fac=function(i){return new(i||e)(g(dn),g(wc),g(Le),g(Xc),g(Rh))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CC=new C(""),hP=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof un?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof kn&&r.code===Hc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Gc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){A_()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function pP(t){return t.routerState.root}function Jo(t,e){return{\u0275kind:t,\u0275providers:e}}function gP(){let t=v(lt);return e=>{let n=t.get(hr);if(e!==n.components[0])return;let r=t.get(dn),i=t.get(DC);t.get(kh)===1&&r.initialNavigation(),t.get(EC,null,$.Optional)?.setUpPreloading(),t.get(CC,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DC=new C("",{factory:()=>new ve}),kh=new C("",{providedIn:"root",factory:()=>1});function mP(){return Jo(2,[{provide:kh,useValue:0},{provide:Ec,multi:!0,deps:[lt],useFactory:e=>{let n=e.get(dw,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(dn),o=e.get(DC);wC(i,()=>{r(!0)}),e.get(Oh).afterPreactivation=()=>(r(!0),o.closed?b(void 0):o),i.initialNavigation()}))}}])}function vP(){return Jo(3,[{provide:Ec,multi:!0,useFactory:()=>{let e=v(dn);return()=>{e.setUpLocationChangeListener()}}},{provide:kh,useValue:2}])}var EC=new C("");function yP(t){return Jo(0,[{provide:EC,useExisting:fP},{provide:Xc,useExisting:t}])}function _P(){return Jo(8,[Uw,{provide:Jc,useExisting:Uw}])}function wP(t){let e=[{provide:vC,useValue:tP},{provide:yC,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return Jo(9,e)}var $w=new C("ROUTER_FORROOT_GUARD"),CP=[di,{provide:Yo,useClass:jo},dn,Ko,{provide:Di,useFactory:pP,deps:[dn]},Rh,[]],Fh=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[CP,[],{provide:Zc,multi:!0,useValue:r},{provide:$w,useFactory:bP,deps:[[dn,new Co,new t_]]},{provide:Xo,useValue:i||{}},i?.useHash?EP():IP(),DP(),i?.preloadingStrategy?yP(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?TP(i):[],i?.bindToComponentInputs?_P().\u0275providers:[],i?.enableViewTransitions?wP().\u0275providers:[],SP()]}}static forChild(r){return{ngModule:e,providers:[{provide:Zc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(g($w,8))},e.\u0275mod=fe({type:e}),e.\u0275inj=de({});let t=e;return t})();function DP(){return{provide:CC,useFactory:()=>{let t=v(pw),e=v(G),n=v(Xo),r=v(Oh),i=v(Yo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new hP(i,r,t,e,n)}}}function EP(){return{provide:ln,useClass:Tc}}function IP(){return{provide:ln,useClass:Pf}}function bP(t){return"guarded"}function TP(t){return[t.initialNavigation==="disabled"?vP().\u0275providers:[],t.initialNavigation==="enabledBlocking"?mP().\u0275providers:[]]}var Hw=new C("");function SP(){return[{provide:Hw,useFactory:gP},{provide:Ic,multi:!0,useExisting:Hw}]}var PC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(z(ci),z(ur))},e.\u0275dir=Qe({type:e});let t=e;return t})(),AP=(()=>{let e=class e extends PC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=_o(e)))(o||e)}})(),e.\u0275dir=Qe({type:e,features:[Mn]});let t=e;return t})(),OC=new C("NgValueAccessor");var MP={provide:OC,useExisting:oi(()=>ul),multi:!0};function xP(){let t=$t()?$t().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var NP=new C("CompositionEventMode"),ul=(()=>{let e=class e extends PC{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!xP())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(z(ci),z(ur),z(NP,8))},e.\u0275dir=Qe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&an("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[gc([MP]),Mn]});let t=e;return t})();function Ln(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function kC(t){return t!=null&&typeof t.length=="number"}var FC=new C("NgValidators"),LC=new C("NgAsyncValidators"),RP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rl=class{static min(e){return PP(e)}static max(e){return OP(e)}static required(e){return kP(e)}static requiredTrue(e){return FP(e)}static email(e){return LP(e)}static minLength(e){return VP(e)}static maxLength(e){return jP(e)}static pattern(e){return UP(e)}static nullValidator(e){return VC(e)}static compose(e){return WC(e)}static composeAsync(e){return zC(e)}};function PP(t){return e=>{if(Ln(e.value)||Ln(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function OP(t){return e=>{if(Ln(e.value)||Ln(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function kP(t){return Ln(t.value)?{required:!0}:null}function FP(t){return t.value===!0?null:{required:!0}}function LP(t){return Ln(t.value)||RP.test(t.value)?null:{email:!0}}function VP(t){return e=>Ln(e.value)||!kC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function jP(t){return e=>kC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function UP(t){if(!t)return VC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ln(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function VC(t){return null}function jC(t){return t!=null}function UC(t){return Nn(t)?Q(t):t}function BC(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function $C(t,e){return e.map(n=>n(t))}function BP(t){return!t.validate}function HC(t){return t.map(e=>BP(e)?e:n=>e.validate(n))}function WC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){return BC($C(n,e))}}function GC(t){return t!=null?WC(HC(t)):null}function zC(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){let r=$C(n,e).map(UC);return Ou(r).pipe(T(BC))}}function qC(t){return t!=null?zC(HC(t)):null}function bC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function YC(t){return t._rawValidators}function KC(t){return t._rawAsyncValidators}function Lh(t){return t?Array.isArray(t)?t:[t]:[]}function il(t,e){return Array.isArray(t)?t.includes(e):t===e}function TC(t,e){let n=Lh(e);return Lh(t).forEach(i=>{il(n,i)||n.push(i)}),n}function SC(t,e){return Lh(e).filter(n=>!il(t,n))}var ol=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ti=class extends ol{get formDirective(){return null}get path(){return null}},ns=class extends ol{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},$P={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Pz=K(w({},$P),{"[class.ng-submitted]":"isSubmitted"}),QC=(()=>{let e=class e extends sl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(ns,2))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&pc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Mn]});let t=e;return t})(),ZC=(()=>{let e=class e extends sl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(Ti,10))},e.\u0275dir=Qe({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&pc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Mn]});let t=e;return t})();var es="VALID",tl="INVALID",bi="PENDING",ts="DISABLED";function Uh(t){return(dl(t)?t.validators:t)||null}function HP(t){return Array.isArray(t)?GC(t):t||null}function Bh(t,e){return(dl(e)?e.asyncValidators:t)||null}function WP(t){return Array.isArray(t)?qC(t):t||null}function dl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function XC(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function JC(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var Si=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===es}get invalid(){return this.status===tl}get pending(){return this.status==bi}get disabled(){return this.status===ts}get enabled(){return this.status!==ts}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SC(e,this._rawAsyncValidators))}hasValidator(e){return il(this._rawValidators,e)}hasAsyncValidator(e){return il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ts,this.errors=null,this._forEachChild(r=>{r.disable(K(w({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(K(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=es,this._forEachChild(r=>{r.enable(K(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(K(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===es||this.status===bi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ts:es}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bi,this._hasOwnPendingAsyncValidator=!0;let n=UC(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?ts:this.errors?tl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bi)?bi:this._anyControlsHaveStatus(tl)?tl:es}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=HP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WP(this._rawAsyncValidators)}},al=class extends Si{constructor(e,n,r){super(Uh(n),Bh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){JC(this,!0,e),Object.keys(e).forEach(r=>{XC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vh=class extends al{};var eD=new C("CallSetDisabledState",{providedIn:"root",factory:()=>$h}),$h="always";function GP(t,e){return[...e.path,t]}function AC(t,e,n=$h){Hh(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),qP(t,e),KP(t,e),YP(t,e),zP(t,e)}function MC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ll(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function cl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zP(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Hh(t,e){let n=YC(t);e.validator!==null?t.setValidators(bC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=KC(t);e.asyncValidator!==null?t.setAsyncValidators(bC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();cl(e._rawValidators,i),cl(e._rawAsyncValidators,i)}function ll(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=YC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=KC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return cl(e._rawValidators,r),cl(e._rawAsyncValidators,r),n}function qP(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&tD(t,e)})}function YP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&tD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function tD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function KP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function QP(t,e){t==null,Hh(t,e)}function ZP(t,e){return ll(t,e)}function XP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function JP(t){return Object.getPrototypeOf(t.constructor)===AP}function eO(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ul?n=o:JP(o)?r=o:i=o}),i||r||n||null}function nO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function NC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nl=class extends Si{constructor(e=null,n,r){super(Uh(n),Bh(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(NC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){NC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rO=t=>t instanceof nl;var nD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Qe({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var iO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=fe({type:e}),e.\u0275inj=de({});let t=e;return t})();var rD=new C("NgModelWithFormControlWarning");var oO={provide:Ti,useExisting:oi(()=>Wh)},Wh=(()=>{let e=class e extends Ti{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ge,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ll(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return AC(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){MC(r.control||null,r,!1),nO(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,eO(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(MC(i||null,r),rO(o)&&(AC(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);QP(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&ZP(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hh(this.form,this),this._oldForm&&ll(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(z(FC,10),z(LC,10),z(eD,8))},e.\u0275dir=Qe({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&an("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Ke.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gc([oO]),Mn,lr]});let t=e;return t})();var sO={provide:ns,useExisting:oi(()=>Gh)},Gh=(()=>{let e=class e extends ns{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ge,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=tO(this,s)}ngOnChanges(r){this._added||this._setUpControl(),XP(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return GP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(z(Ti,13),z(FC,10),z(LC,10),z(OC,10),z(rD,8))},e.\u0275dir=Qe({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ke.None,"formControlName","name"],isDisabled:[Ke.None,"disabled","isDisabled"],model:[Ke.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[gc([sO]),Mn,lr]});let t=e;return t})();var aO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=fe({type:e}),e.\u0275inj=de({imports:[iO]});let t=e;return t})(),jh=class extends Si{constructor(e,n,r){super(Uh(n),Bh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){JC(this,!1,e),e.forEach((r,i)=>{XC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function RC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var iD=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return RC(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new al(o,s)}record(r,i=null){let o=this._reduceControls(r);return new Vh(o,i)}control(r,i,o){let s={};return this.useNonNullable?(RC(i)?s=i:(s.validators=i,s.asyncValidators=o),new nl(r,K(w({},s),{nonNullable:!0}))):new nl(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new jh(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof nl)return r;if(r instanceof Si)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:rD,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:eD,useValue:r.callSetDisabledState??$h}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=fe({type:e}),e.\u0275inj=de({imports:[aO]});let t=e;return t})();var lO="firebase",uO="10.7.2";$e(lO,uO,"app");var dO=(t,e)=>e.some(n=>t instanceof n),sD,aD;function fO(){return sD||(sD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hO(){return aD||(aD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var cD=new WeakMap,qh=new WeakMap,lD=new WeakMap,zh=new WeakMap,Kh=new WeakMap;function pO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(zt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cD.set(n,t)}).catch(()=>{}),Kh.set(e,t),e}function gO(t){if(qh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});qh.set(t,e)}var Yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uD(t){Yh=t(Yh)}function mO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(fl(this),e,...n);return lD.set(r,e.sort?e.sort():[e]),zt(r)}:hO().includes(t)?function(...e){return t.apply(fl(this),e),zt(cD.get(this))}:function(...e){return zt(t.apply(fl(this),e))}}function vO(t){return typeof t=="function"?mO(t):(t instanceof IDBTransaction&&gO(t),dO(t,fO())?new Proxy(t,Yh):t)}function zt(t){if(t instanceof IDBRequest)return pO(t);if(zh.has(t))return zh.get(t);let e=vO(t);return e!==t&&(zh.set(t,e),Kh.set(e,t)),e}var fl=t=>Kh.get(t);function fD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=zt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(zt(s.result),c.oldVersion,c.newVersion,zt(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}var yO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],Qh=new Map;function dD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yO.includes(n)))return;let o=function(s,...a){return P(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Qh.set(e,o),o}uD(t=>K(w({},t),{get:(e,n,r)=>dD(e,n)||t.get(e,n,r),has:(e,n)=>!!dD(e,n)||t.has(e,n)}));var gD="@firebase/installations",ep="0.6.4";var mD=1e4,vD=`w:${ep}`,yD="FIS_v2",wO="https://firebaseinstallations.googleapis.com/v1",CO=60*60*1e3,DO="installations",EO="Installations";var IO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vr=new xr(DO,EO,IO);function _D(t){return t instanceof Hs&&t.code.includes("request-failed")}function wD({projectId:t}){return`${wO}/projects/${t}/installations`}function CD(t){return{token:t.token,requestStatus:2,expiresIn:TO(t.expiresIn),creationTime:Date.now()}}function DD(t,e){return P(this,null,function*(){let r=(yield e.json()).error;return vr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function ED({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bO(t,{refreshToken:e}){let n=ED(t);return n.append("Authorization",SO(e)),n}function ID(t){return P(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function TO(t){return Number(t.replace("s","000"))}function SO(t){return`${yD} ${t}`}function AO(r,i){return P(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=wD(t),s=ED(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:n,authVersion:yD,appId:t.appId,sdkVersion:vD},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield ID(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:CD(d.authToken)}}else throw yield DD("Create Installation",u)})}function bD(t){return new Promise(e=>{setTimeout(e,t)})}function MO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var xO=/^[cdef][\w-]{21}$/,Jh="";function NO(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=RO(t);return xO.test(n)?n:Jh}catch{return Jh}}function RO(t){return MO(t).substr(0,22)}function pl(t){return`${t.appName}!${t.appId}`}var TD=new Map;function SD(t,e){let n=pl(t);AD(n,e),PO(n,e)}function AD(t,e){let n=TD.get(t);if(n)for(let r of n)r(e)}function PO(t,e){let n=OO();n&&n.postMessage({key:t,fid:e}),kO()}var mr=null;function OO(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=t=>{AD(t.data.key,t.data.fid)}),mr}function kO(){TD.size===0&&mr&&(mr.close(),mr=null)}var FO="firebase-installations-database",LO=1,yr="firebase-installations-store",Zh=null;function tp(){return Zh||(Zh=fD(FO,LO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yr)}}})),Zh}function hl(t,e){return P(this,null,function*(){let n=pl(t),i=(yield tp()).transaction(yr,"readwrite"),o=i.objectStore(yr),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&SD(t,e.fid),e})}function MD(t){return P(this,null,function*(){let e=pl(t),r=(yield tp()).transaction(yr,"readwrite");yield r.objectStore(yr).delete(e),yield r.done})}function gl(t,e){return P(this,null,function*(){let n=pl(t),i=(yield tp()).transaction(yr,"readwrite"),o=i.objectStore(yr),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&SD(t,a.fid),a})}function np(t){return P(this,null,function*(){let e,n=yield gl(t.appConfig,r=>{let i=VO(r),o=jO(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Jh?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function VO(t){let e=t||{fid:NO(),registrationStatus:0};return xD(e)}function jO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(vr.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=UO(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BO(t)}:{installationEntry:e}}function UO(t,e){return P(this,null,function*(){try{let n=yield AO(t,e);return hl(t.appConfig,n)}catch(n){throw _D(n)&&n.customData.serverCode===409?yield MD(t.appConfig):yield hl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function BO(t){return P(this,null,function*(){let e=yield hD(t.appConfig);for(;e.registrationStatus===1;)yield bD(100),e=yield hD(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield np(t);return r||n}return e})}function hD(t){return gl(t,e=>{if(!e)throw vr.create("installation-not-found");return xD(e)})}function xD(t){return $O(t)?{fid:t.fid,registrationStatus:0}:t}function $O(t){return t.registrationStatus===1&&t.registrationTime+mD<Date.now()}function HO(r,i){return P(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=WO(t,n),s=bO(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:vD,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield ID(()=>fetch(o,l));if(u.ok){let d=yield u.json();return CD(d)}else throw yield DD("Generate Auth Token",u)})}function WO(t,{fid:e}){return`${wD(t)}/${e}/authTokens:generate`}function rp(t,e=!1){return P(this,null,function*(){let n,r=yield gl(t.appConfig,o=>{if(!ND(o))throw vr.create("not-registered");let s=o.authToken;if(!e&&qO(s))return o;if(s.requestStatus===1)return n=GO(t,e),o;{if(!navigator.onLine)throw vr.create("app-offline");let a=KO(o);return n=zO(t,a),a}});return n?yield n:r.authToken})}function GO(t,e){return P(this,null,function*(){let n=yield pD(t.appConfig);for(;n.authToken.requestStatus===1;)yield bD(100),n=yield pD(t.appConfig);let r=n.authToken;return r.requestStatus===0?rp(t,e):r})}function pD(t){return gl(t,e=>{if(!ND(e))throw vr.create("not-registered");let n=e.authToken;return QO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function zO(t,e){return P(this,null,function*(){try{let n=yield HO(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield hl(t.appConfig,r),n}catch(n){if(_D(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield MD(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield hl(t.appConfig,r)}throw n}})}function ND(t){return t!==void 0&&t.registrationStatus===2}function qO(t){return t.requestStatus===2&&!YO(t)}function YO(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CO}function KO(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function QO(t){return t.requestStatus===1&&t.requestTime+mD<Date.now()}function ZO(t){return P(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield np(e);return r?r.catch(console.error):rp(e).catch(console.error),n.fid})}function XO(t,e=!1){return P(this,null,function*(){let n=t;return yield JO(n),(yield rp(n,e)).token})}function JO(t){return P(this,null,function*(){let{registrationPromise:e}=yield np(t);e&&(yield e)})}function ek(t){if(!t||!t.options)throw Xh("App Configuration");if(!t.name)throw Xh("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Xh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xh(t){return vr.create("missing-app-config-values",{valueName:t})}var RD="installations",tk="installations-internal",nk=t=>{let e=t.getProvider("app").getImmediate(),n=ek(e),r=vn(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},rk=t=>{let e=t.getProvider("app").getImmediate(),n=vn(e,RD).getImmediate();return{getId:()=>ZO(n),getToken:i=>XO(n,i)}};function ik(){yt(new Pe(RD,nk,"PUBLIC")),yt(new Pe(tk,rk,"PRIVATE"))}ik();$e(gD,ep);$e(gD,ep,"esm2017");var ml="analytics",ok="firebase_id",sk="origin",ak=60*1e3,ck="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",up="https://www.googletagmanager.com/gtag/js";var ze=new mn("@firebase/analytics");var lk={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xe=new xr("analytics","Analytics",lk);function uk(t){if(!t.startsWith(up)){let e=Xe.create("invalid-gtag-resource",{gtagURL:t});return ze.warn(e.message),""}return t}function jD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dk(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function fk(t,e){let n=dk("firebase-js-sdk-policy",{createScriptURL:uk}),r=document.createElement("script"),i=`${up}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function hk(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function pk(t,e,n,r,i,o){return P(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let c=(yield jD(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){ze.error(a)}t("config",i,o)})}function gk(t,e,n,r,i){return P(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield jD(n);for(let c of s){let l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){ze.error(o)}})}function mk(t,e,n,r){function i(o,...s){return P(this,null,function*(){try{if(o==="event"){let[a,c]=s;yield gk(t,e,n,a,c)}else if(o==="config"){let[a,c]=s;yield pk(t,e,n,r,a,c)}else if(o==="consent"){let[a]=s;t("consent","update",a)}else if(o==="get"){let[a,c,l]=s;t("get",a,c,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){ze.error(a)}})}return i}function vk(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=mk(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function yk(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(up)&&n.src.includes(t))return n;return null}var _k=30,wk=1e3,op=class{constructor(e={},n=wk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},UD=new op;function Ck(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Dk(t){return P(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:Ck(r)},o=ck.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let c=yield s.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Xe.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function Ek(r){return P(this,arguments,function*(t,e=UD,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw Xe.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Xe.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new sp;return setTimeout(()=>P(this,null,function*(){c.abort()}),n!==void 0?n:ak),BD({appId:i,apiKey:o,measurementId:s},a,c,e)})}function BD(o,s,a){return P(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=UD){var c;let{appId:l,measurementId:u}=t;try{yield Ik(r,e)}catch(d){if(u)return ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{let d=yield Dk(t);return i.deleteThrottleMetadata(l),d}catch(d){let f=d;if(!bk(f)){if(i.deleteThrottleMetadata(l),u)return ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw d}let h=Number((c=f?.customData)===null||c===void 0?void 0:c.httpStatus)===503?zs(n,i.intervalMillis,_k):zs(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(l,p),ze.debug(`Calling attemptFetch again in ${h} millis`),BD(t,p,r,i)}})}function Ik(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Xe.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bk(t){if(!(t instanceof Hs)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var sp=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var ap;function Tk(t,e,n,r,i){return P(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var cp;function Sk(t){cp=t}function Ak(t){ap=t}function Mk(){return P(this,null,function*(){if($s())try{yield Mm()}catch(t){return ze.warn(Xe.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ze.warn(Xe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function xk(t,e,n,r,i,o,s){return P(this,null,function*(){var a;let c=Ek(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&ze.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>ze.error(h)),e.push(c);let l=Mk().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);yk(o)||fk(o,u.measurementId),cp&&(i("consent","default",cp),Sk(void 0)),i("js",new Date);let f=(a=s?.config)!==null&&a!==void 0?a:{};return f[sk]="firebase",f.update=!0,d!=null&&(f[ok]=d),i("config",u.measurementId,f),ap&&(i("set",ap),Ak(void 0)),u.measurementId})}var lp=class{constructor(e){this.app=e}_delete(){return delete rs[this.app.options.appId],Promise.resolve()}},rs={},PD=[],OD={},ip="dataLayer",Nk="gtag",kD,$D,FD=!1;function Rk(){let t=[];if(Sm()&&t.push("This is a browser extension environment."),xm()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xe.create("invalid-analytics-context",{errorInfo:e});ze.warn(n.message)}}function Pk(t,e,n){Rk();let r=t.options.appId;if(!r)throw Xe.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xe.create("no-api-key");if(rs[r]!=null)throw Xe.create("already-exists",{id:r});if(!FD){hk(ip);let{wrappedGtag:o,gtagCore:s}=vk(rs,PD,OD,ip,Nk);$D=o,kD=s,FD=!0}return rs[r]=xk(t,PD,OD,e,kD,ip,n),new lp(t)}function HD(t=Zi()){t=Ce(t);let e=vn(t,ml);return e.isInitialized()?e.getImmediate():Ok(t)}function Ok(t,e={}){let n=vn(t,ml);if(n.isInitialized()){let i=n.getImmediate();if(Pm(e,n.getOptions()))return i;throw Xe.create("already-initialized")}return n.initialize({options:e})}function kk(t,e,n,r){t=Ce(t),Tk($D,rs[t.app.options.appId],e,n,r).catch(i=>ze.error(i))}var LD="@firebase/analytics",VD="0.10.0";function Fk(){yt(new Pe(ml,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Pk(r,i,n)},"PUBLIC")),yt(new Pe("analytics-internal",t,"PRIVATE")),$e(LD,VD),$e(LD,VD,"esm2017");function t(e){try{let n=e.getProvider(ml).getImmediate();return{logEvent:(r,i,o)=>kk(n,r,i,o)}}catch(n){throw Xe.create("interop-component-reg-failed",{reason:n})}}}Fk();var Vn={urlToDb:"https://databasereida-240f.restdb.io/rest/db",xApiKey:"65bcbd653b43c210ffb720ca",firebaseConfig:{apiKey:"AIzaSyCuGi_UPw2TY11fdBB7AvEC8-ajGMISCu8",authDomain:"reidaprova.firebaseapp.com",databaseURL:"https://reidaprova-default-rtdb.europe-west1.firebasedatabase.app",projectId:"reidaprova",storageBucket:"reidaprova.appspot.com",messagingSenderId:"638479874058",appId:"1:638479874058:web:bd36c00c72a3ad092c47f3",measurementId:"G-NB9GDB7EXV"}},Lk=jm(Vn.firebaseConfig),a3=HD(Lk);var vl=(()=>{let e=class e{constructor(r){this.http=r}getAccess(){let r=new Ht({"x-api-key":Vn.xApiKey});return this.http.get(Vn.urlToDb,{headers:r})}updateAccess(r,i){let o=new Ht({"x-api-key":Vn.xApiKey});return this.http.put(`${Vn.urlToDb}/${r}`,i,{headers:o})}};e.\u0275fac=function(i){return new(i||e)(g(Mo))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ai=(()=>{let e=class e{constructor(){this.loading=new ye(!0),this.loading$=this.loading.asObservable(),this.show=()=>this.loading.next(!0),this.hide=()=>this.loading.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var is=new rn("ANGULARFIRE2_VERSION");var Vk=(t,e)=>{let n=e?[e]:Um(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},_r=class{constructor(){return Vk(jk)}},jk="app-check";function fp(){}var yl=class{zone;delegate;constructor(e,n=Nu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},hp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fp,{},fp,fp)),n.pipe(ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},_l=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new yl(Zone.current)),this.insideAngular=n.run(()=>new yl(Zone.current,eo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(g(G))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uk(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function fn(t){return Bk(Uk())(t)}function Bk(t){return function(n){return n=n.lift(new hp(t.ngZone)),n.pipe(wt(t.outsideAngular),it(t.insideAngular))}}var $k=new Map,Hk={activated:!1,tokenObservers:[]},Wk={initialized:!1,enabled:!1};function St(t){return $k.get(t)||Object.assign({},Hk)}function QD(){return Wk}var Gk="https://content-firebaseappcheck.googleapis.com/v1";var zk="exchangeDebugToken",zD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},I3=24*60*60*1e3;var gp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return P(this,null,function*(){this.stop();try{this.pending=new we,this.pending.promise.catch(n=>{}),yield qk(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new we,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function qk(t){return new Promise(e=>{setTimeout(e,t)})}var Yk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},jn=new xr("appCheck","AppCheck",Yk);function ZD(t){if(!St(t).activated)throw jn.create("use-before-activation",{appName:t.name})}function XD(r,i){return P(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(h){throw jn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw jn.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw jn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw jn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function JD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Gk}/projects/${n}/apps/${r}:${zk}?key=${i}`,body:{debug_token:e}}}var Kk="firebase-app-check-database",Qk=1,mp="firebase-app-check-store";var wl=null;function Zk(){return wl||(wl=new Promise((t,e)=>{try{let n=indexedDB.open(Kk,Qk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(jn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(mp,{keyPath:"compositeKey"})}}}catch(n){e(jn.create("storage-open",{originalErrorMessage:n?.message}))}}),wl)}function Xk(t,e){return Jk(eF(t),e)}function Jk(t,e){return P(this,null,function*(){let r=(yield Zk()).transaction(mp,"readwrite"),o=r.objectStore(mp).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(jn.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function eF(t){return`${t.options.appId}-${t.name}`}var vp=new mn("@firebase/app-check");function pp(t,e){return $s()?Xk(t,e).catch(n=>{vp.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function eE(){return QD().enabled}function tE(){return P(this,null,function*(){let t=QD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var tF={error:"UNKNOWN_ERROR"};function nF(t){return Bs.encodeString(JSON.stringify(t),!1)}function yp(t,e=!1){return P(this,null,function*(){let n=t.app;ZD(n);let r=St(n),i=r.token,o;if(i&&!os(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(os(c)?i=c:yield pp(n,void 0))}if(!e&&i&&os(i))return{token:i.token};let s=!1;if(eE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=XD(JD(n,yield tE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield pp(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield St(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?vp.warn(c.message):vp.error(c),o=c}let a;return i?o?os(i)?a={token:i.token,internalError:o}:a=YD(o):(a={token:i.token},r.token=i,yield pp(n,i)):a=YD(o),s&&sF(n,a),a})}function rF(t){return P(this,null,function*(){let e=t.app;ZD(e);let{provider:n}=St(e);if(eE()){let r=yield tE(),{token:i}=yield XD(JD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function iF(t,e,n,r){let{app:i}=t,o=St(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&os(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),qD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>qD(t))}function nE(t,e){let n=St(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function qD(t){let{app:e}=t,n=St(e),r=n.tokenRefresher;r||(r=oF(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function oF(t){let{app:e}=t;return new gp(()=>P(this,null,function*(){let n=St(e),r;if(n.token?r=yield yp(t,!0):r=yield yp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=St(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},zD.RETRIAL_MIN_WAIT,zD.RETRIAL_MAX_WAIT)}function sF(t,e){let n=St(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function os(t){return t.expireTimeMillis-Date.now()>0}function YD(t){return{token:nF(tF),error:t}}var _p=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=St(this.app);for(let n of e)nE(this.app,n.next);return Promise.resolve()}};function aF(t,e){return new _p(t,e)}function cF(t){return{getToken:e=>yp(t,e),getLimitedUseToken:()=>rF(t),addTokenListener:e=>iF(t,"INTERNAL",e),removeTokenListener:e=>nE(t.app,e)}}var lF="@firebase/app-check",uF="0.8.1";var dF="app-check",KD="app-check-internal";function fF(){yt(new Pe(dF,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return aF(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(KD).initialize()})),yt(new Pe(KD,t=>{let e=t.getProvider("app-check").getImmediate();return cF(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(lF,uF)}fF();var hF=["localhost","0.0.0.0","127.0.0.1"],F3=typeof window<"u"&&hF.includes(window.location.hostname);var pF="firebase",gF="10.7.2";qe.registerVersion(pF,gF,"app-compat");var mF=["ngOnDestroy"],oE=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(mF.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let d=u?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,d),d})})})});var Cl=class{constructor(e){return e}},Mi=new C("angularfire2.app.options"),xi=new C("angularfire2.app.name");function ss(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=qe.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>qe.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;vF("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Cl(s)}var vF=(t,...e)=>{If()&&typeof console<"u"&&console[t](...e)},yF={provide:Cl,useFactory:ss,deps:[Mi,G,[new Co,xi]]},sE=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Mi,useValue:n},{provide:xi,useValue:r}]}}constructor(n){qe.registerVersion("angularfire",is.full,"core"),qe.registerVersion("angularfire",is.full,"app-compat"),qe.registerVersion("angular",Q_.full,n.toString())}static \u0275fac=function(r){return new(r||t)(g(Ne))};static \u0275mod=fe({type:t});static \u0275inj=de({providers:[yF]})}return t})();function Dl(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return _F(i,s)||(iE("error",`${e} was already initialized on the ${n} Firebase App with different settings.${wF?" You may need to reload as Firebase is not HMR aware.":""}`),iE("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function _F(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var wF=typeof module<"u"&&!!module.hot,iE=(t,...e)=>{If()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var wp=new C("angularfire2.auth.use-emulator"),Cp=new C("angularfire2.auth.settings"),Dp=new C("angularfire2.auth.tenant-id"),Ep=new C("angularfire2.auth.langugage-code"),Ip=new C("angularfire2.auth.use-device-language"),bp=new C("angularfire.auth.persistence"),Tp=(t,e,n,r,i,o,s,a)=>Dl(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),aE=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,u,d,f,h){let p=new ve,y=b(void 0).pipe(it(s.outsideAngular),te(()=>o.runOutsideAngular(()=>import("./chunk-2CFL7TP7.js"))),T(()=>ss(n,o,r)),T(_=>Tp(_,o,a,l,u,d,c,f)),_a({bufferSize:1,refCount:!1}));if(bo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b(null);else{y.pipe(ot()).subscribe();let _=y.pipe(te(U=>U.getRedirectResult().then(B=>B,()=>null)),fn,_a({bufferSize:1,refCount:!1})),D=y.pipe(te(U=>new F(B=>({unsubscribe:o.runOutsideAngular(()=>U.onAuthStateChanged(le=>B.next(le),le=>B.error(le),()=>B.complete()))})))),k=y.pipe(te(U=>new F(B=>({unsubscribe:o.runOutsideAngular(()=>U.onIdTokenChanged(le=>B.next(le),le=>B.error(le),()=>B.complete()))}))));this.authState=_.pipe(wa(D),wt(s.outsideAngular),it(s.insideAngular)),this.user=_.pipe(wa(k),wt(s.outsideAngular),it(s.insideAngular)),this.idToken=this.user.pipe(te(U=>U?Q(U.getIdToken()):b(null))),this.idTokenResult=this.user.pipe(te(U=>U?Q(U.getIdTokenResult()):b(null))),this.credential=Hr(_,p,this.authState.pipe(Ae(U=>!U))).pipe(T(U=>U?.user?U:null),wt(s.outsideAngular),it(s.insideAngular))}return oE(this,y,o,{spy:{apply:(_,D,k)=>{(_.startsWith("signIn")||_.startsWith("createUser"))&&k.then(U=>p.next(U))}}})}static \u0275fac=function(r){return new(r||t)(g(Mi),g(xi,8),g(Ne),g(G),g(_l),g(wp,8),g(Cp,8),g(Dp,8),g(Ep,8),g(Ip,8),g(bp,8),g(_r,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var cE="@firebase/database",lE="1.0.2";var Vg="";function jg(t){Vg=t}var Op=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),he(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ws(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var kp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return rt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var UE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Op(e)}}catch{}return new kp},Cr=UE("localStorage"),Fp=UE("sessionStorage");var Oi=new mn("@firebase/database"),BE=function(){let t=1;return function(){return t++}}(),$E=function(t){let e=Fm(t),n=new km;n.update(e);let r=n.digest();return Bs.encodeByteArray(r)},xs=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=xs.apply(null,r):typeof r=="object"?e+=he(r):e+=r,e+=" "}return e},Dr=null,uE=!0,HE=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Oi.logLevel=Lm.VERBOSE,Dr=Oi.log.bind(Oi),e&&Fp.set("logging_enabled",!0)):typeof t=="function"?Dr=t:(Dr=null,Fp.remove("logging_enabled"))},Ee=function(...t){if(uE===!0&&(uE=!1,Dr===null&&Fp.get("logging_enabled")===!0&&HE(!0)),Dr){let e=xs.apply(null,t);Dr(e)}},Ns=function(t){return function(...e){Ee(t,...e)}},Lp=function(...t){let e="FIREBASE INTERNAL ERROR: "+xs(...t);Oi.error(e)},Kt=function(...t){let e=`FIREBASE FATAL ERROR: ${xs(...t)}`;throw Oi.error(e),new Error(e)},Re=function(...t){let e="FIREBASE WARNING: "+xs(...t);Oi.warn(e)},DF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Re("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ql=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},EF=function(t){if(xt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hn="[MIN_NAME]",hn="[MAX_NAME]",Ir=function(t,e){if(t===e)return 0;if(t===Hn||e===hn)return-1;if(e===Hn||t===hn)return 1;{let n=dE(t),r=dE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},IF=function(t,e){return t===e?0:t<e?-1:1},as=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+he(e))},Ug=function(t){if(typeof t!="object"||t===null)return he(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=he(e[r]),n+=":",n+=Ug(t[e[r]]);return n+="}",n},WE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ie(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var GE=function(t){m(!Ql(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},bF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var AF=new RegExp("^-?(0*)\\d{1,10}$"),MF=-2147483648,xF=2147483647,dE=function(t){if(AF.test(t)){let e=Number(t);if(e>=MF&&e<=xF)return e}return null},Hi=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Re("Exception was thrown by user callback.",n),e},Math.floor(0))}},NF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ds=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Vp=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Re(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var jp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ee("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Re(e)}},fs=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Il="5",zE="v",qE="s",YE="r",KE="f",QE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZE="ls",XE="p",Up="ac",JE="websocket",eI="long_polling";var bl=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function RF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tI(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===JE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RF(t)&&(n.ns=t.namespace);let i=[];return Ie(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Bp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){rt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bm(this.counters_)}};var Sp={},Ap={};function Bg(t){let e=t.toString();return Sp[e]||(Sp[e]=new Bp),Sp[e]}function PF(t,e){let n=t.toString();return Ap[n]||(Ap[n]=e()),Ap[n]}var $p=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Hi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var fE="start",OF="close",kF="pLPCommand",FF="pRTLPCB",nI="id",rI="pw",iI="ser",LF="cb",VF="seg",jF="ts",UF="d",BF="dframe",oI=1870,sI=30,$F=oI-sI,HF=25e3,WF=3e4,ms=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ns(e),this.stats_=Bg(n),this.urlFn=c=>(this.appCheckToken&&(c[Up]=this.appCheckToken),tI(n,eI,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new $p(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WF)),EF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hp((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===fE)this.id=a,this.password=c;else if(s===OF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[fE]="t",r[iI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[LF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[zE]=Il,this.transportSessionId&&(r[qE]=this.transportSessionId),this.lastSessionId&&(r[ZE]=this.lastSessionId),this.applicationId&&(r[XE]=this.applicationId),this.appCheckToken&&(r[Up]=this.appCheckToken),typeof location<"u"&&location.hostname&&QE.test(location.hostname)&&(r[YE]=KE);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return xt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bF()&&!TF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=he(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Im(n),i=WE(r,$F);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(xt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[BF]="t",r[nI]=e,r[rI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=he(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Hp=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,xt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=BE(),window[kF+this.uniqueCallbackIdentifier]=e,window[FF+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ee("frame writing exception"),a.stack&&Ee(a.stack),Ee(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ee("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[nI]=this.myID,e[rI]=this.myPW,e[iI]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sI+r.length<=oI;){let s=this.pendingSegs.shift();r=r+"&"+VF+i+"="+s.seg+"&"+jF+i+"="+s.ts+"&"+UF+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(HF)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){xt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ee("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var GF=16384,zF=45e3,Tl=null;typeof MozWebSocket<"u"?Tl=MozWebSocket:typeof WebSocket<"u"&&(Tl=WebSocket);var Ri=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ns(this.connId),this.stats_=Bg(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[zE]=Il,!xt()&&typeof location<"u"&&location.hostname&&QE.test(location.hostname)&&(a[YE]=KE),r&&(a[qE]=r),i&&(a[ZE]=i),o&&(a[Up]=o),s&&(a[XE]=s),tI(n,JE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cr.set("previous_websocket_failure",!0);try{let i;if(xt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Il}/${Vg}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Tl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Tl!==null&&!t.forceDisallow_}static previouslyFailed(){return Cr.isInMemoryStorage||Cr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Cr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Ws(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=he(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=WE(r,GF);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),aI=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ms,Ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ri&&Ri.isAvailable(),i=r&&!Ri.previouslyFailed();if(n.webSocketOnly&&(r||Re("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ri];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),qF=6e4,YF=5e3,KF=10*1024,QF=100*1024,Mp="t",hE="d",ZF="s",pE="r",XF="e",gE="o",mE="a",vE="n",yE="p",JF="h",Wp=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ns("c:"+this.id+":"),this.transportManager_=new aI(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ds(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mp in e){let n=e[Mp];n===mE?this.upgradeIfSecondaryHealthy_():n===pE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=as("t",e),r=as("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:vE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=as("t",e),r=as("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=as(Mp,e);if(hE in e){let r=e[hE];if(n===JF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===vE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ZF?this.onConnectionShutdown_(r):n===pE?this.onReset_(r):n===XF?Lp("Server Error: "+r):n===gE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lp("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Il!==r&&Re("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ds(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ds(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yE,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Sl=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Al=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ml=class t extends Al{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var _E=32,wE=768,Y=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function q(){return new Y("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Wn(t){return t.pieces_.length-t.pieceNum_}function ee(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Y(t.pieces_,e)}function $g(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function e1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function cI(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Y(e,0)}function oe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Y)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Y(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Ve(t,e){let n=V(t),r=V(e);if(n===null)return e;if(n===r)return Ve(ee(t),ee(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function t1(t,e){let n=vs(t,0),r=vs(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Ir(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Hg(t,e){if(Wn(t)!==Wn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Wn(t)>Wn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Gp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=vs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qi(this.parts_[r]);lI(this)}};function n1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qi(e),lI(t)}function r1(t){let e=t.parts_.pop();t.byteLength_-=Qi(e),t.parts_.length>0&&(t.byteLength_-=1)}function lI(t){if(t.byteLength_>wE)throw new Error(t.errorPrefix_+"has a key path longer than "+wE+" bytes ("+t.byteLength_+").");if(t.parts_.length>_E)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_E+") or object contains a cycle "+wr(t))}function wr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var zp=class t extends Al{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var cs=1e3,i1=60*5*1e3,CE=30*1e3,o1=1.3,s1=3e4,a1="server_kill",DE=3,Wg=(()=>{class t extends Sl{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Ns("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cs,this.maxReconnectDelay_=i1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!xt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ml.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(he(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new we,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&rt(n,"w")){let i=gn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Re(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Rm(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=CE)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Nm(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+he(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Lp("Unrecognized action received from server: "+he(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>s1&&(this.reconnectDelay_=cs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*o1)}this.onConnectStatus_(!1)}establishConnection_(){return P(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ee("getToken() completed but was canceled"):(Ee("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Wp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Re(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(a1)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Re(f),l())}}})}interrupt(n){Ee("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ee("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Gs(this.interruptReasons_)&&(this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Ug(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Y(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ee("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=DE&&(this.reconnectDelay_=CE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ee("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=DE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";xt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Vg.replace(/\./g,"-")]=1,gu()?n["framework.cordova"]=1:Am()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ml.getInstance().currentlyOnline();return Gs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),H=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ki=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new H(Hn,e),i=new H(Hn,n);return this.compare(r,i)!==0}minPost(){return H.MIN}};var El,xl=class extends ki{static get __EMPTY_NODE(){return El}static set __EMPTY_NODE(e){El=e}compare(e,n){return Ir(e.name,n.name)}isDefinedOn(e){throw Mr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return H.MIN}maxPost(){return new H(hn,El)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new H(e,El)}toString(){return".key"}},Yt=new xl;var Pi=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},At=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??gt.EMPTY_NODE,this.right=s??gt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return gt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return gt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),qp=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new At(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},gt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Pi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Pi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Pi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Pi(this.root_,null,this.comparator_,!0,e)}};gt.EMPTY_NODE=new qp;function c1(t,e){return Ir(t.name,e.name)}function Gg(t,e){return Ir(t,e)}var Yp;function l1(t){Yp=t}var uI=function(t){return typeof t=="number"?"number:"+GE(t):"string:"+t},dI=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&rt(e,".sv"),"Priority must be a string or number.")}else m(t===Yp||t.isEmpty(),"priority of unexpected type.");m(t===Yp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var EE,Fi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dI(this.priorityNode_)}static set __childrenNodeConstructor(n){EE=n}static get __childrenNodeConstructor(){return EE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return j(n)?this:V(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=V(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Wn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ee(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+uI(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=GE(this.value_):n+=this.value_,this.lazyHash_=$E(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),fI,hI;function u1(t){fI=t}function d1(t){hI=t}var Kp=class extends ki{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ir(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return H.MIN}maxPost(){return new H(hn,new Fi("[PRIORITY-POST]",hI))}makePost(e,n){let r=fI(e);return new H(n,new Fi("[PRIORITY-POST]",r))}toString(){return".priority"}},ne=new Kp;var f1=Math.log(2),Qp=class{constructor(e){let n=o=>parseInt(Math.log(o)/f1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Nl=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new At(f,d.node,At.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=t[h],f=n?n(d):d,new At(f,d.node,At.BLACK,p,y)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,y){let _=d-p,D=d;d-=p;let k=i(_+1,D),U=t[_],B=n?n(U):U;h(new At(B,U.node,y,null,k))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),_=Math.pow(2,c.count-(p+1));y?f(_,At.BLACK):(f(_,At.BLACK),f(_,At.RED))}return u},s=new Qp(t.length),a=o(s);return new gt(r||e,a)};var xp,Ni={},Li=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Ni&&ne,"ChildrenNode.ts has not been loaded"),xp=xp||new t({".priority":Ni},{".priority":ne}),xp}get(e){let n=gn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gt?n:null}hasIndex(e){return rt(this.indexSet_,e.toString())}addIndex(e,n){m(e!==Yt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(H.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Nl(r,e.getCompare()):a=Ni;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Ki(this.indexes_,(i,o)=>{let s=gn(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===Ni)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(H.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Nl(a,s.getCompare())}else return Ni;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new H(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Ki(this.indexes_,i=>{if(i===Ni)return i;{let o=n.get(e.name);return o?i.remove(new H(e.name,o)):i}});return new t(r,this.indexSet_)}};var ls,N=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&dI(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ls||(ls=new t(new gt(Gg),null,Li.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ls}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ls:r}}getChild(n){let r=V(n);return r===null?this:this.getImmediateChild(r).getChild(ee(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new H(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ls:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=V(n);if(i===null)return r;{m(V(n)!==".priority"||Wn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ee(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ne,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+uI(this.getPriority().val())+":"),this.forEachChild(ne,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":$E(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new H(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new H(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new H(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,H.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,H.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Rs?-1:0}withIndex(n){if(n===Yt||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Yt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ne),o=r.getIterator(ne),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Yt?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Zp=class extends N{constructor(){super(new gt(Gg),N.EMPTY_NODE,Li.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return N.EMPTY_NODE}isEmpty(){return!1}},Rs=new Zp;Object.defineProperties(H,{MIN:{value:new H(Hn,N.EMPTY_NODE)},MAX:{value:new H(hn,Rs)}});xl.__EMPTY_NODE=N.EMPTY_NODE;Fi.__childrenNodeConstructor=N;l1(Rs);d1(Rs);var h1=!0;function ce(t,e=null){if(t===null)return N.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Fi(n,ce(e))}if(!(t instanceof Array)&&h1){let n=[],r=!1;if(Ie(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=ce(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new H(s,c)))}}),n.length===0)return N.EMPTY_NODE;let o=Nl(n,c1,s=>s.name,Gg);if(r){let s=Nl(n,ne.getCompare());return new N(o,ce(e),new Li({".priority":s},{".priority":ne}))}else return new N(o,ce(e),Li.Default)}else{let n=N.EMPTY_NODE;return Ie(t,(r,i)=>{if(rt(t,r)&&r.substring(0,1)!=="."){let o=ce(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ce(e))}}u1(ce);var ys=class extends ki{constructor(e){super(),this.indexPath_=e,m(!j(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ir(e.name,n.name):o}makePost(e,n){let r=ce(e),i=N.EMPTY_NODE.updateChild(this.indexPath_,r);return new H(n,i)}maxPost(){let e=N.EMPTY_NODE.updateChild(this.indexPath_,Rs);return new H(hn,e)}toString(){return vs(this.indexPath_,0).join("/")}};var Xp=class extends ki{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ir(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return H.MIN}maxPost(){return H.MAX}makePost(e,n){let r=ce(e);return new H(n,r)}toString(){return".value"}},zg=new Xp;function pI(t){return{type:"value",snapshotNode:t}}function Vi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _s(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ws(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function p1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Cs=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(_s(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Vi(n,r)):s.trackChildChange(ws(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ne,(i,o)=>{n.hasChild(i)||r.trackChildChange(_s(i,o))}),n.isLeafNode()||n.forEachChild(ne,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(ws(i,o,s))}else r.trackChildChange(Vi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?N.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Rl=class t{constructor(e){this.indexedFilter_=new Cs(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new H(n,r))||(r=N.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=N.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(N.EMPTY_NODE);let o=this;return n.forEachChild(ne,(s,a)=>{o.matches(new H(s,a))||(i=i.updateImmediateChild(s,N.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Jp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Rl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new H(n,r))||(r=N.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=N.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=N.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(N.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,N.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new H(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(ws(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(_s(n,d));let y=a.updateImmediateChild(n,N.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Vi(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(_s(l.name,l.node)),o.trackChildChange(Vi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,N.EMPTY_NODE)):e}};var Ds=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ne}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hn}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ne}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function g1(t){return t.loadsAllData()?new Cs(t.getIndex()):t.hasLimit()?new Jp(t):new Rl(t)}function m1(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function v1(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function eg(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function y1(t,e,n){let r;return t.index_===Yt||n?r=eg(t,e,n):r=eg(t,e,hn),r.startAfterSet_=!0,r}function tg(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function _1(t,e,n){let r;return t.index_===Yt||n?r=tg(t,e,n):r=tg(t,e,Hn),r.endBeforeSet_=!0,r}function Zl(t,e){let n=t.copy();return n.index_=e,n}function IE(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ne?n="$priority":t.index_===zg?n="$value":t.index_===Yt?n="$key":(m(t.index_ instanceof ys,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=he(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=he(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+he(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=he(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+he(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function bE(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ne&&(e.i=t.index_.toString()),e}var ng=class t extends Sl{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ns("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=IE(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),gn(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=IE(e._queryParams),r=e._path.toString(),i=new we;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Om(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Ws(a.responseText)}catch{Re("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Re("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var rg=class{constructor(){this.rootNode_=N.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Pl(){return{value:null,children:new Map}}function Wi(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=V(e);t.children.has(r)||t.children.set(r,Pl());let i=t.children.get(r);e=ee(e),Wi(i,e,n)}}function ig(t,e){if(j(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(ne,(r,i)=>{Wi(t,new Y(r),i)}),ig(t,e)}}else if(t.children.size>0){let n=V(e);return e=ee(e),t.children.has(n)&&ig(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function og(t,e,n){t.value!==null?n(e,t.value):w1(t,(r,i)=>{let o=new Y(e.toString()+"/"+r);og(i,o,n)})}function w1(t,e){t.children.forEach((n,r)=>{e(r,n)})}var sg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ie(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var TE=10*1e3,C1=30*1e3,D1=5*60*1e3,ag=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new sg(e);let r=TE+(C1-TE)*Math.random();ds(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ie(e,(i,o)=>{o>0&&rt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ds(this.reportStats_.bind(this),Math.floor(Math.random()*2*D1))}};var qt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(qt||{});function qg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Kg(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var cg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=qt.ACK_USER_WRITE,this.source=qg()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Y(e));return new t(q(),n,this.revert)}}else return m(V(this.path)===e,"operationForChild called for unrelated child."),new t(ee(this.path),this.affectedTree,this.revert)}};var Ol=class t{constructor(e,n){this.source=e,this.path=n,this.type=qt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new t(this.source,q()):new t(this.source,ee(this.path))}};var ji=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=qt.OVERWRITE}operationForChild(e){return j(this.path)?new t(this.source,q(),this.snap.getImmediateChild(e)):new t(this.source,ee(this.path),this.snap)}};var Es=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=qt.MERGE}operationForChild(e){if(j(this.path)){let n=this.children.subtree(new Y(e));return n.isEmpty()?null:n.value?new ji(this.source,q(),n.value):new t(this.source,q(),n)}else return m(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Qt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;let n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var lg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function E1(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(p1(s.childName,s.snapshotNode))}),us(t,i,"child_removed",e,r,n),us(t,i,"child_added",e,r,n),us(t,i,"child_moved",o,r,n),us(t,i,"child_changed",e,r,n),us(t,i,"value",e,r,n),i}function us(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>b1(t,a,c)),s.forEach(a=>{let c=I1(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function I1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function b1(t,e,n){if(e.childName==null||n.childName==null)throw Mr("Should only compare child_ events.");let r=new H(e.childName,e.snapshotNode),i=new H(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Xl(t,e){return{eventCache:t,serverCache:e}}function hs(t,e,n,r){return Xl(new Qt(e,n,r),t.serverCache)}function gI(t,e,n,r){return Xl(t.eventCache,new Qt(e,n,r))}function kl(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Np,T1=()=>(Np||(Np=new gt(IF)),Np),je=class t{constructor(e,n=T1()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Ie(e,(r,i)=>{n=n.set(new Y(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(j(e))return null;{let r=V(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ee(e),n);return o!=null?{path:oe(new Y(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{let n=V(e),r=this.children.get(n);return r!==null?r.subtree(ee(e)):new t(null)}}set(e,n){if(j(e))return new t(n,this.children);{let r=V(e),o=(this.children.get(r)||new t(null)).set(ee(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(j(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=V(e),r=this.children.get(n);if(r){let i=r.remove(ee(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(j(e))return this.value;{let n=V(e),r=this.children.get(n);return r?r.get(ee(e)):null}}setTree(e,n){if(j(e))return n;{let r=V(e),o=(this.children.get(r)||new t(null)).setTree(ee(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(oe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{let o=V(e),s=this.children.get(o);return s?s.findOnPath_(ee(e),oe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,q(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);let i=V(e),o=this.children.get(i);return o?o.foreachOnPath_(ee(e),oe(n,i),r):new t(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(oe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Mt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new je(null))}};function ps(t,e,n){if(j(e))return new Mt(new je(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Ve(i,e);return o=o.updateChild(s,n),new Mt(t.writeTree_.set(i,o))}else{let i=new je(n),o=t.writeTree_.setTree(e,i);return new Mt(o)}}}function ug(t,e,n){let r=t;return Ie(n,(i,o)=>{r=ps(r,oe(e,i),o)}),r}function SE(t,e){if(j(e))return Mt.empty();{let n=t.writeTree_.setTree(e,new je(null));return new Mt(n)}}function dg(t,e){return br(t,e)!=null}function br(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ve(n.path,e)):null}function AE(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ne,(r,i)=>{e.push(new H(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new H(r,i.value))}),e}function Bn(t,e){if(j(e))return t;{let n=br(t,e);return n!=null?new Mt(new je(n)):new Mt(t.writeTree_.subtree(e))}}function fg(t){return t.writeTree_.isEmpty()}function Ui(t,e){return mI(q(),t.writeTree_,e)}function mI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=mI(oe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(oe(t,".priority"),r)),n}}function Jl(t,e){return wI(e,t)}function S1(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ps(t.visibleWrites,e,n)),t.lastWriteId=r}function A1(t,e,n,r){m(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ug(t.visibleWrites,e,n),t.lastWriteId=r}function M1(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function x1(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&N1(a,r.path)?i=!1:pt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return R1(t),!0;if(r.snap)t.visibleWrites=SE(t.visibleWrites,r.path);else{let a=r.children;Ie(a,c=>{t.visibleWrites=SE(t.visibleWrites,oe(r.path,c))})}return!0}else return!1}function N1(t,e){if(t.snap)return pt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&pt(oe(t.path,n),e))return!0;return!1}function R1(t){t.visibleWrites=vI(t.allWrites,P1,q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function P1(t){return t.visible}function vI(t,e,n){let r=Mt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)pt(n,s)?(a=Ve(n,s),r=ps(r,a,o.snap)):pt(s,n)&&(a=Ve(s,n),r=ps(r,q(),o.snap.getChild(a)));else if(o.children){if(pt(n,s))a=Ve(n,s),r=ug(r,a,o.children);else if(pt(s,n))if(a=Ve(s,n),j(a))r=ug(r,q(),o.children);else{let c=gn(o.children,V(a));if(c){let l=c.getChild(ee(a));r=ps(r,q(),l)}}}else throw Mr("WriteRecord should have .snap or .children")}}return r}function yI(t,e,n,r,i){if(!r&&!i){let o=br(t.visibleWrites,e);if(o!=null)return o;{let s=Bn(t.visibleWrites,e);if(fg(s))return n;if(n==null&&!dg(s,q()))return null;{let a=n||N.EMPTY_NODE;return Ui(s,a)}}}else{let o=Bn(t.visibleWrites,e);if(!i&&fg(o))return n;if(!i&&n==null&&!dg(o,q()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(pt(l.path,e)||pt(e,l.path))},a=vI(t.allWrites,s,e),c=n||N.EMPTY_NODE;return Ui(a,c)}}}function O1(t,e,n){let r=N.EMPTY_NODE,i=br(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ne,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Bn(t.visibleWrites,e);return n.forEachChild(ne,(s,a)=>{let c=Ui(Bn(o,new Y(s)),a);r=r.updateImmediateChild(s,c)}),AE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Bn(t.visibleWrites,e);return AE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function k1(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=oe(e,n);if(dg(t.visibleWrites,o))return null;{let s=Bn(t.visibleWrites,o);return fg(s)?i.getChild(n):Ui(s,i.getChild(n))}}function F1(t,e,n,r){let i=oe(e,n),o=br(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Bn(t.visibleWrites,i);return Ui(s,r.getNode().getImmediateChild(n))}else return null}function L1(t,e){return br(t.visibleWrites,e)}function V1(t,e,n,r,i,o,s){let a,c=Bn(t.visibleWrites,e),l=br(c,q());if(l!=null)a=l;else if(n!=null)a=Ui(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function j1(){return{visibleWrites:Mt.empty(),allWrites:[],lastWriteId:-1}}function Fl(t,e,n,r){return yI(t.writeTree,t.treePath,e,n,r)}function Qg(t,e){return O1(t.writeTree,t.treePath,e)}function ME(t,e,n,r){return k1(t.writeTree,t.treePath,e,n,r)}function Ll(t,e){return L1(t.writeTree,oe(t.treePath,e))}function U1(t,e,n,r,i,o){return V1(t.writeTree,t.treePath,e,n,r,i,o)}function Zg(t,e,n){return F1(t.writeTree,t.treePath,e,n)}function _I(t,e){return wI(oe(t.treePath,e),t.writeTree)}function wI(t,e){return{treePath:t,writeTree:e}}var hg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ws(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,_s(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Vi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ws(r,e.snapshotNode,i.oldSnap));else throw Mr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var pg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},CI=new pg,Is=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Qt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Zg(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Er(this.viewCache_),o=U1(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function B1(t){return{filter:t}}function $1(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function H1(t,e,n,r,i){let o=new hg,s,a;if(n.type===qt.OVERWRITE){let l=n;l.source.fromUser?s=gg(t,e,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!j(l.path),s=Vl(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===qt.MERGE){let l=n;l.source.fromUser?s=G1(t,e,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=mg(t,e,l.path,l.children,r,i,a,o))}else if(n.type===qt.ACK_USER_WRITE){let l=n;l.revert?s=Y1(t,e,l.path,r,i,o):s=z1(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===qt.LISTEN_COMPLETE)s=q1(t,e,n.path,r,o);else throw Mr("Unknown operation type: "+n.type);let c=o.getChanges();return W1(e,s,c),{viewCache:s,changes:c}}function W1(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=kl(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pI(kl(e)))}}function DI(t,e,n,r,i,o){let s=e.eventCache;if(Ll(r,n)!=null)return e;{let a,c;if(j(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Er(e),u=l instanceof N?l:N.EMPTY_NODE,d=Qg(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Fl(r,Er(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=V(n);if(l===".priority"){m(Wn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=ME(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ee(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=ME(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Zg(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return hs(e,a,s.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function Vl(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(j(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=V(n);if(!c.isCompleteForPath(n)&&Wn(n)>1)return e;let p=ee(n),_=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),_):l=u.updateChild(c.getNode(),h,_,p,CI,null)}let d=gI(e,l,c.isFullyInitialized()||j(n),u.filtersNodes()),f=new Is(i,d,o);return DI(t,d,n,i,f,a)}function gg(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new Is(i,e,o);if(j(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=hs(e,l,!0,t.filter.filtersNodes());else{let d=V(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=hs(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ee(n),h=a.getNode().getImmediateChild(d),p;if(j(f))p=r;else{let y=u.getCompleteChild(d);y!=null?$g(f)===".priority"&&y.getChild(cI(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=N.EMPTY_NODE}if(h.equals(p))c=e;else{let y=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=hs(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function xE(t,e){return t.eventCache.isCompleteForChild(e)}function G1(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=oe(n,c);xE(e,V(u))&&(a=gg(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=oe(n,c);xE(e,V(u))||(a=gg(t,a,u,l,i,o,s))}),a}function NE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function mg(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;j(n)?l=r:l=new je(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=NE(t,h,f);c=Vl(t,c,new Y(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),y=NE(t,p,f);c=Vl(t,c,new Y(d),y,i,o,s,a)}}),c}function z1(t,e,n,r,i,o,s){if(Ll(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(j(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Vl(t,e,n,c.getNode().getChild(n),i,o,a,s);if(j(n)){let l=new je(null);return c.getNode().forEachChild(Yt,(u,d)=>{l=l.set(new Y(u),d)}),mg(t,e,n,l,i,o,a,s)}else return e}else{let l=new je(null);return r.foreach((u,d)=>{let f=oe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),mg(t,e,n,l,i,o,a,s)}}function q1(t,e,n,r,i){let o=e.serverCache,s=gI(e,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return DI(t,s,n,r,CI,i)}function Y1(t,e,n,r,i,o){let s;if(Ll(r,n)!=null)return e;{let a=new Is(r,e,i),c=e.eventCache.getNode(),l;if(j(n)||V(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Fl(r,Er(e));else{let d=e.serverCache.getNode();m(d instanceof N,"serverChildren would be complete if leaf node"),u=Qg(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=V(n),d=Zg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ee(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,N.EMPTY_NODE,ee(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Fl(r,Er(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Ll(r,q())!=null,hs(e,l,s,t.filter.filtersNodes())}}var vg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Cs(r.getIndex()),o=g1(r);this.processor_=B1(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(N.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(N.EMPTY_NODE,a.getNode(),null),u=new Qt(c,s.isFullyInitialized(),i.filtersNodes()),d=new Qt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xl(d,u),this.eventGenerator_=new lg(this.query_)}get query(){return this.query_}};function K1(t){return t.viewCache_.serverCache.getNode()}function Q1(t){return kl(t.viewCache_)}function Z1(t,e){let n=Er(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function RE(t){return t.eventRegistrations_.length===0}function X1(t,e){t.eventRegistrations_.push(e)}function PE(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function OE(t,e,n,r){e.type===qt.MERGE&&e.source.queryId!==null&&(m(Er(t.viewCache_),"We should always have a full cache before handling merges"),m(kl(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=H1(t.processor_,i,e,n,r);return $1(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,EI(t,o.changes,o.viewCache.eventCache.getNode(),null)}function J1(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ne,(o,s)=>{r.push(Vi(o,s))}),n.isFullyInitialized()&&r.push(pI(n.getNode())),EI(t,r,n.getNode(),e)}function EI(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return E1(t.eventGenerator_,e,n,i)}var jl,Ul=class{constructor(){this.views=new Map}};function eL(t){m(!jl,"__referenceConstructor has already been defined"),jl=t}function tL(){return m(jl,"Reference.ts has not been loaded"),jl}function nL(t){return t.views.size===0}function Xg(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),OE(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(OE(s,e,n,r));return o}}function II(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Fl(n,i?r:null),c=!1;a?c=!0:r instanceof N?(a=Qg(n,r),c=!1):(a=N.EMPTY_NODE,c=!1);let l=Xl(new Qt(a,c,!1),new Qt(r,i,!1));return new vg(e,l)}return s}function rL(t,e,n,r,i,o){let s=II(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),X1(s,n),J1(s,n)}function iL(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Gn(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(PE(l,n,r)),RE(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(PE(c,n,r)),RE(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Gn(t)&&o.push(new(tL())(e._repo,e._path)),{removed:o,events:s}}function bI(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $n(t,e){let n=null;for(let r of t.views.values())n=n||Z1(r,e);return n}function TI(t,e){if(e._queryParams.loadsAllData())return eu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function SI(t,e){return TI(t,e)!=null}function Gn(t){return eu(t)!=null}function eu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Bl;function oL(t){m(!Bl,"__referenceConstructor has already been defined"),Bl=t}function sL(){return m(Bl,"Reference.ts has not been loaded"),Bl}var aL=1,$l=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new je(null),this.pendingWriteTree_=j1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Jg(t,e,n,r,i){return S1(t.pendingWriteTree_,e,n,r,i),i?Gi(t,new ji(qg(),e,n)):[]}function cL(t,e,n,r){A1(t.pendingWriteTree_,e,n,r);let i=je.fromObject(n);return Gi(t,new Es(qg(),e,i))}function Un(t,e,n=!1){let r=M1(t.pendingWriteTree_,e);if(x1(t.pendingWriteTree_,e)){let o=new je(null);return r.snap!=null?o=o.set(q(),!0):Ie(r.children,s=>{o=o.set(new Y(s),!0)}),Gi(t,new cg(r.path,o,n))}else return[]}function Ps(t,e,n){return Gi(t,new ji(Yg(),e,n))}function lL(t,e,n){let r=je.fromObject(n);return Gi(t,new Es(Yg(),e,r))}function uL(t,e){return Gi(t,new Ol(Yg(),e))}function dL(t,e,n){let r=em(t,n);if(r){let i=tm(r),o=i.path,s=i.queryId,a=Ve(o,e),c=new Ol(Kg(s),a);return nm(t,o,c)}else return[]}function Hl(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||SI(s,e))){let c=iL(s,e,n,r);nL(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Gn(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=pL(f);for(let p=0;p<h.length;++p){let y=h[p],_=y.query,D=NI(t,y);t.listenProvider_.startListening(gs(_),bs(t,_),D.hashFn,D.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(gs(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(nu(f));t.listenProvider_.stopListening(gs(f),h)}))}gL(t,l)}return a}function AI(t,e,n,r){let i=em(t,r);if(i!=null){let o=tm(i),s=o.path,a=o.queryId,c=Ve(s,e),l=new ji(Kg(a),c,n);return nm(t,s,l)}else return[]}function fL(t,e,n,r){let i=em(t,r);if(i){let o=tm(i),s=o.path,a=o.queryId,c=Ve(s,e),l=je.fromObject(n),u=new Es(Kg(a),c,l);return nm(t,s,u)}else return[]}function yg(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Ve(f,i);o=o||$n(h,p),s=s||Gn(h)});let a=t.syncPointTree_.get(i);a?(s=s||Gn(a),o=o||$n(a,q())):(a=new Ul,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=N.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=$n(p,q());y&&(o=o.updateImmediateChild(h,y))}));let l=SI(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=nu(e);m(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=mL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Jl(t.pendingWriteTree_,i),d=rL(a,e,n,u,o,c);if(!l&&!s&&!r){let f=TI(a,e);d=d.concat(vL(t,e,f))}return d}function tu(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Ve(s,e),l=$n(a,c);if(l)return l});return yI(i,e,o,n,!0)}function hL(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Ve(l,n);r=r||$n(u,d)});let i=t.syncPointTree_.get(n);i?r=r||$n(i,q()):(i=new Ul,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Qt(r,!0,!1):null,a=Jl(t.pendingWriteTree_,e._path),c=II(i,e,a,o?s.getNode():N.EMPTY_NODE,o);return Q1(c)}function Gi(t,e){return MI(e,t.syncPointTree_,null,Jl(t.pendingWriteTree_,q()))}function MI(t,e,n,r){if(j(t.path))return xI(t,e,n,r);{let i=e.get(q());n==null&&i!=null&&(n=$n(i,q()));let o=[],s=V(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=_I(r,s);o=o.concat(MI(a,c,l,u))}return i&&(o=o.concat(Xg(i,t,r,n))),o}}function xI(t,e,n,r){let i=e.get(q());n==null&&i!=null&&(n=$n(i,q()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=_I(r,s),u=t.operationForChild(s);u&&(o=o.concat(xI(u,a,c,l)))}),i&&(o=o.concat(Xg(i,t,r,n))),o}function NI(t,e){let n=e.query,r=bs(t,n);return{hashFn:()=>(K1(e)||N.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?dL(t,n._path,r):uL(t,n._path);{let o=SF(i,n);return Hl(t,n,null,o)}}}}function bs(t,e){let n=nu(e);return t.queryToTagMap.get(n)}function nu(t){return t._path.toString()+"$"+t._queryIdentifier}function em(t,e){return t.tagToQueryMap.get(e)}function tm(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}}function nm(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=Jl(t.pendingWriteTree_,e);return Xg(r,n,i,null)}function pL(t){return t.fold((e,n,r)=>{if(n&&Gn(n))return[eu(n)];{let i=[];return n&&(i=bI(n)),Ie(r,(o,s)=>{i=i.concat(s)}),i}})}function gs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(sL())(t._repo,t._path):t}function gL(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=nu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function mL(){return aL++}function vL(t,e,n){let r=e._path,i=bs(t,e),o=NI(t,n),s=t.listenProvider_.startListening(gs(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!Gn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!j(l)&&u&&Gn(u))return[eu(u).query];{let f=[];return u&&(f=f.concat(bI(u).map(h=>h.query))),Ie(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(gs(u),bs(t,u))}}return s}var _g=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},wg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=oe(this.path_,e);return new t(this.syncTree_,n)}node(){return tu(this.syncTree_,this.path_)}},yL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},kE=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _L(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wL(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_L=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},wL=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},RI=function(t,e,n,r){return im(e,new wg(n,t),r)},rm=function(t,e,n){return im(t,new _g(e),n)};function im(t,e,n){let r=t.getPriority().val(),i=kE(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=kE(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Fi(a,ce(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Fi(i))),s.forEachChild(ne,(a,c)=>{let l=im(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ts=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function ru(t,e){let n=e instanceof Y?e:new Y(e),r=t,i=V(n);for(;i!==null;){let o=gn(r.node.children,i)||{children:{},childCount:0};r=new Ts(i,r,o),n=ee(n),i=V(n)}return r}function Tr(t){return t.node.value}function om(t,e){t.node.value=e,Cg(t)}function PI(t){return t.node.childCount>0}function CL(t){return Tr(t)===void 0&&!PI(t)}function iu(t,e){Ie(t.node.children,(n,r)=>{e(new Ts(n,t,r))})}function OI(t,e,n,r){n&&!r&&e(t),iu(t,i=>{OI(i,e,!0,r)}),n&&r&&e(t)}function DL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Os(t){return new Y(t.parent===null?t.name:Os(t.parent)+"/"+t.name)}function Cg(t){t.parent!==null&&EL(t.parent,t.name,t)}function EL(t,e,n){let r=CL(n),i=rt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Cg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Cg(t))}var IL=/[\[\].#$\/\u0000-\u001F\u007F]/,bL=/[\[\].#$\u0000-\u001F\u007F]/,Rp=10*1024*1024,ou=function(t){return typeof t=="string"&&t.length!==0&&!IL.test(t)},kI=function(t){return typeof t=="string"&&t.length!==0&&!bL.test(t)},TL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kI(t)},Ss=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Ql(t)||t&&typeof t=="object"&&rt(t,".sv")},Zt=function(t,e,n,r){r&&e===void 0||ks(Be(t,"value"),e,n)},ks=function(t,e,n){let r=n instanceof Y?new Gp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wr(r));if(typeof e=="function")throw new Error(t+"contains a function "+wr(r)+" with contents = "+e.toString());if(Ql(e))throw new Error(t+"contains "+e.toString()+" "+wr(r));if(typeof e=="string"&&e.length>Rp/3&&Qi(e)>Rp)throw new Error(t+"contains a string greater than "+Rp+" utf8 bytes "+wr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ie(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!ou(s)))throw new Error(t+" contains an invalid key ("+s+") "+wr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);n1(r,s),ks(t,a,r),r1(r)}),i&&o)throw new Error(t+' contains ".value" child '+wr(r)+" in addition to actual children.")}},SL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=vs(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!ou(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(t1);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&pt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},FI=function(t,e,n,r){if(r&&e===void 0)return;let i=Be(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];Ie(e,(s,a)=>{let c=new Y(s);if(ks(i,a,oe(n,c)),$g(c)===".priority"&&!Ss(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),SL(i,o)},sm=function(t,e,n){if(!(n&&e===void 0)){if(Ql(e))throw new Error(Be(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ss(e))throw new Error(Be(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fs=function(t,e,n,r){if(!(r&&n===void 0)&&!ou(n))throw new Error(Be(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},zi=function(t,e,n,r){if(!(r&&n===void 0)&&!kI(n))throw new Error(Be(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zi(t,e,n,r)},Je=function(t,e){if(V(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},LI=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ou(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!TL(n))throw new Error(Be(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Dg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function su(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Hg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function VI(t,e,n){su(t,n),jI(t,r=>Hg(r,e))}function et(t,e,n){su(t,n),jI(t,r=>pt(r,e)||pt(e,r))}function jI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(ML(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ML(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Dr&&Ee("event: "+n.toString()),Hi(r)}}}var UI="repo_interrupt",xL=25,Eg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pl(),this.transactionQueueTree_=new Ts,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function NL(t,e,n){if(t.stats_=Bg(t.repoInfo_),t.forceRestClient_||NF())t.server_=new ng(t.repoInfo_,(r,i,o,s)=>{FE(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>LE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{he(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Wg(t.repoInfo_,e,(r,i,o,s)=>{FE(t,r,i,o,s)},r=>{LE(t,r)},r=>{RL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=PF(t.repoInfo_,()=>new ag(t.stats_,t.server_)),t.infoData_=new rg,t.infoSyncTree_=new $l({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Ps(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),am(t,"connected",!1),t.serverSyncTree_=new $l({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);et(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function BI(t){let n=t.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ls(t){return yL({timestamp:BI(t)})}function FE(t,e,n,r,i){t.dataUpdateCount++;let o=new Y(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Ki(n,l=>ce(l));s=fL(t.serverSyncTree_,o,c,i)}else{let c=ce(n);s=AI(t.serverSyncTree_,o,c,i)}else if(r){let c=Ki(n,l=>ce(l));s=lL(t.serverSyncTree_,o,c)}else{let c=ce(n);s=Ps(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Bi(t,o)),et(t.eventQueue_,a,s)}function LE(t,e){am(t,"connected",e),e===!1&&kL(t)}function RL(t,e){Ie(e,(n,r)=>{am(t,n,r)})}function am(t,e,n){let r=new Y("/.info/"+e),i=ce(n);t.infoData_.updateSnapshot(r,i);let o=Ps(t.infoSyncTree_,r,i);et(t.eventQueue_,r,o)}function au(t){return t.nextWriteId_++}function PL(t,e,n){let r=hL(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=ce(i).withIndex(e._queryParams.getIndex());yg(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Ps(t.serverSyncTree_,e._path,o);else{let a=bs(t.serverSyncTree_,e);s=AI(t.serverSyncTree_,e._path,o,a)}return et(t.eventQueue_,e._path,s),Hl(t.serverSyncTree_,e,n,null,!0),o},i=>(qi(t,"get for query "+he(e)+" failed: "+i),Promise.reject(new Error(i))))}function cm(t,e,n,r,i){qi(t,"set",{path:e.toString(),value:n,priority:r});let o=Ls(t),s=ce(n,r),a=tu(t.serverSyncTree_,e),c=rm(s,a,o),l=au(t),u=Jg(t.serverSyncTree_,e,c,l,!0);su(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||Re("set at "+e+" failed: "+f);let y=Un(t.serverSyncTree_,l,!p);et(t.eventQueue_,e,y),zn(t,i,f,h)});let d=um(t,e);Bi(t,d),et(t.eventQueue_,d,[])}function OL(t,e,n,r){qi(t,"update",{path:e.toString(),value:n});let i=!0,o=Ls(t),s={};if(Ie(n,(a,c)=>{i=!1,s[a]=RI(oe(e,a),ce(c),t.serverSyncTree_,o)}),i)Ee("update() called with empty data.  Don't do anything."),zn(t,r,"ok",void 0);else{let a=au(t),c=cL(t.serverSyncTree_,e,s,a);su(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,u)=>{let d=l==="ok";d||Re("update at "+e+" failed: "+l);let f=Un(t.serverSyncTree_,a,!d),h=f.length>0?Bi(t,e):e;et(t.eventQueue_,h,f),zn(t,r,l,u)}),Ie(n,l=>{let u=um(t,oe(e,l));Bi(t,u)}),et(t.eventQueue_,e,[])}}function kL(t){qi(t,"onDisconnectEvents");let e=Ls(t),n=Pl();og(t.onDisconnect_,q(),(i,o)=>{let s=RI(i,o,t.serverSyncTree_,e);Wi(n,i,s)});let r=[];og(n,q(),(i,o)=>{r=r.concat(Ps(t.serverSyncTree_,i,o));let s=um(t,i);Bi(t,s)}),t.onDisconnect_=Pl(),et(t.eventQueue_,q(),r)}function FL(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&ig(t.onDisconnect_,e),zn(t,n,r,i)})}function VE(t,e,n,r){let i=ce(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&Wi(t.onDisconnect_,e,i),zn(t,r,o,s)})}function LL(t,e,n,r,i){let o=ce(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&Wi(t.onDisconnect_,e,o),zn(t,i,s,a)})}function VL(t,e,n,r){if(Gs(n)){Ee("onDisconnect().update() called with empty data.  Don't do anything."),zn(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&Ie(n,(s,a)=>{let c=ce(a);Wi(t.onDisconnect_,oe(e,s),c)}),zn(t,r,i,o)})}function jL(t,e,n){let r;V(e._path)===".info"?r=yg(t.infoSyncTree_,e,n):r=yg(t.serverSyncTree_,e,n),VI(t.eventQueue_,e._path,r)}function Ig(t,e,n){let r;V(e._path)===".info"?r=Hl(t.infoSyncTree_,e,n):r=Hl(t.serverSyncTree_,e,n),VI(t.eventQueue_,e._path,r)}function $I(t){t.persistentConnection_&&t.persistentConnection_.interrupt(UI)}function UL(t){t.persistentConnection_&&t.persistentConnection_.resume(UI)}function qi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ee(n,...e)}function zn(t,e,n,r){e&&Hi(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function BL(t,e,n,r,i,o){qi(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:BE(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=lm(t,e,void 0);s.currentInputSnapshot=a;let c=s.update(a.val());if(c===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ks("transaction failed: Data returned ",c,s.path),s.status=0;let l=ru(t.transactionQueueTree_,e),u=Tr(l)||[];u.push(s),om(l,u);let d;typeof c=="object"&&c!==null&&rt(c,".priority")?(d=gn(c,".priority"),m(Ss(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(tu(t.serverSyncTree_,e)||N.EMPTY_NODE).getPriority().val();let f=Ls(t),h=ce(c,d),p=rm(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=au(t);let y=Jg(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);et(t.eventQueue_,e,y),cu(t,t.transactionQueueTree_)}}function lm(t,e,n){return tu(t.serverSyncTree_,e,n)||N.EMPTY_NODE}function cu(t,e=t.transactionQueueTree_){if(e||lu(t,e),Tr(e)){let n=WI(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&$L(t,Os(e),n)}else PI(e)&&iu(e,n=>{cu(t,n)})}function $L(t,e,n){let r=n.map(l=>l.currentWriteId),i=lm(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ve(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{qi(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Un(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();lu(t,ru(t.transactionQueueTree_,e)),cu(t,t.transactionQueueTree_),et(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Hi(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Re("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Bi(t,e)}},s)}function Bi(t,e){let n=HI(t,e),r=Os(n),i=WI(t,n);return HL(t,i,r),r}function HL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ve(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=xL)u=!0,d="maxretry",i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0));else{let f=lm(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){ks("transaction failed: Data returned ",h,c.path);let p=ce(h);typeof h=="object"&&h!=null&&rt(h,".priority")||(p=p.updatePriority(f.getPriority()));let _=c.currentWriteId,D=Ls(t),k=rm(p,f,D);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=k,c.currentWriteId=au(t),s.splice(s.indexOf(_),1),i=i.concat(Jg(t.serverSyncTree_,c.path,k,c.currentWriteId,c.applyLocally)),i=i.concat(Un(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0))}et(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}lu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Hi(r[a]);cu(t,t.transactionQueueTree_)}function HI(t,e){let n,r=t.transactionQueueTree_;for(n=V(e);n!==null&&Tr(r)===void 0;)r=ru(r,n),e=ee(e),n=V(e);return r}function WI(t,e){let n=[];return GI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function GI(t,e,n){let r=Tr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);iu(e,i=>{GI(t,i,n)})}function lu(t,e){let n=Tr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,om(e,n.length>0?n:void 0)}iu(e,r=>{lu(t,r)})}function um(t,e){let n=Os(HI(t,e)),r=ru(t.transactionQueueTree_,e);return DL(r,i=>{Pp(t,i)}),Pp(t,r),OI(r,i=>{Pp(t,i)}),n}function Pp(t,e){let n=Tr(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Un(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?om(e,void 0):n.length=o+1,et(t.eventQueue_,Os(e),i);for(let s=0;s<r.length;s++)Hi(r[s])}}function WL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function GL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Re(`Invalid query segment '${n}' in query '${t}'`)}return e}var bg=function(t,e){let n=zL(t),r=n.namespace;n.domain==="firebase.com"&&Kt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Kt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||DF();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new bl(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Y(n.pathString)}},zL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=WL(t.substring(u,d)));let f=GL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var jE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",qL=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=jE.charAt(n%64),n=Math.floor(n/64);m(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=jE.charAt(e[i]);return m(s.length===20,"nextPushId: Length should be 20."),s}}();var Wl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+he(this.snapshot.exportVal())}},Gl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var As=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var zl=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new we;return FL(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Je("OnDisconnect.remove",this._path);let e=new we;return VE(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Je("OnDisconnect.set",this._path),Zt("OnDisconnect.set",e,this._path,!1);let n=new we;return VE(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Je("OnDisconnect.setWithPriority",this._path),Zt("OnDisconnect.setWithPriority",e,this._path,!1),sm("OnDisconnect.setWithPriority",n,!1);let r=new we;return LL(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){Je("OnDisconnect.update",this._path),FI("OnDisconnect.update",e,this._path,!1);let n=new we;return VL(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Ue=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:$g(this._path)}get ref(){return new tt(this._repo,this._path)}get _queryIdentifier(){let e=bE(this._queryParams),n=Ug(e);return n==="{}"?"default":n}get _queryObject(){return bE(this._queryParams)}isEqual(e){if(e=Ce(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Hg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+e1(this._path)}};function uu(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Yn(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Yt){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Hn)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==hn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===ne){if(e!=null&&!Ss(e)||n!=null&&!Ss(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(m(t.getIndex()instanceof ys||t.getIndex()===zg,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function du(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var tt=class t extends Ue{constructor(e,n){super(e,n,new Ds,!1)}get parent(){let e=cI(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},$i=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Y(e),r=qn(this.ref,e);return new t(this._node.getChild(n),r,ne)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,qn(this.ref,r),ne)))}hasChild(e){let n=new Y(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function dm(t,e){return t=Ce(t),t._checkNotDeleted("ref"),e!==void 0?qn(t._root,e):t._root}function fm(t,e){t=Ce(t),t._checkNotDeleted("refFromURL");let n=bg(e,t._repo.repoInfo_.nodeAdmin);LI("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Kt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),dm(t,n.path.toString())}function qn(t,e){return t=Ce(t),V(t._path)===null?AL("child","path",e,!1):zi("child","path",e,!1),new tt(t._repo,oe(t._path,e))}function zI(t,e){t=Ce(t),Je("push",t._path),Zt("push",e,t._path,!0);let n=BI(t._repo),r=qL(n),i=qn(t,r),o=qn(t,r),s;return e!=null?s=fu(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function qI(t){return Je("remove",t._path),fu(t,null)}function fu(t,e){t=Ce(t),Je("set",t._path),Zt("set",e,t._path,!1);let n=new we;return cm(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function YI(t,e){t=Ce(t),Je("setPriority",t._path),sm("setPriority",e,!1);let n=new we;return cm(t._repo,oe(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function KI(t,e,n){if(Je("setWithPriority",t._path),Zt("setWithPriority",e,t._path,!1),sm("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new we;return cm(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function QI(t,e){FI("update",e,t._path,!1);let n=new we;return OL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ZI(t){t=Ce(t);let e=new As(()=>{}),n=new Ms(e);return PL(t._repo,t,n).then(r=>new $i(r,new tt(t._repo,t._path),t._queryParams.getIndex()))}var Ms=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Wl("value",this,new $i(e.snapshotNode,new tt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},ql=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Gl(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=qn(new tt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Wl(e.type,this,new $i(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Vs(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{Ig(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new As(n,o||void 0),a=e==="value"?new Ms(s):new ql(e,s);return jL(t._repo,t,a),()=>Ig(t._repo,t,a)}function hu(t,e,n,r){return Vs(t,"value",e,n,r)}function hm(t,e,n,r){return Vs(t,"child_added",e,n,r)}function pm(t,e,n,r){return Vs(t,"child_changed",e,n,r)}function gm(t,e,n,r){return Vs(t,"child_moved",e,n,r)}function mm(t,e,n,r){return Vs(t,"child_removed",e,n,r)}function vm(t,e,n){let r=null,i=n?new As(n):null;e==="value"?r=new Ms(i):e&&(r=new ql(e,i)),Ig(t._repo,t,r)}var nt=class{},Yl=class extends nt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Zt("endAt",this._value,e._path,!0);let n=tg(e._queryParams,this._value,this._key);if(du(n),Yn(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ue(e._repo,e._path,n,e._orderByCalled)}};function XI(t,e){return Fs("endAt","key",e,!0),new Yl(t,e)}var Tg=class extends nt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Zt("endBefore",this._value,e._path,!1);let n=_1(e._queryParams,this._value,this._key);if(du(n),Yn(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ue(e._repo,e._path,n,e._orderByCalled)}};function JI(t,e){return Fs("endBefore","key",e,!0),new Tg(t,e)}var Kl=class extends nt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Zt("startAt",this._value,e._path,!0);let n=eg(e._queryParams,this._value,this._key);if(du(n),Yn(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ue(e._repo,e._path,n,e._orderByCalled)}};function eb(t=null,e){return Fs("startAt","key",e,!0),new Kl(t,e)}var Sg=class extends nt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Zt("startAfter",this._value,e._path,!1);let n=y1(e._queryParams,this._value,this._key);if(du(n),Yn(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ue(e._repo,e._path,n,e._orderByCalled)}};function tb(t,e){return Fs("startAfter","key",e,!0),new Sg(t,e)}var Ag=class extends nt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ue(e._repo,e._path,m1(e._queryParams,this._limit),e._orderByCalled)}};function nb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ag(t)}var Mg=class extends nt{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ue(e._repo,e._path,v1(e._queryParams,this._limit),e._orderByCalled)}};function rb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Mg(t)}var xg=class extends nt{constructor(e){super(),this._path=e}_apply(e){uu(e,"orderByChild");let n=new Y(this._path);if(j(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new ys(n),i=Zl(e._queryParams,r);return Yn(i),new Ue(e._repo,e._path,i,!0)}};function ib(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zi("orderByChild","path",t,!1),new xg(t)}var Ng=class extends nt{_apply(e){uu(e,"orderByKey");let n=Zl(e._queryParams,Yt);return Yn(n),new Ue(e._repo,e._path,n,!0)}};function ob(){return new Ng}var Rg=class extends nt{_apply(e){uu(e,"orderByPriority");let n=Zl(e._queryParams,ne);return Yn(n),new Ue(e._repo,e._path,n,!0)}};function sb(){return new Rg}var Pg=class extends nt{_apply(e){uu(e,"orderByValue");let n=Zl(e._queryParams,zg);return Yn(n),new Ue(e._repo,e._path,n,!0)}};function ab(){return new Pg}var Og=class extends nt{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Zt("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Yl(this._value,this._key)._apply(new Kl(this._value,this._key)._apply(e))}};function cb(t,e){return Fs("equalTo","key",e,!0),new Og(t,e)}function mt(t,...e){let n=Ce(t);for(let r of e)n=r._apply(n);return n}eL(tt);oL(tt);var YL="FIREBASE_DATABASE_EMULATOR_HOST",kg={},KL=!1;function QL(t,e,n,r){t.repoInfo_=new bl(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function ym(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Kt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ee("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=bg(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[YL]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=bg(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new fs(fs.OWNER):new jp(t.name,t.options,e);LI("Invalid Firebase Database URL",s),j(s.path)||Kt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=XL(a,t,u,new Vp(t.name,n));return new Fg(d,t)}function ZL(t,e){let n=kg[e];(!n||n[t.key]!==t)&&Kt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$I(t),delete n[t.key]}function XL(t,e,n,r){let i=kg[e.name];i||(i={},kg[e.name]=i);let o=i[t.toURLString()];return o&&Kt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Eg(t,KL,n,r),i[t.toURLString()]=o,o}var Fg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(NL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tt(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ZL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Kt("Cannot call "+e+" on a deleted database.")}};function lb(){aI.IS_TRANSPORT_INITIALIZED&&Re("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ub(){lb(),ms.forceDisallow()}function db(){lb(),Ri.forceDisallow(),ms.forceAllow()}function fb(t,e,n,r={}){t=Ce(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Kt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Kt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new fs(fs.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Tm(r.mockUserToken,t.app.options.projectId);o=new fs(s)}QL(i,e,n,o)}function hb(t){t=Ce(t),t._checkNotDeleted("goOffline"),$I(t._repo)}function pb(t){t=Ce(t),t._checkNotDeleted("goOnline"),UL(t._repo)}function gb(t,e){HE(t,e)}function JL(t){jg(Vm),yt(new Pe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return ym(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),$e(cE,lE,t),$e(cE,lE,"esm2017")}var eV={".sv":"timestamp"};function mb(){return eV}function vb(t){return{".sv":{increment:t}}}var Lg=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function yb(t,e,n){var r;if(t=Ce(t),Je("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new we,s=(c,l,u)=>{let d=null;c?o.reject(c):(d=new $i(u,new tt(t._repo,t._path),ne),o.resolve(new Lg(l,d)))},a=hu(t,()=>{});return BL(t._repo,t._path,e,s,a,i),o.promise}Wg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Wg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};JL();var tV="@firebase/database-compat",nV="1.0.2";var rV=new mn("@firebase/database-compat"),_b=function(t){let e="FIREBASE WARNING: "+t;rV.warn(e)};var iV=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Be(t,e)+"must be a boolean.")},oV=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Be(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var _m=class{constructor(e){this._delegate=e}cancel(e){S("OnDisconnect.cancel",0,1,arguments.length),me("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){S("OnDisconnect.remove",0,1,arguments.length),me("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){S("OnDisconnect.set",1,2,arguments.length),me("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){S("OnDisconnect.setWithPriority",2,3,arguments.length),me("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(S("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,_b("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}me("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var wm=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return S("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Sr=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return S("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return S("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return S("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return S("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return S("DataSnapshot.child",0,1,arguments.length),e=String(e),zi("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return S("DataSnapshot.hasChild",1,1,arguments.length),zi("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return S("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return S("DataSnapshot.forEach",1,1,arguments.length),me("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return S("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return S("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return S("DataSnapshot.ref",0,0,arguments.length),new pn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},pu=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;S("Query.on",2,4,arguments.length),me("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(l,u)=>{n.call(s.context,new Sr(this.database,l),u)};a.userCallback=n,a.context=s.context;let c=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return hu(this._delegate,a,c),n;case"child_added":return hm(this._delegate,a,c),n;case"child_removed":return mm(this._delegate,a,c),n;case"child_changed":return pm(this._delegate,a,c),n;case"child_moved":return gm(this._delegate,a,c),n;default:throw new Error(Be("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(S("Query.off",0,3,arguments.length),oV("Query.off",e,!0),me("Query.off","callback",n,!0),mu("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,vm(this._delegate,e,i)}else vm(this._delegate,e)}get(){return ZI(this._delegate).then(e=>new Sr(this.database,e))}once(e,n,r,i){S("Query.once",1,4,arguments.length),me("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new we,a=(l,u)=>{let d=new Sr(this.database,l);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":hu(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":hm(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":mm(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":pm(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":gm(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error(Be("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return S("Query.limitToFirst",1,1,arguments.length),new t(this.database,mt(this._delegate,nb(e)))}limitToLast(e){return S("Query.limitToLast",1,1,arguments.length),new t(this.database,mt(this._delegate,rb(e)))}orderByChild(e){return S("Query.orderByChild",1,1,arguments.length),new t(this.database,mt(this._delegate,ib(e)))}orderByKey(){return S("Query.orderByKey",0,0,arguments.length),new t(this.database,mt(this._delegate,ob()))}orderByPriority(){return S("Query.orderByPriority",0,0,arguments.length),new t(this.database,mt(this._delegate,sb()))}orderByValue(){return S("Query.orderByValue",0,0,arguments.length),new t(this.database,mt(this._delegate,ab()))}startAt(e=null,n){return S("Query.startAt",0,2,arguments.length),new t(this.database,mt(this._delegate,eb(e,n)))}startAfter(e=null,n){return S("Query.startAfter",0,2,arguments.length),new t(this.database,mt(this._delegate,tb(e,n)))}endAt(e=null,n){return S("Query.endAt",0,2,arguments.length),new t(this.database,mt(this._delegate,XI(e,n)))}endBefore(e=null,n){return S("Query.endBefore",0,2,arguments.length),new t(this.database,mt(this._delegate,JI(e,n)))}equalTo(e,n){return S("Query.equalTo",1,2,arguments.length),new t(this.database,mt(this._delegate,cb(e,n)))}toString(){return S("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return S("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(S("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,me(e,"cancel",i.cancel,!0),i.context=r,mu(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Be(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new pn(this.database,new tt(this._delegate._repo,this._delegate._path))}},pn=class t extends pu{constructor(e,n){super(e,new Ue(n._repo,n._path,new Ds,!1)),this.database=e,this._delegate=n}getKey(){return S("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return S("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,qn(this._delegate,e))}getParent(){S("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return S("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){S("Reference.set",1,2,arguments.length),me("Reference.set","onComplete",n,!0);let r=fu(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(S("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,_b("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Je("Reference.update",this._delegate._path),me("Reference.update","onComplete",n,!0);let r=QI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){S("Reference.setWithPriority",2,3,arguments.length),me("Reference.setWithPriority","onComplete",r,!0);let i=KI(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){S("Reference.remove",0,1,arguments.length),me("Reference.remove","onComplete",e,!0);let n=qI(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){S("Reference.transaction",1,3,arguments.length),me("Reference.transaction","transactionUpdate",e,!1),me("Reference.transaction","onComplete",n,!0),iV("Reference.transaction","applyLocally",r,!0);let i=yb(this._delegate,e,{applyLocally:r}).then(o=>new wm(o.committed,new Sr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){S("Reference.setPriority",1,2,arguments.length),me("Reference.setPriority","onComplete",n,!0);let r=YI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){S("Reference.push",0,2,arguments.length),me("Reference.push","onComplete",n,!0);let r=zI(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return Je("Reference.onDisconnect",this._delegate._path),new _m(new zl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Ar=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ub,forceLongPolling:db}}useEmulator(e,n,r={}){fb(this._delegate,e,n,r)}ref(e){if(S("database.ref",0,1,arguments.length),e instanceof pn){let n=fm(this._delegate,e.toString());return new pn(this,n)}else{let n=dm(this._delegate,e);return new pn(this,n)}}refFromURL(e){S("database.refFromURL",1,1,arguments.length);let r=fm(this._delegate,e);return new pn(this,r)}goOffline(){return S("database.goOffline",0,0,arguments.length),hb(this._delegate)}goOnline(){return S("database.goOnline",0,0,arguments.length),pb(this._delegate)}};Ar.ServerValue={TIMESTAMP:mb(),increment:t=>vb(t)};function sV({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){jg(n);let a=new vu("database-standalone"),c=new qs("auth-internal",a);c.setComponent(new Pe("auth-internal",()=>r,"PRIVATE"));let l;return i&&(l=new qs("app-check-internal",a),l.setComponent(new Pe("app-check-internal",()=>i,"PRIVATE"))),{instance:new Ar(ym(t,c,l,e,s),t),namespace:o}}var aV=Object.freeze({__proto__:null,initStandalone:sV});var cV=Ar.ServerValue;function lV(t){t.INTERNAL.registerComponent(new Pe("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Ar(i,r)},"PUBLIC").setServiceProps({Reference:pn,Query:pu,Database:Ar,DataSnapshot:Sr,enableLogging:gb,INTERNAL:aV,ServerValue:cV}).setMultipleInstances(!0)),t.registerVersion(tV,nV)}lV(qe);function js(t,e,n="on",r=eo){return new F(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(T(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),no())}function uV(t){return typeof t=="string"}function dV(t){return typeof t.exportVal=="function"}function Ib(t){return t==null}function bb(t){return typeof t.set=="function"}function wb(t,e){return bb(e)?e:t.ref(e)}function Tb(t,e){if(uV(t))return e.stringCase();if(bb(t))return e.firebaseCase();if(dV(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function Sb(t){return(Ib(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Ab(t,e,n){e=Sb(e);let r=e.map(i=>js(t,i,"on",n));return Hr(...r)}function fV(t,e,n){let r=Ab(t,e).pipe(Gr((i,o)=>[...i,o],[]));return pV(t,r,n)}function hV(t,e){return js(t,"value","on",e).pipe(T(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function pV(t,e,n){return hV(t,n).pipe($u(e),T(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),ju(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),T(i=>i.actions))}function Cb(t,e){return function(r,i){return Tb(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function gV(t){return function(n){return n?Tb(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function mV(t,e,n){return js(t,"value","once",n).pipe(te(r=>{let i=[b(r)];return e.forEach(o=>i.push(js(t,o,"on",n))),Hr(...i).pipe(Gr(yV,[]))}),Fu())}function Mb(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function vV(t,e){if(Ib(e))return 0;{let n=Mb(t,e);return n===-1?t.length:n+1}}function yV(t,e){let{payload:n,prevKey:r,key:i}=e,o=Mb(t,i),s=vV(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{let l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function Db(t,e,n){return e=Sb(e),mV(t,e,n)}function _V(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Cb(r,"update"),set:Cb(r,"set"),push:i=>r.push(i),remove:gV(r),snapshotChanges(i){return Db(t,i,n).pipe(fn)},stateChanges(i){return Ab(t,i,n).pipe(fn)},auditTrail(i){return fV(t,i,n).pipe(fn)},valueChanges(i,o){return Db(t,i,n).pipe(T(a=>a.map(c=>o&&o.idField?K(w({},c.payload.val()),{[o.idField]:c.key}):c.payload.val())),fn)}}}function Eb(t,e){return function(){return js(t,"value","on",e)}}function wV(t,e){return{query:t,snapshotChanges(){return Eb(t,e.schedulers.outsideAngular)().pipe(fn)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return Eb(t,e.schedulers.outsideAngular)().pipe(fn,T(r=>r.payload.exists()?r.payload.val():null))}}}var CV=new C("angularfire2.realtimeDatabaseURL"),DV=new C("angularfire2.database.use-emulator"),xb=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,c,l,u,d,f,h,p,y,_){this.schedulers=a;let D=c,k=ss(n,s,r);l&&Tp(k,s,u,f,h,p,d,y),this.database=Dl(`${k.name}.database.${i}`,"AngularFireDatabase",k.name,()=>{let U=s.runOutsideAngular(()=>k.database(i||void 0));return D&&U.useEmulator(...D),U},[D])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>wb(this.database,n)),o=i;return r&&(o=r(i)),_V(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>wb(this.database,n));return wV(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(g(Mi),g(xi,8),g(CV,8),g(Ne),g(G),g(_l),g(DV,8),g(aE,8),g(wp,8),g(Cp,8),g(Dp,8),g(Ep,8),g(Ip,8),g(bp,8),g(_r,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Nb=(()=>{let e=class e{constructor(r){this.db=r}getAccess(){return this.db.list("item")}updateAccess(r){return this.db.object("item").update(r)}};e.\u0275fac=function(i){return new(i||e)(g(xb))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bV(t,e){t&1&&(re(0,"div",1)(1,"div",2),Uy(),re(2,"svg",3),Te(3,"path",4)(4,"path",5),ae()(),By(),re(5,"h1"),dt(6,"Caricamento..."),ae()())}var Rb=(()=>{let e=class e{constructor(r){this.loader=r,this.loading$=this.loader.loading$}};e.\u0275fac=function(i){return new(i||e)(z(Ai))},e.\u0275cmp=jt({type:e,selectors:[["app-spinner"]],decls:2,vars:3,consts:[["class","text-center",4,"ngIf"],[1,"text-center"],[1,"spinner-container"],["id","star","xmlns","http://www.w3.org/2000/svg","width","100","height","100","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-repeat"],["d","M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"],["fill-rule","evenodd","d","M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"]],template:function(i,o){i&1&&(xn(0,bV,7,0,"div",0),vc(1,"async")),i&2&&ut("ngIf",yc(1,1,o.loading$))},dependencies:[Ac,Mc],styles:[".text-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#000;color:#fff}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}#star[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(359deg)}}"]});let t=e;return t})();function SV(t,e){t&1&&(re(0,"div",18),dt(1,"Risposta sbagliata! Riprova!"),ae())}function AV(t,e){if(t&1){let n=q_();re(0,"div",5)(1,"div",6),Te(2,"img",7),ae(),re(3,"div",8),Te(4,"img",9)(5,"img",10),ae(),re(6,"h1",11),dt(7,"CIAO SQUADRA!"),ae(),re(8,"form",12),an("ngSubmit",function(){My(n);let i=Eo(2);return xy(i.onSubmit(i.form))}),re(9,"div",13),Te(10,"input",14),re(11,"small",15),dt(12),ae()(),re(13,"button",16),dt(14,"Invia"),ae()(),xn(15,SV,2,0,"div",17),ae()}if(t&2){let n=Eo(2);Bt(8),ut("formGroup",n.form),Bt(4),_f("Hai a disposizione ",n.numTentativi," tentativi"),Bt(),ut("disabled",!n.form.valid||n.numTentativi==0),Bt(2),ut("ngIf",n.rispostaSbagliata)}}function MV(t,e){t&1&&(re(0,"div",21)(1,"h1"),dt(2,"Hai cannato la prova!"),ae(),re(3,"div",8),Te(4,"img",22),ae()())}function xV(t,e){t&1&&(re(0,"div",21)(1,"h1"),dt(2,"Hai superato la prova!"),ae(),re(3,"div",8),Te(4,"img",23),ae()())}function NV(t,e){if(t&1&&(re(0,"div",19)(1,"div",6),Te(2,"img",7),ae(),re(3,"div",8),Te(4,"img",9)(5,"img",10),ae(),xn(6,MV,5,0,"div",20)(7,xV,5,0,"div",20),ae()),t&2){let n=Eo(2);Bt(6),ut("ngIf",n.numTentativi==0&&n.success==!1),Bt(),ut("ngIf",n.success==!0)}}function RV(t,e){if(t&1&&(re(0,"div"),xn(1,AV,16,4,"div",2)(2,NV,8,2,"div",3),re(3,"footer",4),dt(4,"Powered by Reida Sat"),ae()()),t&2){let n=Eo();Bt(),ut("ngIf",n.numTentativi>0),Bt(),ut("ngIf",n.numTentativi==0)}}var Pb=(()=>{let e=class e{constructor(r,i,o,s){this.fb=r,this.service=i,this.loader=o,this.firebaseDb=s,this.varPassAdmin="17022001",this.title="reidaSatWeb",this.numTentativi=-1,this.varStorageNumTentativi="",this.success=!1,this.access=!1,this.idAccesso="",this.idOggettoDbRest="",this.intruder=!1,this.isVisible=!1,this.loading$=this.loader.loading$,this.rispostaSbagliata=!1,this.form=this.fb.group({risposta:["",[rl.required]]})}ngOnInit(){this.service.getAccess().subscribe(r=>{if(this.access=r[0].access,this.idAccesso=r[0].id,this.idOggettoDbRest=r[0]._id,this.numTentativi=r[0].nTentativi,this.success=r[0].success,!this.access&&this.idAccesso===""){this.updateFirstAccess();return}this.access&&this.idAccesso!="",this.idAccesso=="-1"&&(this.numTentativi=0,this.intruder=!0,this.isVisible=!0)})}decreaseNumTentativi(){this.numTentativi!=0&&this.numTentativi--;let r={access:!0,id:this.idAccesso,nTentativi:this.numTentativi,success:!1,_id:this.idOggettoDbRest};return this.service.updateAccess(this.idOggettoDbRest,r)}onSubmit(r){if(console.log(r.value),r.value.risposta){let i=r.value.risposta;this.service.getAccess().subscribe(o=>{if(this.access=o[0].access,this.idAccesso=o[0].id,this.idOggettoDbRest=o[0]._id,this.numTentativi=o[0].nTentativi,this.success=o[0].success,this.numTentativi==0){this.ngOnInit();return}if(i.toLowerCase()=="reida"){this.rispostaSbagliata=!1,this.success=!0;let s={access:!0,id:this.idAccesso,nTentativi:0,success:!0,_id:this.idOggettoDbRest};this.service.updateAccess(this.idOggettoDbRest,s).subscribe({next:()=>{this.ngOnInit()}});return}this.rispostaSbagliata=!0,i.toLowerCase()!="reida"&&this.numTentativi<=0&&(this.isVisible=!0),this.decreaseNumTentativi().subscribe({next:()=>{r.reset()}})})}}updateFirstAccess(){let r={access:!0,id:Math.round(Math.random()*1e6)+"",nTentativi:3,success:!1,_id:this.idOggettoDbRest};this.idAccesso=r.id+"",localStorage.setItem("idAccesso",this.idAccesso),this.service.updateAccess(this.idOggettoDbRest,r).subscribe(console.log)}};e.\u0275fac=function(i){return new(i||e)(z(iD),z(vl),z(Ai),z(Nb))},e.\u0275cmp=jt({type:e,selectors:[["app-quiz"]],decls:4,vars:3,consts:[["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css","integrity","sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T","crossorigin","anonymous"],[4,"ngIf"],["class","container-fluid d-flex flex-column align-items-center justify-content-center","id","main-container",4,"ngIf"],["class","container-fluid d-flex flex-column align-items-center justify-content-center","id","result-container",4,"ngIf"],[1,"footer"],["id","main-container",1,"container-fluid","d-flex","flex-column","align-items-center","justify-content-center"],[1,"logo_container"],["src","assets/logo.png",1,"background-overlay-1"],[1,"image-container"],["src","assets/fucile.gif",1,"mirrored-image"],["src","assets/fucile.gif",1,"original-image"],[1,"titolo","text-center","mt-8","mb-4"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","id","risposta","formControlName","risposta","placeholder","Inserisci la risposta","autofocus","",1,"form-control"],["id","help",1,"form-text","text-muted","text-center"],["type","submit",1,"btn","btn-primary","btn-block","mt-6","custom-btn",3,"disabled"],["id","error-message","class","alert alert-danger mt-3","role","alert",4,"ngIf"],["id","error-message","role","alert",1,"alert","alert-danger","mt-3"],["id","result-container",1,"container-fluid","d-flex","flex-column","align-items-center","justify-content-center"],["class","text-center mt-4","role","alert",4,"ngIf"],["role","alert",1,"text-center","mt-4"],["src","assets/gameover.gif",1,"gameover-image"],["src","assets/fuochi-d'artificio.gif",1,"fuochi-image"]],template:function(i,o){i&1&&(Te(0,"link",0),xn(1,RV,5,2,"div",1),vc(2,"async"),Te(3,"app-spinner")),i&2&&(Bt(),ut("ngIf",!yc(2,1,o.loading$)))},dependencies:[Ac,nD,ul,QC,ZC,Wh,Gh,Rb,Mc],styles:["@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(359deg)}}@keyframes _ngcontent-%COMP%_changeColor{50%{background-color:#003f00}}#star[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}#main-container[_ngcontent-%COMP%]{height:97vh;padding:10px;margin:0;overflow-x:hidden;animation:_ngcontent-%COMP%_changeColor 5s infinite;background-color:#000;color:#fff}.titolo[_ngcontent-%COMP%]{cursor:default;font-size:20px;text-shadow:2px 2px 4px rgba(28,87,0,.5)}.risposta[_ngcontent-%COMP%]{text-align:center;display:block;margin:0 auto}#risposta[_ngcontent-%COMP%]{margin:10px 0;text-align:center;box-shadow:0 0 10px #ffffff80;border:1px solid rgba(255,255,255,.5);transition:box-shadow .3s,border .3s}#risposta[_ngcontent-%COMP%]:focus{box-shadow:0 0 15px #ffffffb3;border:1px solid rgba(255,255,255,.7)}#help[_ngcontent-%COMP%]{cursor:default}.text-muted[_ngcontent-%COMP%]{color:#fff!important}.custom-btn[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;border:1px solid black!important;cursor:pointer}.footer[_ngcontent-%COMP%]{background-color:#000;animation:_ngcontent-%COMP%_changeColor 5s infinite;width:100%;color:#f5f5f5;text-align:center;cursor:default}.logo_container[_ngcontent-%COMP%]{background-color:#000;animation:_ngcontent-%COMP%_changeColor 5s infinite;width:200px;height:auto;overflow:hidden;position:relative}.logo_container[_ngcontent-%COMP%]   .background-overlay-1[_ngcontent-%COMP%]{width:100%;height:auto;max-width:100%}.image-container[_ngcontent-%COMP%]{display:flex}.original-image[_ngcontent-%COMP%], .mirrored-image[_ngcontent-%COMP%]{width:150px;height:auto;margin-right:10px}.mirrored-image[_ngcontent-%COMP%]{transform:scaleX(-1)}.fuochi-image[_ngcontent-%COMP%], .gameover-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%;margin-top:20px;border:4px solid #ccc;box-shadow:4px 4px 10px #0003}#result-container[_ngcontent-%COMP%]{height:97vh;padding:10px;margin:0;overflow-x:hidden;animation:_ngcontent-%COMP%_changeColor 5s infinite;background-color:#000;color:#fff}#error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_error-animation .5s ease-in-out}@keyframes _ngcontent-%COMP%_error-animation{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}"]});let t=e;return t})();var Ob=(()=>{let e=class e{constructor(r,i){this.service=r,this.router=i,this.idOggettoDbRest="",r.getAccess().subscribe(o=>{this.idOggettoDbRest=o[0]._id,console.log(o)})}resetAccess(){let r={access:!1,id:"",nTentativi:3,success:!1,_id:this.idOggettoDbRest};this.service.updateAccess(this.idOggettoDbRest,r).subscribe({next:()=>this.router.navigateByUrl("")})}};e.\u0275fac=function(i){return new(i||e)(z(vl),z(dn))},e.\u0275cmp=jt({type:e,selectors:[["app-admin"]],decls:2,vars:0,consts:[[1,"btn","btn-primary","btn-block","mt-4",3,"click"]],template:function(i,o){i&1&&(re(0,"div",0),an("click",function(){return o.resetAccess()}),dt(1,"Clicca per resettare"),ae())}});let t=e;return t})();var PV=[{path:"",component:Pb},{path:"admin",component:Ob}],kb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=fe({type:e}),e.\u0275inj=de({imports:[Fh.forRoot(PV),Fh]});let t=e;return t})();var Fb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=jt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&Te(0,"router-outlet")},dependencies:[Mh]});let t=e;return t})();var Lb=(()=>{let e=class e{constructor(r){this.loader=r,this.requestsInFlight=0}intercept(r,i){return this.requestsInFlight++,this.loader.show(),i.handle(r).pipe(ie(o=>{(o instanceof hi||o instanceof pi)&&(this.requestsInFlight--,this.requestsInFlight===0&&this.loader.hide())},o=>{this.requestsInFlight--,this.requestsInFlight===0&&this.loader.hide()}))}};e.\u0275fac=function(i){return new(i||e)(g(Ai))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var Vb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=fe({type:e,bootstrap:[Fb]}),e.\u0275inj=de({providers:[Mo,{provide:Uf,useClass:Lb,multi:!0},{provide:ln,useClass:Tc}],imports:[Ow,kb,oD,bw,sE.initializeApp(Vn.firebaseConfig)]});let t=e;return t})();Pw().bootstrapModule(Vb).catch(t=>console.error(t));
