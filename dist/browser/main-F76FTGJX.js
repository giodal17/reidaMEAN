import{$ as qm,A as Vm,B as at,C as mn,D as Xs,E as Xi,F as jm,G as Um,H as Bm,I as S,J as We,K as ve,L as Mu,M as $m,N as Ji,O as Js,P as De,Q as Pe,R as ea,S as Au,T as Hm,U as vn,V as Gm,W as wt,X as yn,Y as Wm,Z as zm,_ as eo,a as D,aa as ze,b as Z,ba as Je,c as k,d as Sm,e as qs,f as Mm,g as Am,h as m,i as Rr,j as Ys,k as xm,l as Nm,m as Ce,n as Rm,o as Su,p as Om,q as Pm,r as Rt,s as Ks,t as km,u as Fm,v as Qs,w as Or,x as Zs,y as de,z as Lm}from"./chunk-J6WFCFOZ.js";var Ym=null;var xu=1,Km=Symbol("SIGNAL");function ke(t){let e=Ym;return Ym=t,e}var Qm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zb(t){if(!(Ou(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xu)){if(!t.producerMustRecompute(t)&&!Nu(t)){t.dirty=!1,t.lastCleanEpoch=xu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xu}}function Zm(t){return t&&(t.nextProducerIndex=0),ke(t)}function Xm(t,e){if(ke(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ou(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ru(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Nu(t){ta(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zb(n),r!==n.version))return!0}return!1}function Jm(t){if(ta(t),Ou(t))for(let e=0;e<t.producerNode.length;e++)Ru(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ru(t,e){if(qb(t),ta(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ru(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ta(i),i.producerIndexOfThis[r]=e}}function Ou(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ta(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Yb(){throw new Error}var Kb=Yb;function ev(t){Kb=t}function M(t){return typeof t=="function"}function Pr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var na=Pr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Qn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(M(r))try{r()}catch(o){e=o instanceof na?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{tv(o)}catch(s){e=e??[],s instanceof na?e=[...e,...s.errors]:e.push(s)}}if(e)throw new na(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Qn(n,e)}remove(e){let{_finalizers:n}=this;n&&Qn(n,e),e instanceof t&&e._removeParent(this)}};ue.EMPTY=(()=>{let t=new ue;return t.closed=!0,t})();var Pu=ue.EMPTY;function ra(t){return t instanceof ue||t&&"closed"in t&&M(t.remove)&&M(t.add)&&M(t.unsubscribe)}function tv(t){M(t)?t():t.unsubscribe()}var Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kr={setTimeout(t,e,...n){let{delegate:r}=kr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=kr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ia(t){kr.setTimeout(()=>{let{onUnhandledError:e}=Ct;if(e)e(t);else throw t})}function Zn(){}var nv=ku("C",void 0,void 0);function rv(t){return ku("E",void 0,t)}function iv(t){return ku("N",t,void 0)}function ku(t,e,n){return{kind:t,value:e,error:n}}var Xn=null;function Fr(t){if(Ct.useDeprecatedSynchronousErrorHandling){let e=!Xn;if(e&&(Xn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xn;if(Xn=null,n)throw r}}else t()}function ov(t){Ct.useDeprecatedSynchronousErrorHandling&&Xn&&(Xn.errorThrown=!0,Xn.error=t)}var Jn=class extends ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ra(e)&&e.add(this)):this.destination=Xb}static create(e,n,r){return new en(e,n,r)}next(e){this.isStopped?Lu(iv(e),this):this._next(e)}error(e){this.isStopped?Lu(rv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lu(nv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Qb=Function.prototype.bind;function Fu(t,e){return Qb.call(t,e)}var Vu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oa(r)}else oa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oa(n)}}},en=class extends Jn{constructor(e,n,r){super();let i;if(M(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ct.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fu(e.next,o),error:e.error&&Fu(e.error,o),complete:e.complete&&Fu(e.complete,o)}):i=e}this.destination=new Vu(i)}};function oa(t){Ct.useDeprecatedSynchronousErrorHandling?ov(t):ia(t)}function Zb(t){throw t}function Lu(t,e){let{onStoppedNotification:n}=Ct;n&&kr.setTimeout(()=>n(t,e))}var Xb={closed:!0,next:Zn,error:Zb,complete:Zn};var Lr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Te(t){return t}function ju(...t){return Uu(t)}function Uu(t){return t.length===0?Te:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var L=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=e0(n)?n:new en(n,r,i);return Fr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sv(r),new r((i,o)=>{let s=new en({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lr](){return this}pipe(...n){return Uu(n)(this)}toPromise(n){return n=sv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function sv(t){var e;return(e=t??Ct.Promise)!==null&&e!==void 0?e:Promise}function Jb(t){return t&&M(t.next)&&M(t.error)&&M(t.complete)}function e0(t){return t&&t instanceof Jn||Jb(t)&&ra(t)}function Bu(t){return M(t?.lift)}function R(t){return e=>{if(Bu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(t,e,n,r,i){return new $u(t,e,n,r,i)}var $u=class extends Jn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Vr(){return R((t,e)=>{let n=null;t._refCount++;let r=x(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var jr=class extends L{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Bu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ue;let n=this.getSubject();e.add(this.source.subscribe(x(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ue.EMPTY)}return e}refCount(){return Vr()(this)}};var av=Pr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=(()=>{class t extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new av}next(n){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pu:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,Qn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return t.create=(e,n)=>new sa(e,n),t})(),sa=class extends fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pu}};var ye=class extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var to={now(){return(to.delegate||Date).now()},delegate:void 0};var aa=class extends fe{constructor(e=1/0,n=1/0,r=to){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var ca=class extends ue{constructor(e,n){super()}schedule(e,n=0){return this}};var no={setInterval(t,e,...n){let{delegate:r}=no;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=no;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ur=class extends ca{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return no.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&no.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Qn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Br=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Br.now=to.now;var $r=class extends Br{constructor(e,n=Br.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ro=new $r(Ur);var la=class extends Ur{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ua=class extends $r{};var Hu=new ua(la);var qe=new L(t=>t.complete());function cv(t){return t&&M(t.schedule)}function Gu(t){return t[t.length-1]}function Hr(t){return M(Gu(t))?t.pop():void 0}function Ot(t){return cv(Gu(t))?t.pop():void 0}function lv(t,e){return typeof Gu(t)=="number"?t.pop():e}var da=t=>t&&typeof t.length=="number"&&typeof t!="function";function fa(t){return M(t?.then)}function ha(t){return M(t[Lr])}function pa(t){return Symbol.asyncIterator&&M(t?.[Symbol.asyncIterator])}function ga(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function t0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ma=t0();function va(t){return M(t?.[ma])}function ya(t){return Mm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield qs(n.read());if(i)return yield qs(void 0);yield yield qs(r)}}finally{n.releaseLock()}})}function _a(t){return M(t?.getReader)}function J(t){if(t instanceof L)return t;if(t!=null){if(ha(t))return n0(t);if(da(t))return r0(t);if(fa(t))return i0(t);if(pa(t))return uv(t);if(va(t))return o0(t);if(_a(t))return s0(t)}throw ga(t)}function n0(t){return new L(e=>{let n=t[Lr]();if(M(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function r0(t){return new L(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function i0(t){return new L(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ia)})}function o0(t){return new L(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uv(t){return new L(e=>{a0(t,e).catch(n=>e.error(n))})}function s0(t){return uv(ya(t))}function a0(t,e){var n,r,i,o;return Sm(this,void 0,void 0,function*(){try{for(n=Am(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ye(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ct(t,e=0){return R((n,r)=>{n.subscribe(x(r,i=>Ye(r,t,()=>r.next(i),e),()=>Ye(r,t,()=>r.complete(),e),i=>Ye(r,t,()=>r.error(i),e)))})}function Dt(t,e=0){return R((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dv(t,e){return J(t).pipe(Dt(e),ct(e))}function fv(t,e){return J(t).pipe(Dt(e),ct(e))}function hv(t,e){return new L(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pv(t,e){return new L(n=>{let r;return Ye(n,e,()=>{r=t[ma](),Ye(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>M(r?.return)&&r.return()})}function wa(t,e){if(!t)throw new Error("Iterable cannot be null");return new L(n=>{Ye(n,e,()=>{let r=t[Symbol.asyncIterator]();Ye(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gv(t,e){return wa(ya(t),e)}function mv(t,e){if(t!=null){if(ha(t))return dv(t,e);if(da(t))return hv(t,e);if(fa(t))return fv(t,e);if(pa(t))return wa(t,e);if(va(t))return pv(t,e);if(_a(t))return gv(t,e)}throw ga(t)}function K(t,e){return e?mv(t,e):J(t)}function b(...t){let e=Ot(t);return K(t,e)}function Gr(t,e){let n=M(t)?t:()=>t,r=i=>i.error(n());return new L(e?i=>e.schedule(r,0,i):r)}function Wu(t){return!!t&&(t instanceof L||M(t.lift)&&M(t.subscribe))}var tn=Pr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function T(t,e){return R((n,r)=>{let i=0;n.subscribe(x(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:c0}=Array;function l0(t,e){return c0(e)?t(...e):t(e)}function Ca(t){return T(e=>l0(t,e))}var{isArray:u0}=Array,{getPrototypeOf:d0,prototype:f0,keys:h0}=Object;function Da(t){if(t.length===1){let e=t[0];if(u0(e))return{args:e,keys:null};if(p0(e)){let n=h0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function p0(t){return t&&typeof t=="object"&&d0(t)===f0}function Ea(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function io(...t){let e=Ot(t),n=Hr(t),{args:r,keys:i}=Da(t);if(r.length===0)return K([],e);let o=new L(g0(r,e,i?s=>Ea(i,s):Te));return n?o.pipe(Ca(n)):o}function g0(t,e,n=Te){return r=>{vv(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)vv(e,()=>{let l=K(t[c],e),u=!1;l.subscribe(x(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function vv(t,e,n){t?Ye(n,t,e):e()}function yv(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=y=>l<r?p(y):c.push(y),p=y=>{o&&e.next(y),l++;let _=!1;J(n(y,u++)).subscribe(x(e,C=>{i?.(C),o?h(C):e.next(C)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let C=c.shift();s?Ye(e,s,()=>p(C)):p(C)}f()}catch(C){e.error(C)}}))};return t.subscribe(x(e,h,()=>{d=!0,f()})),()=>{a?.()}}function he(t,e,n=1/0){return M(e)?he((r,i)=>T((o,s)=>e(r,o,i,s))(J(t(r,i))),n):(typeof e=="number"&&(n=e),R((r,i)=>yv(r,i,t,n)))}function _n(t=1/0){return he(Te,t)}function _v(){return _n(1)}function Wr(...t){return _v()(K(t,Ot(t)))}function Ia(t){return new L(e=>{J(t()).subscribe(e)})}function zu(...t){let e=Hr(t),{args:n,keys:r}=Da(t),i=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;J(n[u]).subscribe(x(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ea(r,a):a),o.complete())}))}});return e?i.pipe(Ca(e)):i}function zr(...t){let e=Ot(t),n=lv(t,1/0),r=t;return r.length?r.length===1?J(r[0]):_n(n)(K(r,e)):qe}function Me(t,e){return R((n,r)=>{let i=0;n.subscribe(x(r,o=>t.call(e,o,i++)&&r.next(o)))})}function wn(t){return R((e,n)=>{let r=null,i=!1,o;r=e.subscribe(x(n,void 0,void 0,s=>{o=J(t(s,wn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function wv(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(x(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function nn(t,e){return M(e)?he(t,e,1):he(t,1)}function Cn(t){return R((e,n)=>{let r=!1;e.subscribe(x(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function rn(t){return t<=0?()=>qe:R((e,n)=>{let r=0;e.subscribe(x(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qu(t){return T(()=>t)}function Yu(t,e=Te){return t=t??m0,R((n,r)=>{let i,o=!0;n.subscribe(x(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function m0(t,e){return t===e}function ba(t=v0){return R((e,n)=>{let r=!1;e.subscribe(x(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function v0(){return new tn}function Dn(t){return R((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Me((i,o)=>t(i,o,r)):Te,rn(1),n?Cn(e):ba(()=>new tn))}function qr(t){return t<=0?()=>qe:R((e,n)=>{let r=[];e.subscribe(x(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ku(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Me((i,o)=>t(i,o,r)):Te,qr(1),n?Cn(e):ba(()=>new tn))}function Yr(t,e){return R(wv(t,e,arguments.length>=2,!0))}function oo(t={}){let{connector:e=()=>new fe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},p=()=>{let y=s;h(),y?.unsubscribe()};return R((y,_)=>{l++,!d&&!u&&f();let C=c=c??e();_.add(()=>{l--,l===0&&!d&&!u&&(a=Qu(p,i))}),C.subscribe(_),!s&&l>0&&(s=new en({next:F=>C.next(F),error:F=>{d=!0,f(),a=Qu(h,n,F),C.error(F)},complete:()=>{u=!0,f(),a=Qu(h,r),C.complete()}}),J(y).subscribe(s))})(o)}}function Qu(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new en({next:()=>{r.unsubscribe(),t()}});return J(e(...n)).subscribe(r)}function Ta(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,oo({connector:()=>new aa(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Zu(t){return R((e,n)=>{let r=!1,i=0;e.subscribe(x(n,o=>(r||(r=!t(o,i++)))&&n.next(o)))})}function Xu(...t){let e=Ot(t);return R((n,r)=>{(e?Wr(t,n,e):Wr(t,n)).subscribe(r)})}function ne(t,e){return R((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(x(r,c=>{i?.unsubscribe();let l=0,u=o++;J(t(c,u)).subscribe(i=x(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sa(t,e){return M(e)?ne(()=>t,e):ne(()=>t)}function Ju(t){return R((e,n)=>{J(t).subscribe(x(n,()=>n.complete(),Zn)),!n.closed&&e.subscribe(n)})}function se(t,e,n){let r=M(t)||e||n?{next:t,error:e,complete:n}:t;return r?R((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(x(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Te}function ed(...t){let e=Hr(t);return R((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)J(t[c]).subscribe(x(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Te))&&(s=null))},Zn));n.subscribe(x(r,c=>{if(a){let l=[c,...o];r.next(e?e(...l):l)}}))})}var ry="https://g.co/ng/security#xss",I=class extends Error{constructor(e,n){super(sc(e,n)),this.code=e}};function sc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ee(t){for(let e in t)if(t[e]===ee)return e;throw Error("Could not find renamed property on target object.")}function y0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Le(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Le).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Cv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var _0=ee({__forward_ref__:ee});function ur(t){return t.__forward_ref__=ur,t.toString=function(){return Le(this())},t}function Fe(t){return iy(t)?t():t}function iy(t){return typeof t=="function"&&t.hasOwnProperty(_0)&&t.__forward_ref__===ur}function oy(t){return t&&!!t.\u0275providers}var w0=ee({\u0275cmp:ee}),C0=ee({\u0275dir:ee}),D0=ee({\u0275pipe:ee}),E0=ee({\u0275mod:ee}),Va=ee({\u0275fac:ee}),so=ee({__NG_ELEMENT_ID__:ee}),Dv=ee({__NG_ENV_ID__:ee});function ac(t){return typeof t=="string"?t:t==null?"":String(t)}function I0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ac(t)}function b0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,`Circular dependency in DI detected for ${t}${n}`)}function Xd(t,e){throw new I(-201,!1)}function T0(t,e){t==null&&S0(e,t,null,"!=")}function S0(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ge(t){return{providers:t.providers||[],imports:t.imports||[]}}function cc(t){return Ev(t,ay)||Ev(t,cy)}function sy(t){return cc(t)!==null}function Ev(t,e){return t.hasOwnProperty(e)?t[e]:null}function M0(t){let e=t&&(t[ay]||t[cy]);return e||null}function Iv(t){return t&&(t.hasOwnProperty(bv)||t.hasOwnProperty(A0))?t[bv]:null}var ay=ee({\u0275prov:ee}),bv=ee({\u0275inj:ee}),cy=ee({ngInjectableDef:ee}),A0=ee({ngInjectorDef:ee}),H=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(H||{}),gd;function ly(){return gd}function Ke(t){let e=gd;return gd=t,e}function uy(t,e,n){let r=cc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&H.Optional)return null;if(e!==void 0)return e;Xd(t,"Injector")}var Ve=globalThis;var w=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var x0={},co=x0,md="__NG_DI_FLAG__",ja="ngTempTokenPath",N0="ngTokenPath",R0=/\n/gm,O0="\u0275",Tv="__source",Jr;function P0(){return Jr}function En(t){let e=Jr;return Jr=t,e}function k0(t,e=H.Default){if(Jr===void 0)throw new I(-203,!1);return Jr===null?uy(t,void 0,e):Jr.get(t,e&H.Optional?null:void 0,e)}function g(t,e=H.Default){return(ly()||k0)(Fe(t),e)}function v(t,e=H.Default){return g(t,lc(e))}function lc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vd(t){let e=[];for(let n=0;n<t.length;n++){let r=Fe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=H.Default;for(let s=0;s<r.length;s++){let a=r[s],c=F0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(g(i,o))}else e.push(g(r))}return e}function dy(t,e){return t[md]=e,t.prototype[md]=e,t}function F0(t){return t[md]}function L0(t,e,n,r){let i=t[ja];throw e[Tv]&&i.unshift(e[Tv]),t.message=V0(`
`+t.message,i,n,r),t[N0]=i,t[ja]=null,t}function V0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==O0?t.slice(2):t;let i=Le(e);if(Array.isArray(e))i=e.map(Le).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Le(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(R0,`
  `)}`}function wo(t){return{toString:t}.toString()}var fy=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fy||{}),Ft=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ft||{}),ti={},ut=[],Ae=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ae||{});function hy(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function yd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];j0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function py(t){return t===3||t===4||t===6}function j0(t){return t.charCodeAt(0)===64}function lo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Sv(t,n,i,null,e[++r]):Sv(t,n,i,null,null))}}return t}function Sv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gy="ng-template";function U0(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&hy(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function my(t){return t.type===4&&t.value!==gy}function B0(t,e,n){let r=t.type===4&&!n?gy:t.value;return e===r}function $0(t,e,n){let r=4,i=t.attrs||[],o=W0(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Et(r)&&!Et(c))return!1;if(s&&Et(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!B0(t,c,n)||c===""&&e.length===1){if(Et(r))return!1;s=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!U0(t.attrs,l,n)){if(Et(r))return!1;s=!0}continue}let u=r&8?"class":c,d=H0(u,i,my(t),n);if(d===-1){if(Et(r))return!1;s=!0;continue}if(l!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&hy(h,l,0)!==-1||r&2&&l!==f){if(Et(r))return!1;s=!0}}}}return Et(r)||s}function Et(t){return(t&1)===0}function H0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return z0(e,t)}function G0(t,e,n=!1){for(let r=0;r<e.length;r++)if($0(t,e[r],n))return!0;return!1}function W0(t){for(let e=0;e<t.length;e++){let n=t[e];if(py(n))return e}return t.length}function z0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Mv(t,e){return t?":not("+e.trim()+")":e}function q0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Et(s)&&(e+=Mv(o,i),i=""),r=s,o=o||!Et(r);n++}return i!==""&&(e+=Mv(o,i)),e}function Y0(t){return t.map(q0).join(",")}function K0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Et(i))break;i=o}r++}return{attrs:e,classes:n}}function Bt(t){return wo(()=>{let e=Dy(t),n=Z(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,styles:t.styles||ut,_:null,schemas:t.schemas||null,tView:null,id:""});Ey(n);let r=t.dependencies;return n.directiveDefs=xv(r,!1),n.pipeDefs=xv(r,!0),n.id=X0(n),n})}function Q0(t){return bn(t)||yy(t)}function Z0(t){return t!==null}function me(t){return wo(()=>({type:t.type,bootstrap:t.bootstrap||ut,declarations:t.declarations||ut,imports:t.imports||ut,exports:t.exports||ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Av(t,e){if(t==null)return ti;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ae.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ae.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ue(t){return wo(()=>{let e=Dy(t);return Ey(e),e})}function vy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bn(t){return t[w0]||null}function yy(t){return t[C0]||null}function _y(t){return t[D0]||null}function wy(t){let e=bn(t)||yy(t)||_y(t);return e!==null?e.standalone:!1}function Cy(t,e){let n=t[E0]||null;if(!n&&e===!0)throw new Error(`Type ${Le(t)} does not have '\u0275mod' property.`);return n}function Dy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ti,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Av(t.inputs,e),outputs:Av(t.outputs),debugInfo:null}}function Ey(t){t.features?.forEach(e=>e(t))}function xv(t,e){if(!t)return null;let n=e?_y:Q0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Z0)}function X0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var cn=0,W=1,A=2,xe=3,It=4,Tt=5,Ua=6,uo=7,bt=8,ni=9,on=10,Se=11,fo=12,Nv=13,ci=14,Lt=15,uc=16,Kr=17,ho=18,dc=19,Iy=20,In=21,td=22,nr=23,Vt=25,by=1;var rr=7,Ba=8,$a=9,dt=10,Jd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Jd||{});function er(t){return Array.isArray(t)&&typeof t[by]=="object"}function ln(t){return Array.isArray(t)&&t[by]===!0}function Ty(t){return(t.flags&4)!==0}function fc(t){return t.componentOffset>-1}function ef(t){return(t.flags&1)===1}function Tn(t){return!!t.template}function J0(t){return(t[A]&512)!==0}function ir(t,e){let n=t.hasOwnProperty(Va);return n?t[Va]:null}var _d=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Sy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Mn(){return My}function My(t){return t.type.prototype.ngOnChanges&&(t.setInput=tT),eT}Mn.ngInherit=!0;function eT(){let t=xy(this),e=t?.current;if(e){let n=t.previous;if(n===ti)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tT(t,e,n,r,i){let o=this.declaredInputs[r],s=xy(t)||nT(t,{previous:ti,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new _d(l&&l.currentValue,n,c===ti),Sy(t,e,i,n)}var Ay="__ngSimpleChanges__";function xy(t){return t[Ay]||null}function nT(t,e){return t[Ay]=e}var Rv=null;var Pt=function(t,e,n){Rv?.(t,e,n)},Ny="svg",rT="math",iT=!1;function oT(){return iT}function jt(t){for(;Array.isArray(t);)t=t[cn];return t}function Ry(t,e){return jt(e[t])}function ft(t,e){return jt(e[t.index])}function Oy(t,e){return t.data[e]}function sT(t,e){return t[e]}function An(t,e){let n=e[t];return er(n)?n:n[cn]}function tf(t){return(t[A]&128)===128}function aT(t){return ln(t[xe])}function Ha(t,e){return e==null?null:t[e]}function Py(t){t[Kr]=0}function cT(t){t[A]&1024||(t[A]|=1024,tf(t)&&po(t))}function lT(t,e){for(;t>0;)e=e[ci],t--;return e}function ky(t){return t[A]&9216||t[nr]?.dirty}function wd(t){ky(t)?po(t):t[A]&64&&(oT()?(t[A]|=1024,po(t)):t[on].changeDetectionScheduler?.notify())}function po(t){t[on].changeDetectionScheduler?.notify();let e=go(t);for(;e!==null&&!(e[A]&8192||(e[A]|=8192,!tf(e)));)e=go(e)}function Fy(t,e){if((t[A]&256)===256)throw new I(911,!1);t[In]===null&&(t[In]=[]),t[In].push(e)}function uT(t,e){if(t[In]===null)return;let n=t[In].indexOf(e);n!==-1&&t[In].splice(n,1)}function go(t){let e=t[xe];return ln(e)?e[xe]:e}var V={lFrame:Wy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dT(){return V.lFrame.elementDepthCount}function fT(){V.lFrame.elementDepthCount++}function hT(){V.lFrame.elementDepthCount--}function Ly(){return V.bindingsEnabled}function pT(){return V.skipHydrationRootTNode!==null}function gT(t){return V.skipHydrationRootTNode===t}function mT(){V.skipHydrationRootTNode=null}function ie(){return V.lFrame.lView}function ht(){return V.lFrame.tView}function Vy(t){return V.lFrame.contextLView=t,t[bt]}function jy(t){return V.lFrame.contextLView=null,t}function et(){let t=Uy();for(;t!==null&&t.type===64;)t=t.parent;return t}function Uy(){return V.lFrame.currentTNode}function vT(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Co(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function By(){return V.lFrame.isParent}function yT(){V.lFrame.isParent=!1}function _T(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function wT(t){return V.lFrame.bindingIndex=t}function nf(){return V.lFrame.bindingIndex++}function CT(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function DT(){return V.lFrame.inI18n}function ET(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cd(e)}function IT(){return V.lFrame.currentDirectiveIndex}function Cd(t){V.lFrame.currentDirectiveIndex=t}function bT(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $y(t){V.lFrame.currentQueryIndex=t}function TT(t){let e=t[W];return e.type===2?e.declTNode:e.type===1?t[Tt]:null}function Hy(t,e,n){if(n&H.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&H.Host);)if(i=TT(o),i===null||(o=o[ci],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=V.lFrame=Gy();return r.currentTNode=e,r.lView=t,!0}function rf(t){let e=Gy(),n=t[W];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Gy(){let t=V.lFrame,e=t===null?null:t.child;return e===null?Wy(t):e}function Wy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zy(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qy=zy;function of(){let t=zy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ST(t){return(V.lFrame.contextLView=lT(t,V.lFrame.contextLView))[bt]}function li(){return V.lFrame.selectedIndex}function or(t){V.lFrame.selectedIndex=t}function Yy(){let t=V.lFrame;return Oy(t.tView,t.selectedIndex)}function Ky(){V.lFrame.currentNamespace=Ny}function Qy(){MT()}function MT(){V.lFrame.currentNamespace=null}function AT(){return V.lFrame.currentNamespace}var Zy=!0;function sf(){return Zy}function af(t){Zy=t}function xT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=My(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function cf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Oa(t,e,n){Xy(t,e,3,n)}function Pa(t,e,n,r){(t[A]&3)===n&&Xy(t,e,n,r)}function nd(t,e){let n=t[A];(n&3)===e&&(n&=16383,n+=1,t[A]=n)}function Xy(t,e,n,r){let i=r!==void 0?t[Kr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Kr]+=65536),(a<o||o==-1)&&(NT(t,n,e,c),t[Kr]=(t[Kr]&4294901760)+c+2),c++}function Ov(t,e){Pt(4,t,e);let n=ke(null);try{e.call(t)}finally{ke(n),Pt(5,t,e)}}function NT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[A]>>14<t[Kr]>>16&&(t[A]&3)===e&&(t[A]+=16384,Ov(a,o)):Ov(a,o)}var ei=-1,sr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function RT(t){return t instanceof sr}function OT(t){return(t.flags&8)!==0}function PT(t){return(t.flags&16)!==0}function Jy(t){return t!==ei}function Ga(t){return t&32767}function kT(t){return t>>16}function Wa(t,e){let n=kT(t),r=e;for(;n>0;)r=r[ci],n--;return r}var Dd=!0;function za(t){let e=Dd;return Dd=t,e}var FT=256,e_=FT-1,t_=5,LT=0,kt={};function VT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(so)&&(r=n[so]),r==null&&(r=n[so]=LT++);let i=r&e_,o=1<<i;e.data[t+(i>>t_)]|=o}function qa(t,e){let n=n_(t,e);if(n!==-1)return n;let r=e[W];r.firstCreatePass&&(t.injectorIndex=e.length,rd(r.data,t),rd(e,null),rd(r.blueprint,null));let i=lf(t,e),o=t.injectorIndex;if(Jy(i)){let s=Ga(i),a=Wa(i,e),c=a[W].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function rd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function n_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function lf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=a_(i),r===null)return ei;if(n++,i=i[ci],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ei}function Ed(t,e,n){VT(t,e,n)}function jT(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(py(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function r_(t,e,n){if(n&H.Optional||t!==void 0)return t;Xd(e,"NodeInjector")}function i_(t,e,n,r){if(n&H.Optional&&r===void 0&&(r=null),!(n&(H.Self|H.Host))){let i=t[ni],o=Ke(void 0);try{return i?i.get(e,r,n&H.Optional):uy(e,r,n&H.Optional)}finally{Ke(o)}}return r_(r,e,n)}function o_(t,e,n,r=H.Default,i){if(t!==null){if(e[A]&2048&&!(r&H.Self)){let s=GT(t,e,n,r,kt);if(s!==kt)return s}let o=s_(t,e,n,r,kt);if(o!==kt)return o}return i_(e,n,r,i)}function s_(t,e,n,r,i){let o=$T(n);if(typeof o=="function"){if(!Hy(e,t,r))return r&H.Host?r_(i,n,r):i_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&H.Optional))Xd(n);else return s}finally{qy()}}else if(typeof o=="number"){let s=null,a=n_(t,e),c=ei,l=r&H.Host?e[Lt][Tt]:null;for((a===-1||r&H.SkipSelf)&&(c=a===-1?lf(t,e):e[a+8],c===ei||!kv(r,!1)?a=-1:(s=e[W],a=Ga(c),e=Wa(c,e)));a!==-1;){let u=e[W];if(Pv(o,a,u.data)){let d=UT(a,e,n,s,r,l);if(d!==kt)return d}c=e[a+8],c!==ei&&kv(r,e[W].data[a+8]===l)&&Pv(o,a,e)?(s=u,a=Ga(c),e=Wa(c,e)):a=-1}}return i}function UT(t,e,n,r,i,o){let s=e[W],a=s.data[t+8],c=r==null?fc(a)&&Dd:r!=s&&(a.type&3)!==0,l=i&H.Host&&o===a,u=BT(a,s,n,c,l);return u!==null?ri(e,s,u,a):kt}function BT(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Tn(h)&&h.type===n)return c}return null}function ri(t,e,n,r){let i=t[n],o=e.data;if(RT(i)){let s=i;s.resolving&&b0(I0(o[n]));let a=za(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ke(s.injectImpl):null,u=Hy(t,r,H.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&xT(n,o[n],e)}finally{l!==null&&Ke(l),za(a),s.resolving=!1,qy()}}return i}function $T(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(so)?t[so]:void 0;return typeof e=="number"?e>=0?e&e_:HT:e}function Pv(t,e,n){let r=1<<t;return!!(n[e+(t>>t_)]&r)}function kv(t,e){return!(t&H.Self)&&!(t&H.Host&&e)}var tr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return o_(this._tNode,this._lView,e,lc(r),n)}};function HT(){return new tr(et(),ie())}function ui(t){return wo(()=>{let e=t.prototype.constructor,n=e[Va]||Id(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Va]||Id(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Id(t){return iy(t)?()=>{let e=Id(Fe(t));return e&&e()}:ir(t)}function GT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[A]&2048&&!(s[A]&512);){let a=s_(o,s,n,r|H.Self,kt);if(a!==kt)return a;let c=o.parent;if(!c){let l=s[Iy];if(l){let u=l.get(n,kt,r);if(u!==kt)return u}c=a_(s),s=s[ci]}o=c}return i}function a_(t){let e=t[W],n=e.type;return n===2?e.declTNode:n===1?t[Tt]:null}function uf(t){return jT(et(),t)}var Ma="__parameters__";function WT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function c_(t,e,n){return wo(()=>{let r=WT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ma)?c[Ma]:Object.defineProperty(c,Ma,{value:[]})[Ma];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function zT(t){let e=Ve.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function qT(t){return typeof t=="function"}function df(t,e){t.forEach(n=>Array.isArray(n)?df(n,e):e(n))}function l_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ya(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function KT(t,e,n){let r=Do(t,e);return r>=0?t[r|1]=n:(r=~r,YT(t,r,e,n)),r}function id(t,e){let n=Do(t,e);if(n>=0)return t[n|1]}function Do(t,e){return QT(t,e,1)}function QT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Eo=dy(c_("Optional"),8);var u_=dy(c_("SkipSelf"),4);function ZT(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(tS))}return o}return Ka.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>nS(o));e.push(c)}),JT(),Promise.all(e).then(()=>{})}var Ka=new Map,XT=new Set;function JT(){let t=Ka;return Ka=new Map,t}function eS(){return Ka.size===0}function tS(t){return typeof t=="string"?t:t.text()}function nS(t){XT.delete(t)}var ii=new w(""),d_=new w("",-1),f_=new w(""),Qa=class{get(e,n=co){if(n===co){let r=new Error(`NullInjectorError: No provider for ${Le(e)}!`);throw r.name="NullInjectorError",r}return n}};function hc(t){return{\u0275providers:t}}function rS(...t){return{\u0275providers:h_(!0,t),\u0275fromNgModule:!0}}function h_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return df(e,s=>{let a=s;bd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&p_(i,o),n}function p_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ff(i,o=>{e(o,r)})}}function bd(t,e,n,r){if(t=Fe(t),!t)return!1;let i=null,o=Iv(t),s=!o&&bn(t);if(!o&&!s){let c=t.ngModule;if(o=Iv(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)bd(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{df(o.imports,u=>{bd(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&p_(l,e)}if(!a){let l=ir(i)||(()=>new i);e({provide:i,useFactory:l,deps:ut},i),e({provide:f_,useValue:i,multi:!0},i),e({provide:ii,useValue:()=>g(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;ff(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ff(t,e){for(let n of t)oy(n)&&(n=n.\u0275providers),Array.isArray(n)?ff(n,e):e(n)}var iS=ee({provide:String,useValue:ee});function g_(t){return t!==null&&typeof t=="object"&&iS in t}function oS(t){return!!(t&&t.useExisting)}function sS(t){return!!(t&&t.useFactory)}function oi(t){return typeof t=="function"}function aS(t){return!!t.useClass}var pc=new w(""),ka={},cS={},od;function hf(){return od===void 0&&(od=new Qa),od}var je=class{},mo=class extends je{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sd(e,s=>this.processProvider(s)),this.records.set(d_,Qr(void 0,this)),i.has("environment")&&this.records.set(je,Qr(void 0,this));let o=this.records.get(pc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(f_,ut,H.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=En(this),r=Ke(void 0),i;try{return e()}finally{En(n),Ke(r)}}get(e,n=co,r=H.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Dv))return e[Dv](this);r=lc(r);let i,o=En(this),s=Ke(void 0);try{if(!(r&H.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=hS(e)&&cc(e);l&&this.injectableDefInScope(l)?c=Qr(Td(e),ka):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&H.Self?hf():this.parent;return n=r&H.Optional&&n===co?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ja]=a[ja]||[]).unshift(Le(e)),o)throw a;return L0(a,e,"R3InjectorError",this.source)}else throw a}finally{Ke(s),En(o)}}resolveInjectorInitializers(){let e=En(this),n=Ke(void 0),r;try{let i=this.get(ii,ut,H.Self);for(let o of i)o()}finally{En(e),Ke(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Le(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=Fe(e);let n=oi(e)?e:Fe(e&&e.provide),r=uS(e);if(!oi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qr(void 0,ka,!0),i.factory=()=>vd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ka&&(n.value=cS,n.value=n.factory()),typeof n.value=="object"&&n.value&&fS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Fe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Td(t){let e=cc(t),n=e!==null?e.factory:ir(t);if(n!==null)return n;if(t instanceof w)throw new I(204,!1);if(t instanceof Function)return lS(t);throw new I(204,!1)}function lS(t){if(t.length>0)throw new I(204,!1);let n=M0(t);return n!==null?()=>n.factory(t):()=>new t}function uS(t){if(g_(t))return Qr(void 0,t.useValue);{let e=m_(t);return Qr(e,ka)}}function m_(t,e,n){let r;if(oi(t)){let i=Fe(t);return ir(i)||Td(i)}else if(g_(t))r=()=>Fe(t.useValue);else if(sS(t))r=()=>t.useFactory(...vd(t.deps||[]));else if(oS(t))r=()=>g(Fe(t.useExisting));else{let i=Fe(t&&(t.useClass||t.provide));if(dS(t))r=()=>new i(...vd(t.deps));else return ir(i)||Td(i)}return r}function Qr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dS(t){return!!t.deps}function fS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function hS(t){return typeof t=="function"||typeof t=="object"&&t instanceof w}function Sd(t,e){for(let n of t)Array.isArray(n)?Sd(n,e):n&&oy(n)?Sd(n.\u0275providers,e):e(n)}function $t(t,e){t instanceof mo&&t.assertNotDestroyed();let n,r=En(t),i=Ke(void 0);try{return e()}finally{En(r),Ke(i)}}function pS(t){if(!ly()&&!P0())throw new I(-203,!1)}function Fv(t,e=null,n=null,r){let i=v_(t,e,n,r);return i.resolveInjectorInitializers(),i}function v_(t,e=null,n=null,r,i=new Set){let o=[n||ut,rS(t)];return r=r||(typeof t=="object"?void 0:Le(t)),new mo(o,e||hf(),r||null,i)}var St=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Fv({name:""},i,r,"");{let o=r.name??"";return Fv({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=co,e.NULL=new Qa,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>g(d_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Md;function y_(t){Md=t}function gS(){if(Md!==void 0)return Md;if(typeof document<"u")return document;throw new I(210,!1)}var gc=new w("",{providedIn:"root",factory:()=>mS}),mS="ng",pf=new w(""),Ne=new w("",{providedIn:"platform",factory:()=>"unknown"});var gf=new w("",{providedIn:"root",factory:()=>gS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function __(t){return t instanceof Function?t():t}function vS(t){return(t??v(St)).get(Ne)==="browser"}function w_(t){return(t.flags&128)===128}var sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(sn||{});var C_=new Map,yS=0;function _S(){return yS++}function wS(t){C_.set(t[dc],t)}function CS(t){C_.delete(t[dc])}var Lv="__ngContext__";function ar(t,e){er(e)?(t[Lv]=e[dc],wS(e)):t[Lv]=e}var DS;function mf(t,e){return DS(t,e)}function Zr(t,e,n,r,i){if(r!=null){let o,s=!1;ln(r)?o=r:er(r)&&(s=!0,r=r[cn]);let a=jt(r);t===0&&n!==null?i==null?T_(e,n,a):Za(e,n,a,i||null,!0):t===1&&n!==null?Za(e,n,a,i||null,!0):t===2?jS(e,a,s):t===3&&e.destroyNode(a),o!=null&&BS(e,t,o,n,i)}}function ES(t,e){return t.createText(e)}function IS(t,e,n){t.setValue(e,n)}function D_(t,e,n){return t.createElement(e,n)}function bS(t,e){E_(t,e),e[cn]=null,e[Tt]=null}function TS(t,e,n,r,i,o){r[cn]=i,r[Tt]=e,mc(t,r,n,1,i,o)}function E_(t,e){mc(t,e,e[Se],2,null,null)}function SS(t){let e=t[fo];if(!e)return sd(t[W],t);for(;e;){let n=null;if(er(e))n=e[fo];else{let r=e[dt];r&&(n=r)}if(!n){for(;e&&!e[It]&&e!==t;)er(e)&&sd(e[W],e),e=e[xe];e===null&&(e=t),er(e)&&sd(e[W],e),n=e&&e[It]}e=n}}function MS(t,e,n,r){let i=dt+r,o=n.length;r>0&&(n[i-1][It]=e),r<o-dt?(e[It]=n[i],l_(n,dt+r,e)):(n.push(e),e[It]=null),e[xe]=n;let s=e[uc];s!==null&&n!==s&&AS(s,e);let a=e[ho];a!==null&&a.insertView(t),wd(e),e[A]|=128}function AS(t,e){let n=t[$a],i=e[xe][xe][Lt];e[Lt]!==i&&(t[A]|=Jd.HasTransplantedViews),n===null?t[$a]=[e]:n.push(e)}function I_(t,e){let n=t[$a],r=n.indexOf(e);n.splice(r,1)}function Ad(t,e){if(t.length<=dt)return;let n=dt+e,r=t[n];if(r){let i=r[uc];i!==null&&i!==t&&I_(i,r),e>0&&(t[n-1][It]=r[It]);let o=Ya(t,dt+e);bS(r[W],r);let s=o[ho];s!==null&&s.detachView(o[W]),r[xe]=null,r[It]=null,r[A]&=-129}return r}function b_(t,e){if(!(e[A]&256)){let n=e[Se];n.destroyNode&&mc(t,e,n,3,null,null),SS(e)}}function sd(t,e){if(!(e[A]&256)){e[A]&=-129,e[A]|=256,e[nr]&&Jm(e[nr]),NS(t,e),xS(t,e),e[W].type===1&&e[Se].destroy();let n=e[uc];if(n!==null&&ln(e[xe])){n!==e[xe]&&I_(n,e);let r=e[ho];r!==null&&r.detachView(t)}CS(e)}}function xS(t,e){let n=t.cleanup,r=e[uo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[uo]=null);let i=e[In];if(i!==null){e[In]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function NS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof sr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Pt(4,a,c);try{c.call(a)}finally{Pt(5,a,c)}}else{Pt(4,i,o);try{o.call(i)}finally{Pt(5,i,o)}}}}}function RS(t,e,n){return OS(t,e.parent,n)}function OS(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ft.None||o===Ft.Emulated)return null}return ft(r,n)}}function Za(t,e,n,r,i){t.insertBefore(e,n,r,i)}function T_(t,e,n){t.appendChild(e,n)}function Vv(t,e,n,r,i){r!==null?Za(t,e,n,r,i):T_(t,e,n)}function PS(t,e,n,r){t.removeChild(e,n,r)}function vf(t,e){return t.parentNode(e)}function kS(t,e){return t.nextSibling(e)}function FS(t,e,n){return VS(t,e,n)}function LS(t,e,n){return t.type&40?ft(t,n):null}var VS=LS,jv;function yf(t,e,n,r){let i=RS(t,r,e),o=e[Se],s=r.parent||e[Tt],a=FS(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Vv(o,i,n[c],a,!1);else Vv(o,i,n,a,!1);jv!==void 0&&jv(o,r,e,n,i)}function Fa(t,e){if(e!==null){let n=e.type;if(n&3)return ft(e,t);if(n&4)return xd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fa(t,r);{let i=t[e.index];return ln(i)?xd(-1,i):jt(i)}}else{if(n&32)return mf(e,t)()||jt(t[e.index]);{let r=S_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=go(t[Lt]);return Fa(i,r)}else return Fa(t,e.next)}}}return null}function S_(t,e){if(e!==null){let r=t[Lt][Tt],i=e.projection;return r.projection[i]}return null}function xd(t,e){let n=dt+t+1;if(n<e.length){let r=e[n],i=r[W].firstChild;if(i!==null)return Fa(r,i)}return e[rr]}function jS(t,e,n){let r=vf(t,e);r&&PS(t,r,e,n)}function _f(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&ar(jt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)_f(t,e,n.child,r,i,o,!1),Zr(e,t,i,a,o);else if(c&32){let l=mf(n,r),u;for(;u=l();)Zr(e,t,i,u,o);Zr(e,t,i,a,o)}else c&16?US(t,e,r,n,i,o):Zr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function mc(t,e,n,r,i,o){_f(n,r,t.firstChild,e,i,o,!1)}function US(t,e,n,r,i,o){let s=n[Lt],c=s[Tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Zr(e,t,i,u,o)}else{let l=c,u=s[xe];w_(r)&&(l.flags|=128),_f(t,e,l,u,i,o,!0)}}function BS(t,e,n,r,i){let o=n[rr],s=jt(n);o!==s&&Zr(e,t,r,o,i);for(let a=dt;a<n.length;a++){let c=n[a];mc(c[W],c,t,e,r,o)}}function $S(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:sn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sn.Important),t.setStyle(n,r,i,o))}}function HS(t,e,n){t.setAttribute(e,"style",n)}function M_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function A_(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&yd(t,e,r),i!==null&&M_(t,e,i),o!==null&&HS(t,e,o)}var Aa;function GS(){if(Aa===void 0&&(Aa=null,Ve.trustedTypes))try{Aa=Ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Aa}function Uv(t){return GS()?.createScriptURL(t)||t}var Xa=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ry})`}};function Io(t){return t instanceof Xa?t.changingThisBreaksApplicationSecurity:t}function wf(t,e){let n=WS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ry})`)}return n===e}function WS(t){return t instanceof Xa&&t.getTypeName()||null}var zS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function x_(t){return t=String(t),t.match(zS)?t:"unsafe:"+t}var vc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vc||{});function qS(t){let e=R_();return e?e.sanitize(vc.URL,t)||"":wf(t,"URL")?Io(t):x_(ac(t))}function YS(t){let e=R_();if(e)return Uv(e.sanitize(vc.RESOURCE_URL,t)||"");if(wf(t,"ResourceURL"))return Uv(Io(t));throw new I(904,!1)}function KS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?YS:qS}function N_(t,e,n){return KS(e,n)(t)}function R_(){let t=ie();return t&&t[on].sanitizer}var Nd=class{};var QS="h",ZS="b";var XS=()=>null;function Cf(t,e,n=!1){return XS(t,e,n)}var Rd=class{},Ja=class{};function JS(t){let e=Error(`No component factory found for ${Le(t)}.`);return e[eM]=t,e}var eM="ngComponent";var Od=class{resolveComponentFactory(e){throw JS(e)}},yc=(()=>{let e=class e{};e.NULL=new Od;let t=e;return t})();function tM(){return _c(et(),ie())}function _c(t,e){return new xn(ft(t,e))}var xn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=tM;let t=e;return t})();var vo=class{},dr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>nM();let t=e;return t})();function nM(){let t=ie(),e=et(),n=An(e.index,t);return(er(n)?n:t)[Se]}var rM=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),ad={};function Df(t){let e=ke(null);try{return t()}finally{ke(e)}}function ec(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(jt(o)),ln(o)&&iM(o,r);let s=n.type;if(s&8)ec(t,e,n.child,r);else if(s&32){let a=mf(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=S_(e,n);if(Array.isArray(a))r.push(...a);else{let c=go(e[Lt]);ec(c[W],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function iM(t,e){for(let n=dt;n<t.length;n++){let r=t[n],i=r[W].firstChild;i!==null&&ec(r[W],r,i,e)}t[rr]!==t[cn]&&e.push(t[rr])}var O_=[];function oM(t){return t[nr]??sM(t)}function sM(t){let e=O_.pop()??Object.create(cM);return e.lView=t,e}function aM(t){t.lView[nr]!==t&&(t.lView=null,O_.push(t))}var cM=Z(D({},Qm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{po(t.lView)},consumerOnSignalRead(){this.lView[nr]=this}});function P_(t){return F_(t[fo])}function k_(t){return F_(t[It])}function F_(t){for(;t!==null&&!ln(t);)t=t[It];return t}var lM="ngOriginalError";function cd(t){return t[lM]}var Ut=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&cd(e);for(;n&&cd(n);)n=cd(n);return n||null}},L_=new w("",{providedIn:"root",factory:()=>v(Ut).handleError.bind(void 0)});var V_=!1,uM=new w("",{providedIn:"root",factory:()=>V_});var fr={};function Qe(t=1){j_(ht(),ie(),li()+t,!1)}function j_(t,e,n,r){if(!r)if((e[A]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Oa(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Pa(e,o,0,n)}or(n)}function O(t,e=H.Default){let n=ie();if(n===null)return g(t,e);let r=et();return o_(r,n,Fe(t),e)}function U_(){let t="invalid";throw new Error(t)}function B_(t,e,n,r,i,o){let s=ke(null);try{let a=null;i&Ae.SignalBased&&(a=e[r][Km]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ae.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Sy(e,a,r,o)}finally{ke(s)}}function dM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)or(~i);else{let o=i,s=n[++r],a=n[++r];ET(s,o);let c=e[o];a(2,c)}}}finally{or(-1)}}function wc(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[cn]=i,d[A]=r|4|128|8|64,(l!==null||t&&t[A]&2048)&&(d[A]|=2048),Py(d),d[xe]=d[ci]=t,d[bt]=n,d[on]=s||t&&t[on],d[Se]=a||t&&t[Se],d[ni]=c||t&&t[ni]||null,d[Tt]=o,d[dc]=_S(),d[Ua]=u,d[Iy]=l,d[Lt]=e.type==2?t[Lt]:d,d}function Cc(t,e,n,r,i){let o=t.data[e];if(o===null)o=fM(t,e,n,r,i),DT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vT();o.injectorIndex=s===null?-1:s.injectorIndex}return Co(o,!0),o}function fM(t,e,n,r,i){let o=Uy(),s=By(),a=s?o:o&&o.parent,c=t.data[e]=vM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function $_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function H_(t,e,n,r,i){let o=li(),s=r&2;try{or(-1),s&&e.length>Vt&&j_(t,e,Vt,!1),Pt(s?2:0,i),n(r,i)}finally{or(o),Pt(s?3:1,i)}}function G_(t,e,n){if(Ty(e)){let r=ke(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ke(r)}}}function W_(t,e,n){Ly()&&(IM(t,e,n,ft(n,e)),(n.flags&64)===64&&Q_(t,e,n))}function z_(t,e,n=ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function q_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ef(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ef(t,e,n,r,i,o,s,a,c,l,u){let d=Vt+r,f=d+i,h=hM(d,f),p=typeof l=="function"?l():l;return h[W]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function hM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:fr);return n}function pM(t,e,n,r){let o=r.get(uM,V_)||n===Ft.ShadowDom,s=t.selectRootElement(e,o);return gM(s),s}function gM(t){mM(t)}var mM=()=>null;function vM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return pT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bv(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Ae.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?$v(r,n,l,a,c):$v(r,n,l,a)}return r}function $v(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function yM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=Bv(0,d.inputs,u,c,h),l=Bv(1,d.outputs,u,l,p);let y=c!==null&&s!==null&&!my(e)?kM(c,u,s):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function _M(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function wM(t,e,n,r,i,o,s,a){let c=ft(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(If(t,n,u,r,i),fc(e)&&CM(n,e.index)):e.type&3?(r=_M(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function CM(t,e){let n=An(e,t);n[A]&16||(n[A]|=64)}function Y_(t,e,n,r){if(Ly()){let i=r===null?null:{"":-1},o=TM(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&K_(t,e,n,s,i,a),i&&SM(n,r,i)}n.mergedAttrs=lo(n.mergedAttrs,n.attrs)}function K_(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Ed(qa(n,e),t,r[l].type);AM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=$_(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=lo(n.mergedAttrs,u.hostAttrs),xM(t,n,e,c,u),MM(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}yM(t,n,o)}function DM(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;EM(s)!=a&&s.push(a),s.push(n,r,o)}}function EM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function IM(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;fc(n)&&NM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qa(n,e),ar(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=ri(e,t,a,n);if(ar(l,e),s!==null&&PM(e,a-i,l,c,n,s),Tn(c)){let u=An(n.index,e);u[bt]=ri(e,t,a,n)}}}function Q_(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=IT();try{or(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Cd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bM(c,l)}}finally{or(-1),Cd(s)}}function bM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function TM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(G0(e,s.selectors,!1))if(r||(r=[]),Tn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Pd(t,e,c)}else r.unshift(s),Pd(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Pd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function MM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tn(e)&&(n[""]=t)}}function AM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ir(i.type,!0)),s=new sr(o,Tn(i),O);t.blueprint[r]=s,n[r]=s,DM(t,e,r,$_(t,n,i.hostVars,fr),i)}function NM(t,e,n){let r=ft(e,t),i=q_(n),o=t[on].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Dc(t,wc(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function RM(t,e,n,r,i,o){let s=ft(t,e);OM(e[Se],s,o,t.value,n,r,i)}function OM(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ac(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function PM(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];B_(r,n,c,l,u,d)}}function kM(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Z_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function X_(t,e){let n=t.contentQueries;if(n!==null){let r=ke(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$y(o),a.contentQueries(2,e[s],s)}}}finally{ke(r)}}}function Dc(t,e){return t[fo]?t[Nv][It]=e:t[fo]=e,t[Nv]=e,e}function kd(t,e,n){$y(0);let r=ke(null);try{e(t,n)}finally{ke(r)}}function FM(t){return t[uo]||(t[uo]=[])}function LM(t){return t.cleanup||(t.cleanup=[])}function J_(t,e){let n=t[ni],r=n?n.get(Ut,null):null;r&&r.handleError(e)}function If(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];B_(u,l,r,a,c,i)}}function VM(t,e,n){let r=Ry(e,t);IS(t[Se],r,n)}var jM=100;function UM(t,e=!0){let n=t[on],r=n.rendererFactory,i=!1;i||r.begin?.();try{BM(t)}catch(o){throw e&&J_(t,o),o}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function BM(t){Fd(t,0);let e=0;for(;ky(t);){if(e===jM)throw new I(103,!1);e++,Fd(t,1)}}function $M(t,e,n,r){let i=e[A];if((i&256)===256)return;let o=!1;!o&&e[on].inlineEffectRunner?.flush(),rf(e);let s=null,a=null;!o&&HM(t)&&(a=oM(e),s=Zm(a));try{Py(e),wT(t.bindingStartIndex),n!==null&&H_(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Oa(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Pa(e,d,0,null),nd(e,0)}if(GM(e),ew(e,0),t.contentQueries!==null&&X_(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Oa(e,d)}else{let d=t.contentHooks;d!==null&&Pa(e,d,1),nd(e,1)}dM(t,e);let l=t.components;l!==null&&nw(e,l,0);let u=t.viewQuery;if(u!==null&&kd(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Oa(e,d)}else{let d=t.viewHooks;d!==null&&Pa(e,d,2),nd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[td]){for(let d of e[td])d();e[td]=null}o||(e[A]&=-73)}catch(c){throw po(e),c}finally{a!==null&&(Xm(a,s),aM(a)),of()}}function HM(t){return t.type!==2}function ew(t,e){for(let n=P_(t);n!==null;n=k_(n))for(let r=dt;r<n.length;r++){let i=n[r];tw(i,e)}}function GM(t){for(let e=P_(t);e!==null;e=k_(e)){if(!(e[A]&Jd.HasTransplantedViews))continue;let n=e[$a];for(let r=0;r<n.length;r++){let i=n[r],o=i[xe];cT(i)}}}function WM(t,e,n){let r=An(e,t);tw(r,n)}function tw(t,e){tf(t)&&Fd(t,e)}function Fd(t,e){let r=t[W],i=t[A],o=t[nr],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Nu(o)),o&&(o.dirty=!1),t[A]&=-9217,s)$M(r,t,r.template,t[bt]);else if(i&8192){ew(t,1);let a=r.components;a!==null&&nw(t,a,1)}}function nw(t,e,n){for(let r=0;r<e.length;r++)WM(t,e[r],n)}function bf(t){for(t[on].changeDetectionScheduler?.notify();t;){t[A]|=64;let e=go(t);if(J0(t)&&!e)return t;t=e}return null}var cr=class{get rootNodes(){let e=this._lView,n=e[W];return ec(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bt]}set context(e){this._lView[bt]=e}get destroyed(){return(this._lView[A]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xe];if(ln(e)){let n=e[Ba],r=n?n.indexOf(this):-1;r>-1&&(Ad(e,r),Ya(n,r))}this._attachedToViewContainer=!1}b_(this._lView[W],this._lView)}onDestroy(e){Fy(this._lView,e)}markForCheck(){bf(this._cdRefInjectingView||this._lView)}detach(){this._lView[A]&=-129}reattach(){wd(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,UM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,E_(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e,wd(this._lView)}},di=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zM;let t=e;return t})();function zM(t){return qM(et(),ie(),(t&16)===16)}function qM(t,e,n){if(fc(t)&&!n){let r=An(t.index,e);return new cr(r,r)}else if(t.type&47){let r=e[Lt];return new cr(r,e)}return null}var rw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=YM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ld=class extends rw{constructor(e){super(),this._lView=e}onDestroy(e){return Fy(this._lView,e),()=>uT(this._lView,e)}};function YM(){return new Ld(ie())}var Hv=new Set;function Ec(t){Hv.has(t)||(Hv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Vd=class extends fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ld(o),i&&(i=ld(i)),s&&(s=ld(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ue&&e.add(a),a}};function ld(t){return e=>{setTimeout(t,void 0,e)}}var pe=Vd;function Gv(...t){}function KM(){let t=typeof Ve.requestAnimationFrame=="function",e=Ve[t?"requestAnimationFrame":"setTimeout"],n=Ve[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var z=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pe(!1),this.onMicrotaskEmpty=new pe(!1),this.onStable=new pe(!1),this.onError=new pe(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=KM().nativeRequestAnimationFrame,XM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QM,Gv,Gv);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},QM={};function Tf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ZM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,jd(t),t.isCheckStableRunning=!0,Tf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),jd(t))}function XM(t){let e=()=>{ZM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(JM(a))return n.invokeTask(i,o,s,a);try{return Wv(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zv(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Wv(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),zv(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,jd(t),Tf(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function jd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Wv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zv(t){t._nesting--,Tf(t)}var Ud=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pe,this.onMicrotaskEmpty=new pe,this.onStable=new pe,this.onError=new pe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function JM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function eA(t="zone.js",e){return t==="noop"?new Ud:t==="zone.js"?new z(e):t}var Xr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Xr||{}),tA={destroy(){}};function Sf(t,e){!e&&pS(Sf);let n=e?.injector??v(St);if(!vS(n))return tA;Ec("NgAfterNextRender");let r=n.get(Mf),i=r.handler??=new $d,o=e?.phase??Xr.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(rw).onDestroy(s),c=new Bd(n,o,()=>{s(),t()});return i.register(c),{destroy:s}}var Bd=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(z),this.errorHandler=e.get(Ut,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},$d=class{constructor(){this.executingCallbacks=!1,this.buckets={[Xr.EarlyRead]:new Set,[Xr.Write]:new Set,[Xr.MixedReadWrite]:new Set,[Xr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Mf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of r)o();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function nA(t,e){let n=An(e,t),r=n[W];rA(r,n);let i=n[cn];i!==null&&n[Ua]===null&&(n[Ua]=Cf(i,n[ni])),Af(r,n,n[bt])}function rA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Af(t,e,n){rf(e);try{let r=t.viewQuery;r!==null&&kd(1,r,n);let i=t.template;i!==null&&H_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&X_(t,e),t.staticViewQueries&&kd(2,t.viewQuery,n);let o=t.components;o!==null&&iA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[A]&=-5,of()}}function iA(t,e){for(let n=0;n<e.length;n++)nA(t,e[n])}function Hd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Cv(i,a);else if(o==2){let c=a,l=e[++s];r=Cv(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var tc=class extends yc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bn(e);return new si(n,this.ngModule)}};function qv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function oA(t){let e=t.toLowerCase();return e==="svg"?Ny:e==="math"?rT:null}var Gd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=lc(r);let i=this.injector.get(e,ad,r);return i!==ad||n===ad?i:this.parentInjector.get(e,n,r)}},si=class extends Ja{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Y0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof je?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Gd(e,o):e,a=s.get(vo,null);if(a===null)throw new I(407,!1);let c=s.get(rM,null),l=s.get(Mf,null),u=s.get(Nd,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?pM(f,r,this.componentDef.encapsulation,s):D_(f,h,oA(h)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let _=null;p!==null&&(_=Cf(p,s,!0));let C=Ef(0,null,null,1,0,null,null,null,null,null,null),F=wc(null,C,null,y,null,null,d,f,s,null,_);rf(F);let B,$;try{let le=this.componentDef,_t,Zi=null;le.findHostDirectiveDefs?(_t=[],Zi=new Map,le.findHostDirectiveDefs(le,_t,Zi),_t.push(le)):_t=[le];let Gb=sA(F,p),Wb=aA(Gb,p,le,_t,F,d,f);$=Oy(C,Vt),p&&uA(f,le,p,r),n!==void 0&&dA($,this.ngContentSelectors,n),B=lA(Wb,le,_t,Zi,F,[fA]),Af(C,F,null)}finally{of()}return new Wd(this.componentType,B,_c($,F),F,$)}},Wd=class extends Rd{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new cr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;If(o[W],o,i,e,n),this.previousInputValues.set(e,n);let s=An(this._tNode.index,o);bf(s)}}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sA(t,e){let n=t[W],r=Vt;return t[r]=e,Cc(n,r,2,"#host",null)}function aA(t,e,n,r,i,o,s){let a=i[W];cA(r,t,e,s);let c=null;e!==null&&(c=Cf(e,i[ni]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=wc(i,q_(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Pd(a,t,r.length-1),Dc(i,d),i[t.index]=d}function cA(t,e,n,r){for(let i of t)e.mergedAttrs=lo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Hd(e,e.mergedAttrs,!0),n!==null&&A_(r,n,e))}function lA(t,e,n,r,i,o){let s=et(),a=i[W],c=ft(s,i);K_(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=ri(i,a,d,s);ar(f,i)}Q_(a,i,s),c&&ar(c,i);let l=ri(i,a,s.directiveStart+s.componentOffset,s);if(t[bt]=i[bt]=l,o!==null)for(let u of o)u(l,e);return G_(a,s,t),l}function uA(t,e,n,r){if(r)yd(t,n,["ng-version","17.1.2"]);else{let{attrs:i,classes:o}=K0(e.selectors[0]);i&&yd(t,n,i),o&&o.length>0&&M_(t,n,o.join(" "))}}function dA(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function fA(){let t=et();cf(ie()[W],t)}function hA(t){return Object.getPrototypeOf(t.prototype).constructor}function un(t){let e=hA(t.type),n=!0,r=[t];for(;e;){let i;if(Tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=xa(t.inputs),s.inputTransforms=xa(t.inputTransforms),s.declaredInputs=xa(t.declaredInputs),s.outputs=xa(t.outputs);let a=i.hostBindings;a&&yA(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&mA(t,c),l&&vA(t,l),pA(t,i),y0(t.outputs,i.outputs),Tn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===un&&(n=!1)}}e=Object.getPrototypeOf(e)}gA(r)}function pA(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function gA(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=lo(i.hostAttrs,n=lo(n,i.hostAttrs))}}function xa(t){return t===ti?{}:t===ut?[]:t}function mA(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function vA(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function yA(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function xf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var UG=new RegExp(`^(\\d+)*(${ZS}|${QS})*(.*)`);var _A=()=>null;function Yv(t,e){return _A(t,e)}function wA(t,e,n,r){let i=e.tView,s=t[A]&4096?4096:16,a=wc(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[uc]=c;let l=t[ho];return l!==null&&(a[ho]=l.createEmbeddedView(i)),Af(i,a,n),a}function Kv(t,e){return!e||e.firstChild===null||w_(t)}function CA(t,e,n,r=!0){let i=e[W];if(MS(i,e,t,n),r){let s=xd(n,t),a=e[Se],c=vf(a,t[rr]);c!==null&&TS(i,t[Tt],a,e,c,s)}let o=e[Ua];o!==null&&o.firstChild!==null&&(o.firstChild=null)}var bo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DA;let t=e;return t})();function DA(){let t=et();return IA(t,ie())}var EA=bo,iw=class extends EA{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _c(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=lf(this._hostTNode,this._hostLView);if(Jy(e)){let n=Wa(e,this._hostLView),r=Ga(e),i=n[W].data[r+8];return new tr(i,n)}else return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Qv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Yv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Kv(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!qT(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new si(bn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let y=(s?l:this.parentInjector).get(je,null);y&&(o=y)}let u=bn(c.componentType??{}),d=Yv(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,Kv(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xe],l=new iw(c,c[Tt],c[xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return CA(s,i,o,r),e.attachToViewContainerRef(),l_(ud(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Qv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ad(this._lContainer,n);r&&(Ya(ud(this._lContainer),n),b_(r[W],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ad(this._lContainer,n);return r&&Ya(ud(this._lContainer),n)!=null?new cr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Qv(t){return t[Ba]}function ud(t){return t[Ba]||(t[Ba]=[])}function IA(t,e){let n,r=e[t.index];return ln(r)?n=r:(n=Z_(r,e,null,t),e[t.index]=n,Dc(e,n)),TA(n,e,t,r),new iw(n,t,e)}function bA(t,e){let n=t[Se],r=n.createComment(""),i=ft(e,t),o=vf(n,i);return Za(n,o,r,kS(n,i),!1),r}var TA=AA,SA=()=>!1;function MA(t,e,n){return SA(t,e,n)}function AA(t,e,n,r){if(t[rr])return;let i;n.type&8?i=jt(r):i=bA(e,n),t[rr]=i}function xA(t,e,n){return t[e]=n}function To(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function NA(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Cc(e,t,4,s||null,Ha(l,a));Y_(e,n,u,Ha(l,c)),cf(e,u);let d=u.tView=Ef(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Nn(t,e,n,r,i,o,s,a){let c=ie(),l=ht(),u=t+Vt,d=l.firstCreatePass?NA(u,l,c,e,n,r,i,o,s):l.data[u];Co(d,!1);let f=RA(l,c,d,t);sf()&&yf(l,c,f,d),ar(f,c);let h=Z_(f,c,f,d);return c[u]=h,Dc(c,h),MA(h,d,c),ef(d)&&W_(l,c,d),s!=null&&z_(c,d,a),Nn}var RA=OA;function OA(t,e,n,r){return af(!0),e[Se].createComment("")}function Ic(t,e,n,r){let i=ie(),o=nf();if(To(i,o,e)){let s=ht(),a=Yy();RM(a,i,t,e,n,r)}return Ic}function PA(t,e,n,r){return To(t,nf(),n)?e+ac(n)+r:fr}function Na(t,e){return t<<17|e<<2}function lr(t){return t>>17&32767}function kA(t){return(t&2)==2}function FA(t,e){return t&131071|e<<17}function zd(t){return t|2}function ai(t){return(t&131068)>>2}function dd(t,e){return t&-131069|e<<2}function LA(t){return(t&1)===1}function qd(t){return t|1}function VA(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=lr(s),c=ai(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Do(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=lr(t[a+1]);t[r+1]=Na(f,a),f!==0&&(t[f+1]=dd(t[f+1],r)),t[a+1]=FA(t[a+1],r)}else t[r+1]=Na(a,0),a!==0&&(t[a+1]=dd(t[a+1],r)),a=r;else t[r+1]=Na(c,0),a===0?a=r:t[c+1]=dd(t[c+1],r),c=r;l&&(t[r+1]=zd(t[r+1])),Zv(t,u,r,!0),Zv(t,u,r,!1),jA(e,u,t,r,o),s=Na(a,c),o?e.classBindings=s:e.styleBindings=s}function jA(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Do(o,e)>=0&&(n[r+1]=qd(n[r+1]))}function Zv(t,e,n,r){let i=t[n+1],o=e===null,s=r?lr(i):ai(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];UA(c,e)&&(a=!0,t[s+1]=r?qd(l):zd(l)),s=r?lr(l):ai(l)}a&&(t[n+1]=r?zd(i):qd(i))}function UA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Do(t,e)>=0:!1}function Be(t,e,n){let r=ie(),i=nf();if(To(r,i,e)){let o=ht(),s=Yy();wM(o,s,r,t,e,r[Se],n,!1)}return Be}function Xv(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";If(t,n,o[s],s,r)}function bc(t,e){return BA(t,e,null,!0),bc}function BA(t,e,n,r){let i=ie(),o=ht(),s=CT(2);if(o.firstUpdatePass&&HA(o,t,s,r),e!==fr&&To(i,s,e)){let a=o.data[li()];YA(o,a,i,i[Se],t,i[s+1]=KA(e,n),r,s)}}function $A(t,e){return e>=t.expandoStartIndex}function HA(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[li()],s=$A(t,n);QA(o,r)&&e===null&&!s&&(e=!1),e=GA(i,o,e,r),VA(i,o,e,n,s,r)}}function GA(t,e,n,r){let i=bT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=fd(null,t,e,n,r),n=yo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=fd(i,t,e,n,r),o===null){let c=WA(t,e,r);c!==void 0&&Array.isArray(c)&&(c=fd(null,t,e,c[1],r),c=yo(c,e.attrs,r),zA(t,e,r,c))}else o=qA(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function WA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ai(r)!==0)return t[lr(r)]}function zA(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[lr(i)]=r}function qA(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=yo(r,s,n)}return yo(r,e.attrs,n)}function fd(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=yo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function yo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),KT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function YA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=LA(l)?Jv(c,e,n,i,ai(l),s):void 0;if(!nc(u)){nc(o)||kA(l)&&(o=Jv(c,null,n,i,a,s));let d=Ry(li(),n);$S(r,s,d,i,o)}}function Jv(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===fr&&(f=d?ut:void 0);let h=d?id(f,r):u===r?f:void 0;if(l&&!nc(h)&&(h=id(c,r)),nc(h)&&(a=h,s))return a;let p=t[i+1];i=s?lr(p):ai(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=id(c,r))}return a}function nc(t){return t!==void 0}function KA(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Le(Io(t)))),t}function QA(t,e){return(t.flags&(e?8:16))!==0}function ZA(t,e,n,r,i,o){let s=e.consts,a=Ha(s,i),c=Cc(e,t,2,r,a);return Y_(e,n,c,Ha(s,o)),c.attrs!==null&&Hd(c,c.attrs,!1),c.mergedAttrs!==null&&Hd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function X(t,e,n,r){let i=ie(),o=ht(),s=Vt+t,a=i[Se],c=o.firstCreatePass?ZA(s,o,i,e,n,r):o.data[s],l=XA(o,i,c,a,e,t);i[s]=l;let u=ef(c);return Co(c,!0),A_(a,l,c),(c.flags&32)!==32&&sf()&&yf(o,i,l,c),dT()===0&&ar(l,i),fT(),u&&(W_(o,i,c),G_(o,c,i)),r!==null&&z_(i,c),X}function oe(){let t=et();By()?yT():(t=t.parent,Co(t,!1));let e=t;gT(e)&&mT(),hT();let n=ht();return n.firstCreatePass&&(cf(n,t),Ty(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&OT(e)&&Xv(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PT(e)&&Xv(n,e,ie(),e.stylesWithoutHost,!1),oe}function _e(t,e,n,r){return X(t,e,n,r),oe(),_e}var XA=(t,e,n,r,i,o)=>(af(!0),D_(r,i,AT()));function ow(){return ie()}var rc="en-US";var JA=rc;function ex(t){T0(t,"Expected localeId to be defined"),typeof t=="string"&&(JA=t.toLowerCase().replace(/_/g,"-"))}function Rn(t){return!!t&&typeof t.then=="function"}function Nf(t){return!!t&&typeof t.subscribe=="function"}function Mt(t,e,n,r){let i=ie(),o=ht(),s=et();return nx(o,i,i[Se],s,t,e,r),Mt}function tx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[uo],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function nx(t,e,n,r,i,o,s){let a=ef(r),l=t.firstCreatePass&&LM(t),u=e[bt],d=FM(e),f=!0;if(r.type&3||s){let y=ft(r,e),_=s?s(y):y,C=d.length,F=s?$=>s(jt($[r.index])):r.index,B=null;if(!s&&a&&(B=tx(t,e,i,r.index)),B!==null){let $=B.__ngLastListenerFn__||B;$.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,f=!1}else{o=ty(r,e,u,o,!1);let $=n.listen(_,i,o);d.push(o,$),l&&l.push(i,F,C,C+1)}}else o=ty(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let y=p.length;if(y)for(let _=0;_<y;_+=2){let C=p[_],F=p[_+1],le=e[C][F].subscribe(o),_t=d.length;d.push(o,le),l&&l.push(i,r.index,_t,-(_t+1))}}}function ey(t,e,n,r){try{return Pt(6,e,n),n(r)!==!1}catch(i){return J_(t,i),!1}finally{Pt(7,e,n)}}function ty(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?An(t.index,e):e;bf(a);let c=ey(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=ey(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function So(t=1){return ST(t)}var Rf=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ox;let t=e;return t})(),rx=Rf,ix=class extends rx{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=wA(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new cr(i)}};function ox(){return sx(et(),ie())}function sx(t,e){return t.type&4?new ix(e,t,_c(t,e)):null}function ax(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ze(t,e=""){let n=ie(),r=ht(),i=t+Vt,o=r.firstCreatePass?Cc(r,i,1,e,null):r.data[i],s=cx(r,n,o,e,t);n[i]=s,sf()&&yf(r,n,s,o),Co(o,!1)}var cx=(t,e,n,r,i)=>(af(!0),ES(e[Se],r));function Of(t){return Tc("",t,""),Of}function Tc(t,e,n){let r=ie(),i=PA(r,t,e,n);return i!==fr&&VM(r,li(),i),Tc}function lx(t,e,n){let r=ht();if(r.firstCreatePass){let i=Tn(t);Yd(n,r.data,r.blueprint,i,!0),Yd(e,r.data,r.blueprint,i,!1)}}function Yd(t,e,n,r,i){if(t=Fe(t),Array.isArray(t))for(let o=0;o<t.length;o++)Yd(t[o],e,n,r,i);else{let o=ht(),s=ie(),a=et(),c=oi(t)?t:Fe(t.provide),l=m_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(oi(t)||!t.multi){let h=new sr(l,i,O),p=pd(c,e,i?u:u+f,d);p===-1?(Ed(qa(a,s),o,c),hd(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=pd(c,e,u+f,d),p=pd(c,e,u,u+f),y=h>=0&&n[h],_=p>=0&&n[p];if(i&&!_||!i&&!y){Ed(qa(a,s),o,c);let C=fx(i?dx:ux,n.length,i,r,l);!i&&_&&(n[p].providerFactory=C),hd(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else{let C=sw(n[i?p:h],l,!i&&r);hd(o,t,h>-1?h:p,C)}!i&&r&&_&&n[p].componentProviders++}}}function hd(t,e,n,r){let i=oi(e),o=aS(e);if(i||o){let c=(o?Fe(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function sw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function pd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ux(t,e,n,r){return Kd(this.multi,[])}function dx(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ri(n,n[W],this.providerFactory.index,r);o=a.slice(0,s),Kd(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Kd(i,o);return o}function Kd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function fx(t,e,n,r,i){let o=new sr(t,n,O);return o.multi=[],o.index=e,o.componentProviders=0,sw(o,i,r&&!n),o}function Mo(t,e=[]){return n=>{n.providersResolver=(r,i)=>lx(r,i?i(t):t,e)}}var Sn=class{},_o=class{};var ic=class extends Sn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tc(this);let i=Cy(e);this._bootstrapComponents=__(i.bootstrap),this._r3Injector=v_(e,n,[{provide:Sn,useValue:this},{provide:yc,useValue:this.componentFactoryResolver},...r],Le(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},oc=class extends _o{constructor(e){super(),this.moduleType=e}create(e){return new ic(this.moduleType,e,[])}};function hx(t,e,n){return new ic(t,e,n)}var Qd=class extends Sn{constructor(e){super(),this.componentFactoryResolver=new tc(this),this.instance=null;let n=new mo([...e.providers,{provide:Sn,useValue:this},{provide:yc,useValue:this.componentFactoryResolver}],e.parent||hf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sc(t,e,n=null){return new Qd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var px=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=h_(!1,r.type),o=i.length>0?Sc([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(g(je))});let t=e;return t})();function aw(t){Ec("NgStandalone"),t.getStandaloneInjector=e=>e.get(px).getOrCreateStandaloneInjector(t)}function gx(t,e){let n=t[e];return n===fr?void 0:n}function mx(t,e,n,r,i,o){let s=e+n;return To(t,s,i)?xA(t,s+1,o?r.call(o,i):r(i)):gx(t,s+1)}function Mc(t,e){let n=ht(),r,i=t+Vt;n.firstCreatePass?(r=vx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ir(r.type,!0)),s,a=Ke(O);try{let c=za(!1),l=o();return za(c),ax(n,ie(),i,l),l}finally{Ke(a)}}function vx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Ac(t,e,n){let r=t+Vt,i=ie(),o=sT(i,r);return yx(i,r)?mx(i,_T(),e,o.transform,n,o):o.transform(n)}function yx(t,e){return t[W].data[e].pure}var Ra=null;function _x(t){Ra!==null&&(t.defaultEncapsulation!==Ra.defaultEncapsulation||t.preserveWhitespaces!==Ra.preserveWhitespaces)||(Ra=t)}var an=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},cw=new an("17.1.2");var xc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Zd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Nc=(()=>{let e=class e{compileModuleSync(r){return new oc(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Cy(r),s=__(o.declarations).reduce((a,c)=>{let l=bn(c);return l&&a.push(new si(l)),a},[]);return new Zd(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wx=new w("");var hr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Pf=new w(""),Ao=new w(""),Rc=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,kf||(Cx(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{z.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(g(z),g(Oc),g(Ao))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Oc=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return kf?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Cx(t){kf=t}var kf,Pc=new w(""),lw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=v(Pc,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Rn(s))r.push(s);else if(Nf(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kc=new w("");function Dx(t,e,n){let r=new oc(n);return Promise.resolve(r)}function Ex(){ev(()=>{throw new I(600,!1)})}function Ix(t){return t.isBoundToModule}function bx(t,e,n){try{let r=n();return Rn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function uw(t,e){return Array.isArray(e)?e.reduce(uw,t):D(D({},t),e)}var pr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(L_),this.afterRenderEffectManager=v(Mf),this.componentTypes=[],this.components=[],this.isStable=v(hr).hasPendingTasks.pipe(T(r=>!r)),this._injector=v(je)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ja;if(!this._injector.get(lw).done){let h=!o&&wy(r),p=!1;throw new I(405,p)}let a;o?a=r:a=this._injector.get(yc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=Ix(a)?void 0:this._injector.get(Sn),l=i||a.selector,u=a.create(St.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(Pf,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),La(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;La(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(kc,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>La(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function La(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ny(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Tx=(()=>{let e=class e{constructor(){this.zone=v(z),this.applicationRef=v(pr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sx(t){return[{provide:z,useFactory:t},{provide:ii,multi:!0,useFactory:()=>{let e=v(Tx,{optional:!0});return()=>e.initialize()}},{provide:ii,multi:!0,useFactory:()=>{let e=v(xx);return()=>{e.initialize()}}},{provide:L_,useFactory:Mx}]}function Mx(){let t=v(z),e=v(Ut);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Ax(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var xx=(()=>{let e=class e{constructor(){this.subscription=new ue,this.initialized=!1,this.zone=v(z),this.pendingTasks=v(hr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{z.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{z.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nx(){return typeof $localize<"u"&&$localize.locale||rc}var Ff=new w("",{providedIn:"root",factory:()=>v(Ff,H.Optional|H.SkipSelf)||Nx()});var dw=new w(""),fw=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=eA(i?.ngZone,Ax({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=hx(r.moduleType,this.injector,Sx(()=>o)),a=s.injector.get(Ut,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{La(this._modules,s),c.unsubscribe()})}),bx(a,o,()=>{let c=s.injector.get(lw);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Ff,rc);return ex(l||rc),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=uw({},i);return Dx(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(pr);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new I(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(dw,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(g(St))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ao=null,hw=new w("");function Rx(t){if(ao&&!ao.get(hw,!1))throw new I(400,!1);Ex(),ao=t;let e=t.get(fw);return kx(t),e}function Lf(t,e,n=[]){let r=`Platform: ${e}`,i=new w(r);return(o=[])=>{let s=pw();if(!s||s.injector.get(hw,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):Rx(Ox(a,r))}return Px(i)}}function Ox(t=[],e){return St.create({name:e,providers:[{provide:pc,useValue:"platform"},{provide:dw,useValue:new Set([()=>ao=null])},...t]})}function Px(t){let e=pw();if(!e)throw new I(401,!1);return e}function pw(){return ao?.get(fw)??null}function kx(t){t.get(pf,null)?.forEach(n=>n())}function Vf(){return!1}var gw=Lf(null,"core",[]),mw=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(g(pr))},e.\u0275mod=me({type:e}),e.\u0275inj=ge({});let t=e;return t})();function fi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function vw(t){let e=bn(t);if(!e)return null;let n=new si(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Cw=null;function Ht(){return Cw}function Dw(t){Cw??=t}var Fc=class{},Re=new w(""),Gf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(Fx),providedIn:"platform"});let t=e;return t})(),Ew=new w(""),Fx=(()=>{let e=class e extends Gf{constructor(){super(),this._doc=v(Re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ht().getBaseHref(this._doc)}onPopState(r){let i=Ht().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ht().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Wf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function yw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function dn(t){return t&&t[0]!=="?"?"?"+t:t}var fn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(zf),providedIn:"root"});let t=e;return t})(),Iw=new w(""),zf=(()=>{let e=class e extends fn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??v(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Wf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+dn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(g(Gf),g(Iw,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bw=(()=>{let e=class e extends fn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Wf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+dn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(g(Gf),g(Iw,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),pi=(()=>{let e=class e{constructor(r){this._subject=new pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=jx(yw(_w(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+dn(i))}normalize(r){return e.stripTrailingSlash(Vx(this._basePath,_w(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+dn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=dn,e.joinWithSlash=Wf,e.stripTrailingSlash=yw,e.\u0275fac=function(i){return new(i||e)(g(fn))},e.\u0275prov=E({token:e,factory:()=>Lx(),providedIn:"root"});let t=e;return t})();function Lx(){return new pi(g(fn))}function Vx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function _w(t){return t.replace(/\/index.html$/,"")}function jx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Lc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vc=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new jf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ww("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ww("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(O(bo),O(Rf))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),jf=class{constructor(){this.$implicit=null,this.ngIf=null}};function ww(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Le(e)}'.`)}function Ux(t,e){return new I(2100,!1)}var Uf=class{createSubscription(e,n){return Df(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Df(()=>e.unsubscribe())}},Bf=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Bx=new Bf,$x=new Uf,jc=(()=>{let e=class e{constructor(r){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){return this._obj?r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue:(r&&this._subscribe(r),this._latestValue)}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(Rn(r))return Bx;if(Nf(r))return $x;throw Ux(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this._ref.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(O(di,16))},e.\u0275pipe=vy({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Tw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ge({});let t=e;return t})(),qf="browser",Hx="server";function Gx(t){return t===qf}function xo(t){return t===Hx}var Sw=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>Gx(v(Ne))?new $f(v(Re),window):new Hf});let t=e;return t})(),$f=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Wx(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Wx(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Hf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},hi=class{};var Ro=class{},$c=class{},Gt=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Kf=class{encodeKey(e){return Mw(e)}encodeValue(e){return Mw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Yx(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var Kx=/%(\d[a-f0-9])/gi,Qx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Mw(t){return encodeURIComponent(t).replace(Kx,(e,n)=>Qx[n]??e)}function Bc(t){return`${t}`}var On=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Kf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Yx(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Bc):[Bc(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Bc(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Bc(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Qf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Zx(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Aw(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xw(t){return typeof Blob<"u"&&t instanceof Blob}function Nw(t){return typeof FormData<"u"&&t instanceof FormData}function Xx(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var No=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(Zx(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Gt,this.context??=new Qf,!this.params)this.params=new On,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:Aw(this.body)||xw(this.body)||Nw(this.body)||Xx(this.body)||typeof this.body=="string"?this.body:this.body instanceof On?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Nw(this.body)?null:xw(this.body)?this.body.type||null:Aw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new t(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}},gi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(gi||{}),Oo=class{constructor(e,n=Hc.Ok,r="OK"){this.headers=e.headers||new Gt,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Zf=class t extends Oo{constructor(e={}){super(e),this.type=gi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},mi=class t extends Oo{constructor(e={}){super(e),this.type=gi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},vi=class extends Oo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Hc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Hc||{});function Yf(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Po=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof No)s=r;else{let l;o.headers instanceof Gt?l=o.headers:l=new Gt(o.headers);let u;o.params&&(o.params instanceof On?u=o.params:u=new On({fromObject:o.params})),s=new No(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=b(s).pipe(nn(l=>this.handler.handle(l)));if(r instanceof No||o.observe==="events")return a;let c=a.pipe(Me(l=>l instanceof mi));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(T(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(T(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new On().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,Yf(o,i))}post(r,i,o={}){return this.request("POST",r,Yf(o,i))}put(r,i,o={}){return this.request("PUT",r,Yf(o,i))}};e.\u0275fac=function(i){return new(i||e)(g(Ro))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function kw(t,e){return e(t)}function Jx(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function eN(t,e,n){return(r,i)=>$t(n,()=>e(r,o=>t(o,i)))}var Xf=new w(""),Jf=new w(""),tN=new w(""),nN=new w("");function rN(){let t=null;return(e,n)=>{t===null&&(t=(v(Xf,{optional:!0})??[]).reduceRight(Jx,kw));let r=v(hr),i=r.add();return t(e,n).pipe(Dn(()=>r.remove(i)))}}var Rw=(()=>{let e=class e extends Ro{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=v(hr);let o=v(nN,{optional:!0});this.backend=o??r}handle(r){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Jf),...this.injector.get(tN,[])]));this.chain=o.reduceRight((s,a)=>eN(s,a,this.injector),kw)}let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(Dn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(g($c),g(je))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var iN=/^\)\]\}',?\n/;function oN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Ow=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new I(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?K(i.\u0275loadImpl()):b(null)).pipe(ne(()=>new L(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,C)=>a.setRequestHeader(_,C.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let _=a.statusText||"OK",C=new Gt(a.getAllResponseHeaders()),F=oN(a)||r.url;return l=new Zf({headers:C,status:a.status,statusText:_,url:F}),l},d=()=>{let{headers:_,status:C,statusText:F,url:B}=u(),$=null;C!==Hc.NoContent&&($=typeof a.response>"u"?a.responseText:a.response),C===0&&(C=$?Hc.Ok:0);let le=C>=200&&C<300;if(r.responseType==="json"&&typeof $=="string"){let _t=$;$=$.replace(iN,"");try{$=$!==""?JSON.parse($):null}catch(Zi){$=_t,le&&(le=!1,$={error:Zi,text:$})}}le?(s.next(new mi({body:$,headers:_,status:C,statusText:F,url:B||void 0})),s.complete()):s.error(new vi({error:$,headers:_,status:C,statusText:F,url:B||void 0}))},f=_=>{let{url:C}=u(),F=new vi({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:C||void 0});s.error(F)},h=!1,p=_=>{h||(s.next(u()),h=!0);let C={type:gi.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(C.total=_.total),r.responseType==="text"&&a.responseText&&(C.partialText=a.responseText),s.next(C)},y=_=>{let C={type:gi.UploadProgress,loaded:_.loaded};_.lengthComputable&&(C.total=_.total),s.next(C)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(c),s.next({type:gi.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(g(hi))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Fw=new w(""),sN="XSRF-TOKEN",aN=new w("",{providedIn:"root",factory:()=>sN}),cN="X-XSRF-TOKEN",lN=new w("",{providedIn:"root",factory:()=>cN}),Gc=class{},uN=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(g(Re),g(Ne),g(aN))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function dN(t,e){let n=t.url.toLowerCase();if(!v(Fw)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=v(Gc).getToken(),i=v(lN);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var Lw=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Lw||{});function fN(t,e){return{\u0275kind:t,\u0275providers:e}}function hN(...t){let e=[Po,Ow,Rw,{provide:Ro,useExisting:Rw},{provide:$c,useExisting:Ow},{provide:Jf,useValue:dN,multi:!0},{provide:Fw,useValue:!0},{provide:Gc,useClass:uN}];for(let n of t)e.push(...n.\u0275providers);return hc(e)}var Pw=new w("");function pN(){return fN(Lw.LegacyInterceptors,[{provide:Pw,useFactory:rN},{provide:Jf,useExisting:Pw,multi:!0}])}var Vw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ge({providers:[hN(pN())]});let t=e;return t})();var nh=class extends Fc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},rh=class t extends nh{static makeCurrent(){Dw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mN();return n==null?null:vN(n)}resetBaseElement(){ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lc(document.cookie,e)}},ko=null;function mN(){return ko=ko||document.querySelector("base"),ko?ko.getAttribute("href"):null}function vN(t){return new URL(t,document.baseURI).pathname}var ih=class{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new I(5103,!1);return o},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ve.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Ht().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},yN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),oh=new w(""),$w=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(g(oh),g(z))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Wc=class{constructor(e){this._doc=e}},eh="ng-app-id",Hw=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xo(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${eh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(eh),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(eh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(g(Re),g(gc),g(gf,8),g(Ne))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),th={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ah=/%COMP%/g,Gw="%COMP%",_N=`_nghost-${Gw}`,wN=`_ngcontent-${Gw}`,CN=!0,DN=new w("",{providedIn:"root",factory:()=>CN});function EN(t){return wN.replace(ah,t)}function IN(t){return _N.replace(ah,t)}function Ww(t,e){return e.map(n=>n.replace(ah,t))}var jw=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=xo(c),this.defaultRenderer=new Fo(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ft.ShadowDom&&(i=Z(D({},i),{encapsulation:Ft.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof zc?o.applyToHost(r):o instanceof Lo&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ft.Emulated:s=new zc(l,u,i,this.appId,d,a,c,f);break;case Ft.ShadowDom:return new sh(l,u,r,i,a,c,this.nonce,f);default:s=new Lo(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(g($w),g(Hw),g(gc),g(DN),g(Re),g(Ne),g(z),g(gf))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Fo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(th[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Uw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Uw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=th[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=th[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(sn.DashCase|sn.Important)?e.style.setProperty(n,r,i&sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ht().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Uw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var sh=class extends Fo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Ww(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Lo=class extends Fo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Ww(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zc=class extends Lo{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=EN(l),this.hostAttr=IN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},bN=(()=>{let e=class e extends Wc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(g(Re))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Bw=["alt","control","meta","shift"],TN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},MN=(()=>{let e=class e extends Wc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ht().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Bw.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=TN[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Bw.forEach(a=>{if(a!==o){let c=SN[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(g(Re))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function AN(){rh.makeCurrent()}function xN(){return new Ut}function NN(){return y_(document),document}var RN=[{provide:Ne,useValue:qf},{provide:pf,useValue:AN,multi:!0},{provide:Re,useFactory:NN,deps:[]}],zw=Lf(gw,"browser",RN),ON=new w(""),PN=[{provide:Ao,useClass:ih,deps:[]},{provide:Pf,useClass:Rc,deps:[z,Oc,Ao]},{provide:Rc,useClass:Rc,deps:[z,Oc,Ao]}],kN=[{provide:pc,useValue:"root"},{provide:Ut,useFactory:xN,deps:[]},{provide:oh,useClass:bN,multi:!0,deps:[Re,z,Ne]},{provide:oh,useClass:MN,multi:!0,deps:[Re]},jw,Hw,$w,{provide:vo,useExisting:jw},{provide:hi,useClass:yN,deps:[]},[]],qw=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:gc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(g(ON,12))},e.\u0275mod=me({type:e}),e.\u0275inj=ge({providers:[...kN,...PN],imports:[Tw,mw]});let t=e;return t})();var Yw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(g(Re))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var P="primary",Xo=Symbol("RouteTitle"),fh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Di(t){return new fh(t)}function FN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wt(t[n],e[n]))return!1;return!0}function Wt(t,e){let n=t?hh(t):void 0,r=e?hh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!iC(t[i],e[i]))return!1;return!0}function hh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function iC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function oC(t){return t.length>0?t[t.length-1]:null}function Ln(t){return Wu(t)?t:Rn(t)?K(Promise.resolve(t)):b(t)}var VN={exact:aC,subset:cC},sC={exact:jN,subset:UN,ignored:()=>!0};function Qw(t,e,n){return VN[n.paths](t.root,e.root,n.matrixParams)&&sC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function jN(t,e){return Wt(t,e)}function aC(t,e,n){if(!mr(t.segments,e.segments)||!Kc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!aC(t.children[r],e.children[r],n))return!1;return!0}function UN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iC(t[n],e[n]))}function cC(t,e,n){return lC(t,e,e.segments,n)}function lC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mr(i,n)||e.hasChildren()||!Kc(i,n,r))}else if(t.segments.length===n.length){if(!mr(t.segments,n)||!Kc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!cC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mr(t.segments,i)||!Kc(t.segments,i,r)||!t.children[P]?!1:lC(t.children[P],e,o,r)}}function Kc(t,e,n){return e.every((r,i)=>sC[n](t[i].parameters,r.parameters))}var Pn=class{constructor(e=new Q([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){return HN.serialize(this)}},Q=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qc(this)}},gr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Di(this.parameters),this._parameterMap}toString(){return dC(this)}};function BN(t,e){return mr(t,e)&&t.every((n,r)=>Wt(n.parameters,e[r].parameters))}function mr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function $N(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===P&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==P&&(n=n.concat(e(i,r)))}),n}var Jo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new Go,providedIn:"root"});let t=e;return t})(),Go=class{parse(e){let n=new gh(e);return new Pn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Vo(e.root,!0)}`,r=zN(e.queryParams),i=typeof e.fragment=="string"?`#${GN(e.fragment)}`:"";return`${n}${r}${i}`}},HN=new Go;function Qc(t){return t.segments.map(e=>dC(e)).join("/")}function Vo(t,e){if(!t.hasChildren())return Qc(t);if(e){let n=t.children[P]?Vo(t.children[P],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==P&&r.push(`${i}:${Vo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=$N(t,(r,i)=>i===P?[Vo(t.children[P],!1)]:[`${i}:${Vo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${Qc(t)}/${n[0]}`:`${Qc(t)}/(${n.join("//")})`}}function uC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qc(t){return uC(t).replace(/%3B/gi,";")}function GN(t){return encodeURI(t)}function ph(t){return uC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zc(t){return decodeURIComponent(t)}function Zw(t){return Zc(t.replace(/\+/g,"%20"))}function dC(t){return`${ph(t.path)}${WN(t.parameters)}`}function WN(t){return Object.entries(t).map(([e,n])=>`;${ph(e)}=${ph(n)}`).join("")}function zN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qc(n)}=${qc(i)}`).join("&"):`${qc(n)}=${qc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var qN=/^[^\/()?;#]+/;function ch(t){let e=t.match(qN);return e?e[0]:""}var YN=/^[^\/()?;=#]+/;function KN(t){let e=t.match(YN);return e?e[0]:""}var QN=/^[^=?&#]+/;function ZN(t){let e=t.match(QN);return e?e[0]:""}var XN=/^[^&#]+/;function JN(t){let e=t.match(XN);return e?e[0]:""}var gh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[P]=new Q(e,n)),r}parseSegment(){let e=ch(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new gr(Zc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ch(this.remaining);i&&(r=i,this.capture(r))}e[Zc(n)]=Zc(r)}parseQueryParam(e){let n=ZN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=JN(this.remaining);s&&(r=s,this.capture(r))}let i=Zw(n),o=Zw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ch(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=P);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[P]:new Q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function fC(t){return t.segments.length>0?new Q([],{[P]:t}):t}function hC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=hC(i);if(r===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Q(t.segments,e);return eR(n)}function eR(t){if(t.numberOfChildren===1&&t.children[P]){let e=t.children[P];return new Q(t.segments.concat(e.segments),e.children)}return t}function Ei(t){return t instanceof Pn}function tR(t,e,n=null,r=null){let i=pC(t);return gC(i,e,n,r)}function pC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Q(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=fC(r);return e??i}function gC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return lh(i,i,i,n,r);let o=nR(e);if(o.toRoot())return lh(i,i,new Q([],{}),n,r);let s=rR(o,i,t),a=s.processChildren?Bo(s.segmentGroup,s.index,o.commands):vC(s.segmentGroup,s.index,o.commands);return lh(i,s.segmentGroup,a,n,r)}function Xc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Wo(t){return typeof t=="object"&&t!=null&&t.outlets}function lh(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=mC(t,e,n);let a=fC(hC(s));return new Pn(a,o,i)}function mC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=mC(o,e,n)}),new Q(t.segments,r)}var Jc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xc(r[0]))throw new I(4003,!1);let i=r.find(Wo);if(i&&i!==oC(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Jc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Jc(n,e,r)}var wi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function rR(t,e,n){if(t.isAbsolute)return new wi(e,!0,0);if(!n)return new wi(e,!1,NaN);if(n.parent===null)return new wi(n,!0,0);let r=Xc(t.commands[0])?0:1,i=n.segments.length-1+r;return iR(n,i,t.numberOfDoubleDots)}function iR(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new wi(r,!1,i-o)}function oR(t){return Wo(t[0])?t[0].outlets:{[P]:t}}function vC(t,e,n){if(t??=new Q([],{}),t.segments.length===0&&t.hasChildren())return Bo(t,e,n);let r=sR(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Q(t.segments.slice(0,r.pathIndex),{});return o.children[P]=new Q(t.segments.slice(r.pathIndex),t.children),Bo(o,0,i)}else return r.match&&i.length===0?new Q(t.segments,{}):r.match&&!t.hasChildren()?mh(t,e,n):r.match?Bo(t,0,i):mh(t,e,n)}function Bo(t,e,n){if(n.length===0)return new Q(t.segments,{});{let r=oR(n),i={};if(Object.keys(r).some(o=>o!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let o=Bo(t.children[P],e,n);return new Q(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Q(t.segments,i)}}function sR(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Wo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Jw(c,l,s))return o;r+=2}else{if(!Jw(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Wo(o)){let c=aR(o.outlets);return new Q(r,c)}if(i===0&&Xc(n[0])){let c=t.segments[e];r.push(new gr(c.path,Xw(n[0]))),i++;continue}let s=Wo(o)?o.outlets[P]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xc(a)?(r.push(new gr(s,Xw(a))),i+=2):(r.push(new gr(s,{})),i++)}return new Q(r,{})}function aR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mh(new Q([],{}),0,r))}),e}function Xw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Jw(t,e,n){return t==n.path&&Wt(e,n.parameters)}var $o="imperative",Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{}),gt=class{constructor(e,n){this.id=e,this.url=n}},Ii=class extends gt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zt=class extends gt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},pt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(pt||{}),el=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(el||{}),kn=class extends gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fn=class extends gt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},zo=class extends gt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tl=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vh=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yh=class extends gt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_h=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class extends gt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ch=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dh=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Eh=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ih=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bh=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Th=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ee.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},qo=class{},Yo=class{constructor(e){this.url=e}};var Sh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new es,this.attachRef=null}},es=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Sh,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Mh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Mh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ah(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ah(e,this._root).map(n=>n.value)}};function Mh(t,e){if(t===e.value)return e;for(let n of e.children){let r=Mh(t,n);if(r)return r}return null}function Ah(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ah(t,n);if(r.length)return r.unshift(e),r}return[]}var tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _i(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var il=class extends rl{constructor(e,n){super(e),this.snapshot=n,jh(this,e)}toString(){return this.snapshot.toString()}};function yC(t){let e=cR(t),n=new ye([new gr("",{})]),r=new ye({}),i=new ye({}),o=new ye({}),s=new ye(""),a=new vr(n,r,o,s,i,P,t,e.root);return a.snapshot=e.root,new il(new tt(a,[]),e)}function cR(t){let e={},n={},r={},i="",o=new Ko([],e,r,i,n,P,t,null,{});return new ol("",new tt(o,[]))}var vr=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(T(l=>l[Xo]))??b(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(e=>Di(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(e=>Di(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&wC(i)&&(r.resolve[Xo]=i.title),r}var Ko=class{get title(){return this.data?.[Xo]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Di(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ol=class extends rl{constructor(e,n){super(n),this.url=e,jh(this,n)}toString(){return _C(this._root)}};function jh(t,e){e.value._routerState=t,e.children.forEach(n=>jh(t,n))}function _C(t){let e=t.children.length>0?` { ${t.children.map(_C).join(", ")} } `:"";return`${t.value}${e}`}function uh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wt(e.params,n.params)||t.paramsSubject.next(n.params),LN(e.url,n.url)||t.urlSubject.next(n.url),Wt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xh(t,e){let n=Wt(t.params,e.params)&&BN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||xh(t.parent,e.parent))}function wC(t){return typeof t.title=="string"||t.title===null}var Uh=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=P,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=v(es),this.location=v(bo),this.changeDetector=v(di),this.environmentInjector=v(je),this.inputBinder=v(ul,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Nh(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]});let t=e;return t})(),Nh=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vr?this.route:e===es?this.childContexts:this.parent.get(e,n)}},ul=new w(""),eC=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=io([i.queryParams,i.params,i.data]).pipe(ne(([s,a,c],l)=>(c=D(D(D({},s),a),c),l===0?b(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=vw(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function lR(t,e,n){let r=Qo(t,e._root,n?n._root:void 0);return new il(r,e)}function Qo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=uR(t,e,n);return new tt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Qo(t,a)),s}}let r=dR(e.value),i=e.children.map(o=>Qo(t,o));return new tt(r,i)}}function uR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Qo(t,r,i);return Qo(t,r)})}function dR(t){return new vr(new ye(t.url),new ye(t.params),new ye(t.queryParams),new ye(t.fragment),new ye(t.data),t.outlet,t.component,t)}var CC="ngNavigationCancelingError";function DC(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=EC(!1,pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function EC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[CC]=!0,n.cancellationCode=e,n}function fR(t){return IC(t)&&Ei(t.url)}function IC(t){return!!t&&t[CC]}var hR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["ng-component"]],standalone:!0,features:[aw],decls:1,vars:0,template:function(i,o){i&1&&_e(0,"router-outlet")},dependencies:[Uh],encapsulation:2});let t=e;return t})();function pR(t,e){return t.providers&&!t._injector&&(t._injector=Sc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Bh(t){let e=t.children&&t.children.map(Bh),n=e?Z(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=hR),n}function qt(t){return t.outlet||P}function gR(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function ts(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mR=(t,e,n,r)=>T(i=>(new Rh(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Rh=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),uh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_i(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_i(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_i(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_i(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Th(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ih(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(uh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uh(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=ts(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},sl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ci=class{constructor(e,n){this.component=e,this.route=n}};function vR(t,e,n){let r=t._root,i=e?e._root:null;return jo(r,i,n,[r.value])}function yR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ti(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!sy(t)?t:e.get(t):r}function jo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_i(e);return t.children.forEach(s=>{_R(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ho(a,n.getContext(s),i)),i}function _R(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=wR(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new sl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?jo(t,e,a?a.children:null,r,i):jo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ci(a.outlet.component,s))}else s&&Ho(e,a,i),i.canActivateChecks.push(new sl(r)),o.component?jo(t,null,a?a.children:null,r,i):jo(t,null,n,r,i);return i}function wR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xh(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!xh(t,e)}}function Ho(t,e,n){let r=_i(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ho(s,e.children.getContext(o),n):Ho(s,null,n):Ho(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ci(e.outlet.component,i)):n.canDeactivateChecks.push(new Ci(null,i)):n.canDeactivateChecks.push(new Ci(null,i))}function ns(t){return typeof t=="function"}function CR(t){return typeof t=="boolean"}function DR(t){return t&&ns(t.canLoad)}function ER(t){return t&&ns(t.canActivate)}function IR(t){return t&&ns(t.canActivateChild)}function bR(t){return t&&ns(t.canDeactivate)}function TR(t){return t&&ns(t.canMatch)}function bC(t){return t instanceof tn||t?.name==="EmptyError"}var Yc=Symbol("INITIAL_VALUE");function bi(){return ne(t=>io(t.map(e=>e.pipe(rn(1),Xu(Yc)))).pipe(T(e=>{for(let n of e)if(n!==!0){if(n===Yc)return Yc;if(n===!1||n instanceof Pn)return n}return!0}),Me(e=>e!==Yc),rn(1)))}function SR(t,e){return he(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?b(Z(D({},n),{guardsResult:!0})):MR(s,r,i,t).pipe(he(a=>a&&CR(a)?AR(r,o,t,e):b(a)),T(a=>Z(D({},n),{guardsResult:a})))})}function MR(t,e,n,r){return K(t).pipe(he(i=>PR(i.component,i.route,n,e,r)),lt(i=>i!==!0,!0))}function AR(t,e,n,r){return K(e).pipe(nn(i=>Wr(NR(i.route.parent,r),xR(i.route,r),OR(t,i.path,n),RR(t,i.route,n))),lt(i=>i!==!0,!0))}function xR(t,e){return t!==null&&e&&e(new bh(t)),b(!0)}function NR(t,e){return t!==null&&e&&e(new Eh(t)),b(!0)}function RR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return b(!0);let i=r.map(o=>Ia(()=>{let s=ts(e)??n,a=Ti(o,s),c=ER(a)?a.canActivate(e,t):$t(s,()=>a(e,t));return Ln(c).pipe(lt())}));return b(i).pipe(bi())}function OR(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yR(s)).filter(s=>s!==null).map(s=>Ia(()=>{let a=s.guards.map(c=>{let l=ts(s.node)??n,u=Ti(c,l),d=IR(u)?u.canActivateChild(r,t):$t(l,()=>u(r,t));return Ln(d).pipe(lt())});return b(a).pipe(bi())}));return b(o).pipe(bi())}function PR(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return b(!0);let s=o.map(a=>{let c=ts(e)??i,l=Ti(a,c),u=bR(l)?l.canDeactivate(t,e,n,r):$t(c,()=>l(t,e,n,r));return Ln(u).pipe(lt())});return b(s).pipe(bi())}function kR(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return b(!0);let o=i.map(s=>{let a=Ti(s,t),c=DR(a)?a.canLoad(e,n):$t(t,()=>a(e,n));return Ln(c)});return b(o).pipe(bi(),TC(r))}function TC(t){return ju(se(e=>{if(Ei(e))throw DC(t,e)}),T(e=>e===!0))}function FR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return b(!0);let o=i.map(s=>{let a=Ti(s,t),c=TR(a)?a.canMatch(e,n):$t(t,()=>a(e,n));return Ln(c)});return b(o).pipe(bi(),TC(r))}var Zo=class{constructor(e){this.segmentGroup=e||null}},al=class extends Error{constructor(e){super(),this.urlTree=e}};function yi(t){return Gr(new Zo(t))}function LR(t){return Gr(new I(4e3,!1))}function VR(t){return Gr(EC(!1,pt.GuardRejected))}var Oh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return b(r);if(i.numberOfChildren>1||!i.children[P])return LR(e.redirectTo);i=i.children[P]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new al(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Pn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Q(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jR(t,e,n,r,i){let o=$h(t,e,n);return o.matched?(r=pR(e,r),FR(r,e,n,i).pipe(T(s=>s===!0?o:D({},Ph)))):b(o)}function $h(t,e,n){if(e.path==="**")return UR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Ph):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FN)(n,t,e);if(!i)return D({},Ph);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function UR(t){return{matched:!0,parameters:t.length>0?oC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tC(t,e,n,r){return n.length>0&&HR(t,n,r)?{segmentGroup:new Q(e,$R(r,new Q(n,t.children))),slicedSegments:[]}:n.length===0&&GR(t,n,r)?{segmentGroup:new Q(t.segments,BR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Q(t.segments,t.children),slicedSegments:n}}function BR(t,e,n,r){let i={};for(let o of n)if(dl(t,e,o)&&!r[qt(o)]){let s=new Q([],{});i[qt(o)]=s}return D(D({},r),i)}function $R(t,e){let n={};n[P]=e;for(let r of t)if(r.path===""&&qt(r)!==P){let i=new Q([],{});n[qt(r)]=i}return n}function HR(t,e,n){return n.some(r=>dl(t,e,r)&&qt(r)!==P)}function GR(t,e,n){return n.some(r=>dl(t,e,r))}function dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function WR(t,e,n,r){return qt(t)!==r&&(r===P||!dl(e,n,t))?!1:$h(e,t,n).matched}function zR(t,e,n){return e.length===0&&!t.children[n]}var kh=class{};function qR(t,e,n,r,i,o,s="emptyOnly"){return new Fh(t,e,n,r,i,s,o).recognize()}var YR=31,Fh=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Oh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=tC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(T(n=>{let r=new Ko([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,{},P,this.rootComponentType,null,{}),i=new tt(r,n),o=new ol("",i),s=tR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,P).pipe(wn(r=>{if(r instanceof al)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Vh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(T(o=>o instanceof tt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return K(i).pipe(nn(o=>{let s=r.children[o],a=gR(n,o);return this.processSegmentGroup(e,a,s,o)}),Yr((o,s)=>(o.push(...s),o)),Cn(null),Ku(),he(o=>{if(o===null)return yi(r);let s=SC(o);return KR(s),b(s)}))}processSegment(e,n,r,i,o,s){return K(n).pipe(nn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(wn(c=>{if(c instanceof Zo)return b(null);throw c}))),lt(a=>!!a),wn(a=>{if(bC(a))return zR(r,i,o)?b(new kh):yi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return WR(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):yi(i):yi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=$h(n,i,o);if(!a)return yi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YR&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(he(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=jR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(ne(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ne(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new Ko(u,f,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,ZR(r),qt(r),r.component??r._loadedComponent??null,r,XR(r)),{segmentGroup:p,slicedSegments:y}=tC(n,u,d,c);if(y.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(T(C=>C===null?null:new tt(h,C)));if(c.length===0&&y.length===0)return b(new tt(h,[]));let _=qt(r)===o;return this.processSegment(l,c,p,y,_?P:o,!0).pipe(T(C=>new tt(h,C instanceof tt?[C]:[])))}))):yi(n)))}getChildConfig(e,n,r){return n.children?b({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?b({routes:n._loadedRoutes,injector:n._loadedInjector}):kR(e,n,r,this.urlSerializer).pipe(he(i=>i?this.configLoader.loadChildren(e,n).pipe(se(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):VR(n))):b({routes:[],injector:e})}};function KR(t){t.sort((e,n)=>e.value.outlet===P?-1:n.value.outlet===P?1:e.value.outlet.localeCompare(n.value.outlet))}function QR(t){let e=t.value.routeConfig;return e&&e.path===""}function SC(t){let e=[],n=new Set;for(let r of t){if(!QR(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=SC(r.children);e.push(new tt(r.value,i))}return e.filter(r=>!n.has(r))}function ZR(t){return t.data||{}}function XR(t){return t.resolve||{}}function JR(t,e,n,r,i,o){return he(s=>qR(t,e,n,r,s.extractedUrl,i,o).pipe(T(({state:a,tree:c})=>Z(D({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function eO(t,e){return he(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return b(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of MC(c))s.add(l);let a=0;return K(s).pipe(nn(c=>o.has(c)?tO(c,r,t,e):(c.data=Vh(c,c.parent,t).resolve,b(void 0))),se(()=>a++),qr(1),he(c=>a===s.size?b(n):qe))})}function MC(t){let e=t.children.map(n=>MC(n)).flat();return[t,...e]}function tO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!wC(i)&&(o[Xo]=i.title),nO(o,t,e,r).pipe(T(s=>(t._resolvedData=s,t.data=Vh(t,t.parent,n).resolve,null)))}function nO(t,e,n,r){let i=hh(t);if(i.length===0)return b({});let o={};return K(i).pipe(he(s=>rO(t[s],e,n,r).pipe(lt(),se(a=>{o[s]=a}))),qr(1),qu(o),wn(s=>bC(s)?qe:Gr(s)))}function rO(t,e,n,r){let i=ts(e)??r,o=Ti(t,i),s=o.resolve?o.resolve(e,n):$t(i,()=>o(e,n));return Ln(s)}function dh(t){return ne(e=>{let n=t(e);return n?K(n).pipe(T(()=>e)):b(e)})}var AC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===P);return i}getResolvedTitleForRoute(r){return r.data[Xo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(iO),providedIn:"root"});let t=e;return t})(),iO=(()=>{let e=class e extends AC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(g(Yw))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rs=new w("",{providedIn:"root",factory:()=>({})}),cl=new w(""),Hh=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(Nc)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return b(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ln(r.loadComponent()).pipe(T(xC),se(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Dn(()=>{this.componentLoaders.delete(r)})),o=new jr(i,()=>new fe).pipe(Vr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return b({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=oO(i,this.compiler,r,this.onLoadEndListener).pipe(Dn(()=>{this.childrenLoaders.delete(i)})),a=new jr(s,()=>new fe).pipe(Vr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oO(t,e,n,r){return Ln(t.loadChildren()).pipe(T(xC),he(i=>i instanceof _o||Array.isArray(i)?b(i):K(e.compileModuleAsync(i))),T(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(cl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Bh),injector:o}}))}function sO(t){return t&&typeof t=="object"&&"default"in t}function xC(t){return sO(t)?t.default:t}var Gh=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(aO),providedIn:"root"});let t=e;return t})(),aO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NC=new w(""),RC=new w("");function cO(t,e,n){let r=t.get(RC),i=t.get(Re);return t.get(z).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),lO(t))),{onViewTransitionCreated:c}=r;return c&&$t(t,()=>c({transition:a,from:e,to:n})),s})}function lO(t){return new Promise(e=>{Sf(e,{injector:t})})}var Wh=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.transitionAbortSubject=new fe,this.configLoader=v(Hh),this.environmentInjector=v(je),this.urlSerializer=v(Jo),this.rootContexts=v(es),this.location=v(pi),this.inputBindingEnabled=v(ul,{optional:!0})!==null,this.titleStrategy=v(AC),this.options=v(rs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(Gh),this.createViewTransition=v(NC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>b(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Ch(o)),i=o=>this.events.next(new Dh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Z(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$o,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Me(s=>s.id!==0),T(s=>Z(D({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ne(s=>{this.currentTransition=s;let a=!1,c=!1;return b(s).pipe(se(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Z(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ne(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.rawUrl),f,el.IgnoredSameUrlNavigation)),l.resolve(null),qe}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return b(l).pipe(ne(f=>{let h=this.transitions?.getValue();return this.events.next(new Ii(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?qe:Promise.resolve(f)}),JR(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),se(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Z(D({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new tl(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:y,extras:_}=l,C=new Ii(f,this.urlSerializer.serialize(h),p,y);this.events.next(C);let F=yC(this.rootComponentType).snapshot;return this.currentTransition=s=Z(D({},l),{targetSnapshot:F,urlAfterRedirects:h,extras:Z(D({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,b(s)}else{let f="";return this.events.next(new Fn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,el.IgnoredByUrlHandlingStrategy)),l.resolve(null),qe}}),se(l=>{let u=new vh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),T(l=>(this.currentTransition=s=Z(D({},l),{guards:vR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),SR(this.environmentInjector,l=>this.events.next(l)),se(l=>{if(s.guardsResult=l.guardsResult,Ei(l.guardsResult))throw DC(this.urlSerializer,l.guardsResult);let u=new yh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Me(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",pt.GuardRejected),!1)),dh(l=>{if(l.guards.canActivateChecks.length)return b(l).pipe(se(u=>{let d=new _h(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ne(u=>{let d=!1;return b(u).pipe(eO(this.paramsInheritanceStrategy,this.environmentInjector),se({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",pt.NoDataFromResolver)}}))}),se(u=>{let d=new wh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),dh(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(se(h=>{d.component=h}),T(()=>{})));for(let h of d.children)f.push(...u(h));return f};return io(u(l.targetSnapshot.root)).pipe(Cn(null),rn(1))}),dh(()=>this.afterPreactivation()),ne(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?K(d).pipe(T(()=>s)):b(s)}),T(l=>{let u=lR(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Z(D({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),se(()=>{this.events.next(new qo)}),mR(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),rn(1),se({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ju(this.transitionAbortSubject.pipe(se(l=>{throw l}))),Dn(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",pt.SupersededByNewNavigation),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),wn(l=>{if(c=!0,IC(l))this.events.next(new kn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),fR(l)?this.events.next(new Yo(l.url)):s.resolve(!1);else{this.events.next(new zo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return qe}))}))}cancelNavigationTransition(r,i,o){let s=new kn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uO(t){return t!==$o}var dO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(fO),providedIn:"root"});let t=e;return t})(),Lh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},fO=(()=>{let e=class e extends Lh{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>v(hO),providedIn:"root"});let t=e;return t})(),hO=(()=>{let e=class e extends OC{constructor(){super(...arguments),this.location=v(pi),this.urlSerializer=v(Jo),this.options=v(rs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(Gh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ii)this.stateMemento=this.createStateMemento();else if(r instanceof Fn)this.rawUrlTree=i.initialUrl;else if(r instanceof tl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof qo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof kn&&(r.code===pt.GuardRejected||r.code===pt.NoDataFromResolver)?this.restoreHistory(i):r instanceof zo?this.restoreHistory(i,!0):r instanceof zt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Uo||{});function PC(t,e){t.events.pipe(Me(n=>n instanceof zt||n instanceof kn||n instanceof zo||n instanceof Fn),T(n=>n instanceof zt||n instanceof Fn?Uo.COMPLETE:(n instanceof kn?n.code===pt.Redirect||n.code===pt.SupersededByNewNavigation:!1)?Uo.REDIRECTING:Uo.FAILED),Me(n=>n!==Uo.REDIRECTING),rn(1)).subscribe(()=>{e()})}function pO(t){throw t}var gO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(xc),this.stateManager=v(OC),this.options=v(rs,{optional:!0})||{},this.pendingTasks=v(hr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(Wh),this.urlSerializer=v(Jo),this.location=v(pi),this.urlHandlingStrategy=v(Gh),this._events=new fe,this.errorHandler=this.options.errorHandler||pO,this.navigated=!1,this.routeReuseStrategy=v(dO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(cl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(ul,{optional:!0}),this.eventsSubscription=new ue,this.isNgZoneEnabled=v(z)instanceof z&&z.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof kn&&i.code!==pt.Redirect&&i.code!==pt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof zt)this.navigated=!0;else if(i instanceof Yo){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||uO(o.source)};this.scheduleNavigation(a,$o,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}yO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$o,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=D({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Bh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=D(D({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=pC(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return gC(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Ei(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,$o,null,i)}navigate(r,i={skipLocationChange:!1}){return vO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=D({},gO):i===!1?o=D({},mO):o=i,Ei(r))return Qw(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Qw(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return PC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function yO(t){return!(t instanceof qo)&&!(t instanceof Yo)}var kC=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:N_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(O(Yt),O(vr),uf("tabindex"),O(dr),O(xn),O(fn))},e.\u0275dir=Ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Mt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Ic("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ae.HasDecoratorInputTransform,"preserveFragment","preserveFragment",fi],skipLocationChange:[Ae.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",fi],replaceUrl:[Ae.HasDecoratorInputTransform,"replaceUrl","replaceUrl",fi],routerLink:"routerLink"},standalone:!0,features:[xf,Mn]});let t=e;return t})();var ll=class{};var _O=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Me(r=>r instanceof zt),nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Sc(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return K(o).pipe(_n())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=b(null);let s=o.pipe(he(a=>a===null?b(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return K([s,a]).pipe(_n())}else return s})}};e.\u0275fac=function(i){return new(i||e)(g(Yt),g(Nc),g(je),g(ll),g(Hh))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FC=new w(""),wO=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ii?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof zt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Fn&&r.code===el.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof nl&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nl(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){U_()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function CO(t){return t.routerState.root}function is(t,e){return{\u0275kind:t,\u0275providers:e}}function DO(){let t=v(St);return e=>{let n=t.get(pr);if(e!==n.components[0])return;let r=t.get(Yt),i=t.get(LC);t.get(zh)===1&&r.initialNavigation(),t.get(VC,null,H.Optional)?.setUpPreloading(),t.get(FC,null,H.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var LC=new w("",{factory:()=>new fe}),zh=new w("",{providedIn:"root",factory:()=>1});function EO(){return is(2,[{provide:zh,useValue:0},{provide:Pc,multi:!0,deps:[St],useFactory:e=>{let n=e.get(Ew,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Yt),o=e.get(LC);PC(i,()=>{r(!0)}),e.get(Wh).afterPreactivation=()=>(r(!0),o.closed?b(void 0):o),i.initialNavigation()}))}}])}function IO(){return is(3,[{provide:Pc,multi:!0,useFactory:()=>{let e=v(Yt);return()=>{e.setUpLocationChangeListener()}}},{provide:zh,useValue:2}])}var VC=new w("");function bO(t){return is(0,[{provide:VC,useExisting:_O},{provide:ll,useExisting:t}])}function TO(){return is(8,[eC,{provide:ul,useExisting:eC}])}function SO(t){let e=[{provide:NC,useValue:cO},{provide:RC,useValue:D({skipNextTransition:!!t?.skipInitialTransition},t)}];return is(9,e)}var nC=new w("ROUTER_FORROOT_GUARD"),MO=[pi,{provide:Jo,useClass:Go},Yt,es,{provide:vr,useFactory:CO,deps:[Yt]},Hh,[]],qh=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[MO,[],{provide:cl,multi:!0,useValue:r},{provide:nC,useFactory:RO,deps:[[Yt,new Eo,new u_]]},{provide:rs,useValue:i||{}},i?.useHash?xO():NO(),AO(),i?.preloadingStrategy?bO(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?OO(i):[],i?.bindToComponentInputs?TO().\u0275providers:[],i?.enableViewTransitions?SO().\u0275providers:[],PO()]}}static forChild(r){return{ngModule:e,providers:[{provide:cl,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(g(nC,8))},e.\u0275mod=me({type:e}),e.\u0275inj=ge({});let t=e;return t})();function AO(){return{provide:FC,useFactory:()=>{let t=v(Sw),e=v(z),n=v(rs),r=v(Wh),i=v(Jo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new wO(i,r,t,e,n)}}}function xO(){return{provide:fn,useClass:bw}}function NO(){return{provide:fn,useClass:zf}}function RO(t){return"guarded"}function OO(t){return[t.initialNavigation==="disabled"?IO().\u0275providers:[],t.initialNavigation==="enabledBlocking"?EO().\u0275providers:[]]}var rC=new w("");function PO(){return[{provide:rC,useFactory:DO},{provide:kc,multi:!0,useExisting:rC}]}var YC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(O(dr),O(xn))},e.\u0275dir=Ue({type:e});let t=e;return t})(),KC=(()=>{let e=class e extends YC{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,features:[un]});let t=e;return t})(),Zh=new w("");var kO={provide:Zh,useExisting:ur(()=>xi),multi:!0};function FO(){let t=Ht()?Ht().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var LO=new w(""),xi=(()=>{let e=class e extends YC{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!FO())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(O(dr),O(xn),O(LO,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Mt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Mo([kO]),un]});let t=e;return t})();function Vn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function QC(t){return t!=null&&typeof t.length=="number"}var ZC=new w(""),XC=new w(""),VO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yr=class{static min(e){return jO(e)}static max(e){return UO(e)}static required(e){return BO(e)}static requiredTrue(e){return $O(e)}static email(e){return HO(e)}static minLength(e){return GO(e)}static maxLength(e){return WO(e)}static pattern(e){return zO(e)}static nullValidator(e){return JC(e)}static compose(e){return oD(e)}static composeAsync(e){return aD(e)}};function jO(t){return e=>{if(Vn(e.value)||Vn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function UO(t){return e=>{if(Vn(e.value)||Vn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function BO(t){return Vn(t.value)?{required:!0}:null}function $O(t){return t.value===!0?null:{required:!0}}function HO(t){return Vn(t.value)||VO.test(t.value)?null:{email:!0}}function GO(t){return e=>Vn(e.value)||!QC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function WO(t){return e=>QC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function zO(t){if(!t)return JC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Vn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function JC(t){return null}function eD(t){return t!=null}function tD(t){return Rn(t)?K(t):t}function nD(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function rD(t,e){return e.map(n=>n(t))}function qO(t){return!t.validate}function iD(t){return t.map(e=>qO(e)?e:n=>e.validate(n))}function oD(t){if(!t)return null;let e=t.filter(eD);return e.length==0?null:function(n){return nD(rD(n,e))}}function sD(t){return t!=null?oD(iD(t)):null}function aD(t){if(!t)return null;let e=t.filter(eD);return e.length==0?null:function(n){let r=rD(n,e).map(tD);return zu(r).pipe(T(nD))}}function cD(t){return t!=null?aD(iD(t)):null}function UC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lD(t){return t._rawValidators}function uD(t){return t._rawAsyncValidators}function Yh(t){return t?Array.isArray(t)?t:[t]:[]}function pl(t,e){return Array.isArray(t)?t.includes(e):t===e}function BC(t,e){let n=Yh(e);return Yh(t).forEach(i=>{pl(n,i)||n.push(i)}),n}function $C(t,e){return Yh(e).filter(n=>!pl(t,n))}var gl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Mi=class extends gl{get formDirective(){return null}get path(){return null}},as=class extends gl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ml=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},YO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bz=Z(D({},YO),{"[class.ng-submitted]":"isSubmitted"}),wl=(()=>{let e=class e extends ml{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(O(as,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&bc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[un]});let t=e;return t})(),Cl=(()=>{let e=class e extends ml{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(O(Mi,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&bc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[un]});let t=e;return t})();var os="VALID",fl="INVALID",Si="PENDING",ss="DISABLED";function Xh(t){return(Dl(t)?t.validators:t)||null}function KO(t){return Array.isArray(t)?sD(t):t||null}function Jh(t,e){return(Dl(e)?e.asyncValidators:t)||null}function QO(t){return Array.isArray(t)?cD(t):t||null}function Dl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dD(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function fD(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var Ai=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===os}get invalid(){return this.status===fl}get pending(){return this.status==Si}get disabled(){return this.status===ss}get enabled(){return this.status!==ss}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($C(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($C(e,this._rawAsyncValidators))}hasValidator(e){return pl(this._rawValidators,e)}hasAsyncValidator(e){return pl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Si,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ss,this.errors=null,this._forEachChild(r=>{r.disable(Z(D({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=os,this._forEachChild(r=>{r.enable(Z(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(D({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===os||this.status===Si)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ss:os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Si,this._hasOwnPendingAsyncValidator=!0;let n=tD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?ss:this.errors?fl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Si)?Si:this._anyControlsHaveStatus(fl)?fl:os}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QO(this._rawAsyncValidators)}},vl=class extends Ai{constructor(e,n,r){super(Xh(n),Jh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){fD(this,!0,e),Object.keys(e).forEach(r=>{dD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Kh=class extends vl{};var hD=new w("CallSetDisabledState",{providedIn:"root",factory:()=>ep}),ep="always";function ZO(t,e){return[...e.path,t]}function HC(t,e,n=ep){tp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),JO(t,e),tP(t,e),eP(t,e),XO(t,e)}function GC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_l(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yl(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function XO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function tp(t,e){let n=lD(t);e.validator!==null?t.setValidators(UC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=uD(t);e.asyncValidator!==null?t.setAsyncValidators(UC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yl(e._rawValidators,i),yl(e._rawAsyncValidators,i)}function _l(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=lD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=uD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return yl(e._rawValidators,r),yl(e._rawAsyncValidators,r),n}function JO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&pD(t,e)})}function eP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&pD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function pD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function nP(t,e){t==null,tp(t,e)}function rP(t,e){return _l(t,e)}function iP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function oP(t){return Object.getPrototypeOf(t.constructor)===KC}function sP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function aP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===xi?n=o:oP(o)?r=o:i=o}),i||r||n||null}function cP(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hl=class extends Ai{constructor(e=null,n,r){super(Xh(n),Jh(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(zC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lP=t=>t instanceof hl;var El=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),uP={provide:Zh,useExisting:ur(()=>np),multi:!0},np=(()=>{let e=class e extends KC{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ui(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&Mt("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Mo([uP]),un]});let t=e;return t})();var gD=new w("");var dP={provide:Mi,useExisting:ur(()=>cs)},cs=(()=>{let e=class e extends Mi{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new pe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_l(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return HC(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){GC(r.control||null,r,!1),cP(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,sP(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(GC(i||null,r),lP(o)&&(HC(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);nP(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&rP(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tp(this.form,this),this._oldForm&&_l(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(O(ZC,10),O(XC,10),O(hD,8))},e.\u0275dir=Ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Mt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[Ae.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mo([dP]),un,Mn]});let t=e;return t})();var fP={provide:as,useExisting:ur(()=>ls)},ls=(()=>{let e=class e extends as{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new pe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=aP(this,s)}ngOnChanges(r){this._added||this._setUpControl(),iP(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return ZO(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(O(Mi,13),O(ZC,10),O(XC,10),O(Zh,10),O(gD,8))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ae.None,"formControlName","name"],isDisabled:[Ae.None,"disabled","isDisabled"],model:[Ae.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mo([fP]),un,Mn]});let t=e;return t})();var hP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ge({});let t=e;return t})(),Qh=class extends Ai{constructor(e,n,r){super(Xh(n),Jh(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){fD(this,!1,e),e.forEach((r,i)=>{dD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Il=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return qC(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new vl(o,s)}record(r,i=null){let o=this._reduceControls(r);return new Kh(o,i)}control(r,i,o){let s={};return this.useNonNullable?(qC(i)?s=i:(s.validators=i,s.asyncValidators=o),new hl(r,Z(D({},s),{nonNullable:!0}))):new hl(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new Qh(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof hl)return r;if(r instanceof Ai)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:gD,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:hD,useValue:r.callSetDisabledState??ep}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ge({imports:[hP]});let t=e;return t})();var pP="firebase",gP="10.8.0";ze(pP,gP,"app");var wD="@firebase/installations",sp="0.6.5";var CD=1e4,DD=`w:${sp}`,ED="FIS_v2",mP="https://firebaseinstallations.googleapis.com/v1",vP=60*60*1e3,yP="installations",_P="Installations";var wP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},wr=new Or(yP,_P,wP);function ID(t){return t instanceof Qs&&t.code.includes("request-failed")}function bD({projectId:t}){return`${mP}/projects/${t}/installations`}function TD(t){return{token:t.token,requestStatus:2,expiresIn:DP(t.expiresIn),creationTime:Date.now()}}function SD(t,e){return k(this,null,function*(){let r=(yield e.json()).error;return wr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function MD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CP(t,{refreshToken:e}){let n=MD(t);return n.append("Authorization",EP(e)),n}function AD(t){return k(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function DP(t){return Number(t.replace("s","000"))}function EP(t){return`${ED} ${t}`}function IP(r,i){return k(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=bD(t),s=MD(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:n,authVersion:ED,appId:t.appId,sdkVersion:DD},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield AD(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:TD(d.authToken)}}else throw yield SD("Create Installation",u)})}function xD(t){return new Promise(e=>{setTimeout(e,t)})}function bP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var TP=/^[cdef][\w-]{21}$/,op="";function SP(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=MP(t);return TP.test(n)?n:op}catch{return op}}function MP(t){return bP(t).substr(0,22)}function Tl(t){return`${t.appName}!${t.appId}`}var ND=new Map;function RD(t,e){let n=Tl(t);OD(n,e),AP(n,e)}function OD(t,e){let n=ND.get(t);if(n)for(let r of n)r(e)}function AP(t,e){let n=xP();n&&n.postMessage({key:t,fid:e}),NP()}var _r=null;function xP(){return!_r&&"BroadcastChannel"in self&&(_r=new BroadcastChannel("[Firebase] FID Change"),_r.onmessage=t=>{OD(t.data.key,t.data.fid)}),_r}function NP(){ND.size===0&&_r&&(_r.close(),_r=null)}var RP="firebase-installations-database",OP=1,Cr="firebase-installations-store",rp=null;function ap(){return rp||(rp=Gm(RP,OP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cr)}}})),rp}function bl(t,e){return k(this,null,function*(){let n=Tl(t),i=(yield ap()).transaction(Cr,"readwrite"),o=i.objectStore(Cr),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&RD(t,e.fid),e})}function PD(t){return k(this,null,function*(){let e=Tl(t),r=(yield ap()).transaction(Cr,"readwrite");yield r.objectStore(Cr).delete(e),yield r.done})}function Sl(t,e){return k(this,null,function*(){let n=Tl(t),i=(yield ap()).transaction(Cr,"readwrite"),o=i.objectStore(Cr),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&RD(t,a.fid),a})}function cp(t){return k(this,null,function*(){let e,n=yield Sl(t.appConfig,r=>{let i=PP(r),o=kP(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===op?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function PP(t){let e=t||{fid:SP(),registrationStatus:0};return kD(e)}function kP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(wr.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=FP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:LP(t)}:{installationEntry:e}}function FP(t,e){return k(this,null,function*(){try{let n=yield IP(t,e);return bl(t.appConfig,n)}catch(n){throw ID(n)&&n.customData.serverCode===409?yield PD(t.appConfig):yield bl(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function LP(t){return k(this,null,function*(){let e=yield yD(t.appConfig);for(;e.registrationStatus===1;)yield xD(100),e=yield yD(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield cp(t);return r||n}return e})}function yD(t){return Sl(t,e=>{if(!e)throw wr.create("installation-not-found");return kD(e)})}function kD(t){return VP(t)?{fid:t.fid,registrationStatus:0}:t}function VP(t){return t.registrationStatus===1&&t.registrationTime+CD<Date.now()}function jP(r,i){return k(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=UP(t,n),s=CP(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:DD,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield AD(()=>fetch(o,l));if(u.ok){let d=yield u.json();return TD(d)}else throw yield SD("Generate Auth Token",u)})}function UP(t,{fid:e}){return`${bD(t)}/${e}/authTokens:generate`}function lp(t,e=!1){return k(this,null,function*(){let n,r=yield Sl(t.appConfig,o=>{if(!FD(o))throw wr.create("not-registered");let s=o.authToken;if(!e&&HP(s))return o;if(s.requestStatus===1)return n=BP(t,e),o;{if(!navigator.onLine)throw wr.create("app-offline");let a=WP(o);return n=$P(t,a),a}});return n?yield n:r.authToken})}function BP(t,e){return k(this,null,function*(){let n=yield _D(t.appConfig);for(;n.authToken.requestStatus===1;)yield xD(100),n=yield _D(t.appConfig);let r=n.authToken;return r.requestStatus===0?lp(t,e):r})}function _D(t){return Sl(t,e=>{if(!FD(e))throw wr.create("not-registered");let n=e.authToken;return zP(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $P(t,e){return k(this,null,function*(){try{let n=yield jP(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield bl(t.appConfig,r),n}catch(n){if(ID(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield PD(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield bl(t.appConfig,r)}throw n}})}function FD(t){return t!==void 0&&t.registrationStatus===2}function HP(t){return t.requestStatus===2&&!GP(t)}function GP(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vP}function WP(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function zP(t){return t.requestStatus===1&&t.requestTime+CD<Date.now()}function qP(t){return k(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield cp(e);return r?r.catch(console.error):lp(e).catch(console.error),n.fid})}function YP(t,e=!1){return k(this,null,function*(){let n=t;return yield KP(n),(yield lp(n,e)).token})}function KP(t){return k(this,null,function*(){let{registrationPromise:e}=yield cp(t);e&&(yield e)})}function QP(t){if(!t||!t.options)throw ip("App Configuration");if(!t.name)throw ip("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw ip(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ip(t){return wr.create("missing-app-config-values",{valueName:t})}var LD="installations",ZP="installations-internal",XP=t=>{let e=t.getProvider("app").getImmediate(),n=QP(e),r=yn(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JP=t=>{let e=t.getProvider("app").getImmediate(),n=yn(e,LD).getImmediate();return{getId:()=>qP(n),getToken:i=>YP(n,i)}};function ek(){wt(new Pe(LD,XP,"PUBLIC")),wt(new Pe(ZP,JP,"PRIVATE"))}ek();ze(wD,sp);ze(wD,sp,"esm2017");var Ml="analytics",tk="firebase_id",nk="origin",rk=60*1e3,ik="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mp="https://www.googletagmanager.com/gtag/js";var Xe=new vn("@firebase/analytics");var ok={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nt=new Or("analytics","Analytics",ok);function sk(t){if(!t.startsWith(mp)){let e=nt.create("invalid-gtag-resource",{gtagURL:t});return Xe.warn(e.message),""}return t}function GD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function ak(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function ck(t,e){let n=ak("firebase-js-sdk-policy",{createScriptURL:sk}),r=document.createElement("script"),i=`${mp}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function lk(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function uk(t,e,n,r,i,o){return k(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let c=(yield GD(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){Xe.error(a)}t("config",i,o)})}function dk(t,e,n,r,i){return k(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield GD(n);for(let c of s){let l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Xe.error(o)}})}function fk(t,e,n,r){function i(o,...s){return k(this,null,function*(){try{if(o==="event"){let[a,c]=s;yield dk(t,e,n,a,c)}else if(o==="config"){let[a,c]=s;yield uk(t,e,n,r,a,c)}else if(o==="consent"){let[a]=s;t("consent","update",a)}else if(o==="get"){let[a,c,l]=s;t("get",a,c,l)}else if(o==="set"){let[a]=s;t("set",a)}else t(o,...s)}catch(a){Xe.error(a)}})}return i}function hk(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=fk(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function pk(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(mp)&&n.src.includes(t))return n;return null}var gk=30,mk=1e3,dp=class{constructor(e={},n=mk){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},WD=new dp;function vk(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function yk(t){return k(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:vk(r)},o=ik.replace("{app-id}",n),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let c=yield s.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw nt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function _k(r){return k(this,arguments,function*(t,e=WD,n){let{appId:i,apiKey:o,measurementId:s}=t.options;if(!i)throw nt.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw nt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new fp;return setTimeout(()=>k(this,null,function*(){c.abort()}),n!==void 0?n:rk),zD({appId:i,apiKey:o,measurementId:s},a,c,e)})}function zD(o,s,a){return k(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=WD){var c;let{appId:l,measurementId:u}=t;try{yield wk(r,e)}catch(d){if(u)return Xe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{let d=yield yk(t);return i.deleteThrottleMetadata(l),d}catch(d){let f=d;if(!Ck(f)){if(i.deleteThrottleMetadata(l),u)return Xe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw d}let h=Number((c=f?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Js(n,i.intervalMillis,gk):Js(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(l,p),Xe.debug(`Calling attemptFetch again in ${h} millis`),zD(t,p,r,i)}})}function wk(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(nt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Ck(t){if(!(t instanceof Qs)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var fp=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var hp;function Dk(t,e,n,r,i){return k(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}})}var pp;function Ek(t){pp=t}function Ik(t){hp=t}function bk(){return k(this,null,function*(){if(Ks())try{yield km()}catch(t){return Xe.warn(nt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Xe.warn(nt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function Tk(t,e,n,r,i,o,s){return k(this,null,function*(){var a;let c=_k(t);c.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&Xe.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Xe.error(h)),e.push(c);let l=bk().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);pk(o)||ck(o,u.measurementId),pp&&(i("consent","default",pp),Ek(void 0)),i("js",new Date);let f=(a=s?.config)!==null&&a!==void 0?a:{};return f[nk]="firebase",f.update=!0,d!=null&&(f[tk]=d),i("config",u.measurementId,f),hp&&(i("set",hp),Ik(void 0)),u.measurementId})}var gp=class{constructor(e){this.app=e}_delete(){return delete us[this.app.options.appId],Promise.resolve()}},us={},VD=[],jD={},up="dataLayer",Sk="gtag",UD,qD,BD=!1;function Mk(){let t=[];if(Om()&&t.push("This is a browser extension environment."),Fm()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nt.create("invalid-analytics-context",{errorInfo:e});Xe.warn(n.message)}}function Ak(t,e,n){Mk();let r=t.options.appId;if(!r)throw nt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nt.create("no-api-key");if(us[r]!=null)throw nt.create("already-exists",{id:r});if(!BD){lk(up);let{wrappedGtag:o,gtagCore:s}=hk(us,VD,jD,up,Sk);qD=o,UD=s,BD=!0}return us[r]=Tk(t,VD,jD,e,UD,up,n),new gp(t)}function YD(t=eo()){t=De(t);let e=yn(t,Ml);return e.isInitialized()?e.getImmediate():xk(t)}function xk(t,e={}){let n=yn(t,Ml);if(n.isInitialized()){let i=n.getImmediate();if(jm(e,n.getOptions()))return i;throw nt.create("already-initialized")}return n.initialize({options:e})}function Nk(t,e,n,r){t=De(t),Dk(qD,us[t.app.options.appId],e,n,r).catch(i=>Xe.error(i))}var $D="@firebase/analytics",HD="0.10.1";function Rk(){wt(new Pe(Ml,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Ak(r,i,n)},"PUBLIC")),wt(new Pe("analytics-internal",t,"PRIVATE")),ze($D,HD),ze($D,HD,"esm2017");function t(e){try{let n=e.getProvider(Ml).getImmediate();return{logEvent:(r,i,o)=>Nk(n,r,i,o)}}catch(n){throw nt.create("interop-component-reg-failed",{reason:n})}}}Rk();var jn={urlToDbExpress:"https://reida-sat-express-server.onrender.com/api",urlToDb:"https://databasereida-240f.restdb.io/rest/db",xApiKey:"65bcbd653b43c210ffb720ca",firebaseConfig:{apiKey:"AIzaSyCuGi_UPw2TY11fdBB7AvEC8-ajGMISCu8",authDomain:"reidaprova.firebaseapp.com",databaseURL:"https://reidaprova-default-rtdb.europe-west1.firebasedatabase.app",projectId:"reidaprova",storageBucket:"reidaprova.appspot.com",messagingSenderId:"638479874058",appId:"1:638479874058:web:bd36c00c72a3ad092c47f3",measurementId:"G-NB9GDB7EXV"}},Ok=zm(jn.firebaseConfig),Yz=YD(Ok);var Al=(()=>{let e=class e{constructor(r){this.http=r}getAccess(){let r=new Gt({"x-api-key":jn.xApiKey});return this.http.get(jn.urlToDbExpress,{headers:r})}updateAccess(r,i){let o=new Gt({"x-api-key":jn.xApiKey});return this.http.put(`${jn.urlToDbExpress}/${r}`,i,{headers:o})}};e.\u0275fac=function(i){return new(i||e)(g(Po))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ni=(()=>{let e=class e{constructor(){this.loading=new ye(!0),this.loading$=this.loading.asObservable(),this.show=()=>this.loading.next(!0),this.hide=()=>this.loading.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ds=new an("ANGULARFIRE2_VERSION");var Pk=(t,e)=>{let n=e?[e]:qm(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Dr=class{constructor(){return Pk(kk)}},kk="app-check";function yp(){}var xl=class{zone;delegate;constructor(e,n=Hu){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},_p=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yp,{},yp,yp)),n.pipe(se({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Nl=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=n.run(()=>new xl(Zone.current,ro)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(g(z))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fk(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function hn(t){return Lk(Fk())(t)}function Lk(t){return function(n){return n=n.lift(new _p(t.ngZone)),n.pipe(Dt(t.outsideAngular),ct(t.insideAngular))}}var Vk=new Map,jk={activated:!1,tokenObservers:[]},Uk={initialized:!1,enabled:!1};function At(t){return Vk.get(t)||Object.assign({},jk)}function tE(){return Uk}var Bk="https://content-firebaseappcheck.googleapis.com/v1";var $k="exchangeDebugToken",ZD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},d3=24*60*60*1e3;var Cp=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return k(this,null,function*(){this.stop();try{this.pending=new Ce,this.pending.promise.catch(n=>{}),yield Hk(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ce,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Hk(t){return new Promise(e=>{setTimeout(e,t)})}var Gk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Un=new Or("appCheck","AppCheck",Gk);function nE(t){if(!At(t).activated)throw Un.create("use-before-activation",{appName:t.name})}function rE(r,i){return k(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(h){throw Un.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Un.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Un.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Un.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function iE(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Bk}/projects/${n}/apps/${r}:${$k}?key=${i}`,body:{debug_token:e}}}var Wk="firebase-app-check-database",zk=1,Dp="firebase-app-check-store";var Rl=null;function qk(){return Rl||(Rl=new Promise((t,e)=>{try{let n=indexedDB.open(Wk,zk);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Un.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Dp,{keyPath:"compositeKey"})}}}catch(n){e(Un.create("storage-open",{originalErrorMessage:n?.message}))}}),Rl)}function Yk(t,e){return Kk(Qk(t),e)}function Kk(t,e){return k(this,null,function*(){let r=(yield qk()).transaction(Dp,"readwrite"),o=r.objectStore(Dp).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Un.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Qk(t){return`${t.options.appId}-${t.name}`}var Ep=new vn("@firebase/app-check");function wp(t,e){return Ks()?Yk(t,e).catch(n=>{Ep.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function oE(){return tE().enabled}function sE(){return k(this,null,function*(){let t=tE();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Zk={error:"UNKNOWN_ERROR"};function Xk(t){return Ys.encodeString(JSON.stringify(t),!1)}function Ip(t,e=!1){return k(this,null,function*(){let n=t.app;nE(n);let r=At(n),i=r.token,o;if(i&&!fs(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(fs(c)?i=c:yield wp(n,void 0))}if(!e&&i&&fs(i))return{token:i.token};let s=!1;if(oE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rE(iE(n,yield sE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield wp(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield At(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Ep.warn(c.message):Ep.error(c),o=c}let a;return i?o?fs(i)?a={token:i.token,internalError:o}:a=JD(o):(a={token:i.token},r.token=i,yield wp(n,i)):a=JD(o),s&&nF(n,a),a})}function Jk(t){return k(this,null,function*(){let e=t.app;nE(e);let{provider:n}=At(e);if(oE()){let r=yield sE(),{token:i}=yield rE(iE(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function eF(t,e,n,r){let{app:i}=t,o=At(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&fs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),XD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>XD(t))}function aE(t,e){let n=At(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function XD(t){let{app:e}=t,n=At(e),r=n.tokenRefresher;r||(r=tF(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function tF(t){let{app:e}=t;return new Cp(()=>k(this,null,function*(){let n=At(e),r;if(n.token?r=yield Ip(t,!0):r=yield Ip(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=At(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZD.RETRIAL_MIN_WAIT,ZD.RETRIAL_MAX_WAIT)}function nF(t,e){let n=At(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function fs(t){return t.expireTimeMillis-Date.now()>0}function JD(t){return{token:Xk(Zk),error:t}}var bp=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=At(this.app);for(let n of e)aE(this.app,n.next);return Promise.resolve()}};function rF(t,e){return new bp(t,e)}function iF(t){return{getToken:e=>Ip(t,e),getLimitedUseToken:()=>Jk(t),addTokenListener:e=>eF(t,"INTERNAL",e),removeTokenListener:e=>aE(t.app,e)}}var oF="@firebase/app-check",sF="0.8.2";var aF="app-check",eE="app-check-internal";function cF(){wt(new Pe(aF,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return rF(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(eE).initialize()})),wt(new Pe(eE,t=>{let e=t.getProvider("app-check").getImmediate();return iF(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ze(oF,sF)}cF();var lF=["localhost","0.0.0.0","127.0.0.1"],E3=typeof window<"u"&&lF.includes(window.location.hostname);var uF="firebase",dF="10.8.0";Je.registerVersion(uF,dF,"app-compat");var fF=["ngOnDestroy"],uE=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{if(t[o])return r?.spy?.get&&r.spy.get(o,t[o]),t[o];if(fF.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let d=u?.(...l);return r?.spy?.apply&&r.spy.apply(o,l,d),d})})})});var Ol=class{constructor(e){return e}},Ri=new w("angularfire2.app.options"),Oi=new w("angularfire2.app.name");function hs(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Je.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Je.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;hF("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ol(s)}var hF=(t,...e)=>{Vf()&&typeof console<"u"&&console[t](...e)},pF={provide:Ol,useFactory:hs,deps:[Ri,z,[new Eo,Oi]]},dE=(()=>{class t{static initializeApp(n,r){return{ngModule:t,providers:[{provide:Ri,useValue:n},{provide:Oi,useValue:r}]}}constructor(n){Je.registerVersion("angularfire",ds.full,"core"),Je.registerVersion("angularfire",ds.full,"app-compat"),Je.registerVersion("angular",cw.full,n.toString())}static \u0275fac=function(r){return new(r||t)(g(Ne))};static \u0275mod=me({type:t});static \u0275inj=ge({providers:[pF]})}return t})();function Pl(t,e,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return gF(i,s)||(lE("error",`${e} was already initialized on the ${n} Firebase App with different settings.${mF?" You may need to reload as Firebase is not HMR aware.":""}`),lE("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function gF(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var mF=typeof module<"u"&&!!module.hot,lE=(t,...e)=>{Vf()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var Tp=new w("angularfire2.auth.use-emulator"),Sp=new w("angularfire2.auth.settings"),Mp=new w("angularfire2.auth.tenant-id"),Ap=new w("angularfire2.auth.langugage-code"),xp=new w("angularfire2.auth.use-device-language"),Np=new w("angularfire.auth.persistence"),Rp=(t,e,n,r,i,o,s,a)=>Pl(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]),fE=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,c,l,u,d,f,h){let p=new fe,y=b(void 0).pipe(ct(s.outsideAngular),ne(()=>o.runOutsideAngular(()=>import("./chunk-KBFPPTDJ.js"))),T(()=>hs(n,o,r)),T(_=>Rp(_,o,a,l,u,d,c,f)),Ta({bufferSize:1,refCount:!1}));if(xo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=b(null);else{y.pipe(lt()).subscribe();let _=y.pipe(ne(B=>B.getRedirectResult().then($=>$,()=>null)),hn,Ta({bufferSize:1,refCount:!1})),C=y.pipe(ne(B=>new L($=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(le=>$.next(le),le=>$.error(le),()=>$.complete()))})))),F=y.pipe(ne(B=>new L($=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(le=>$.next(le),le=>$.error(le),()=>$.complete()))}))));this.authState=_.pipe(Sa(C),Dt(s.outsideAngular),ct(s.insideAngular)),this.user=_.pipe(Sa(F),Dt(s.outsideAngular),ct(s.insideAngular)),this.idToken=this.user.pipe(ne(B=>B?K(B.getIdToken()):b(null))),this.idTokenResult=this.user.pipe(ne(B=>B?K(B.getIdTokenResult()):b(null))),this.credential=zr(_,p,this.authState.pipe(Me(B=>!B))).pipe(T(B=>B?.user?B:null),Dt(s.outsideAngular),ct(s.insideAngular))}return uE(this,y,o,{spy:{apply:(_,C,F)=>{(_.startsWith("signIn")||_.startsWith("createUser"))&&F.then(B=>p.next(B))}}})}static \u0275fac=function(r){return new(r||t)(g(Ri),g(Oi,8),g(Ne),g(z),g(Nl),g(Tp,8),g(Sp,8),g(Mp,8),g(Ap,8),g(xp,8),g(Np,8),g(Dr,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var hE="@firebase/database",pE="1.0.3";var Gg="";function Wg(t){Gg=t}var Up=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),de(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Bp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return at(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var WE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Up(e)}}catch{}return new Bp},Ir=WE("localStorage"),$p=WE("sessionStorage");var Li=new vn("@firebase/database"),zE=function(){let t=1;return function(){return t++}}(),qE=function(t){let e=$m(t),n=new Bm;n.update(e);let r=n.digest();return Ys.encodeByteArray(r)},Ls=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ls.apply(null,r):typeof r=="object"?e+=de(r):e+=r,e+=" "}return e},br=null,gE=!0,YE=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Li.logLevel=Hm.VERBOSE,br=Li.log.bind(Li),e&&$p.set("logging_enabled",!0)):typeof t=="function"?br=t:(br=null,$p.remove("logging_enabled"))},Ie=function(...t){if(gE===!0&&(gE=!1,br===null&&$p.get("logging_enabled")===!0&&YE(!0)),br){let e=Ls.apply(null,t);br(e)}},Vs=function(t){return function(...e){Ie(t,...e)}},Hp=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ls(...t);Li.error(e)},Zt=function(...t){let e=`FIREBASE FATAL ERROR: ${Ls(...t)}`;throw Li.error(e),new Error(e)},Oe=function(...t){let e="FIREBASE WARNING: "+Ls(...t);Li.warn(e)},yF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Oe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_F=function(t){if(Rt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gn="[MIN_NAME]",pn="[MAX_NAME]",Sr=function(t,e){if(t===e)return 0;if(t===Gn||e===pn)return-1;if(e===Gn||t===pn)return 1;{let n=mE(t),r=mE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},wF=function(t,e){return t===e?0:t<e?-1:1},ps=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+de(e))},zg=function(t){if(typeof t!="object"||t===null)return de(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=de(e[r]),n+=":",n+=zg(t[e[r]]);return n+="}",n},KE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function be(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var QE=function(t){m(!cu(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},CF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},DF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function EF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var IF=new RegExp("^-?(0*)\\d{1,10}$"),bF=-2147483648,TF=2147483647,mE=function(t){if(IF.test(t)){let e=Number(t);if(e>=bF&&e<=TF)return e}return null},zi=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Oe("Exception was thrown by user callback.",n),e},Math.floor(0))}},SF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ys=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Gp=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Oe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Wp=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ie("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oe(e)}},_s=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Fl="5",ZE="v",XE="s",JE="r",eI="f",tI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,nI="ls",rI="p",zp="ac",iI="websocket",oI="long_polling";var Ll=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ir.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ir.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function MF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sI(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===iI)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===oI)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);MF(t)&&(n.ns=t.namespace);let i=[];return be(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var qp=class{constructor(){this.counters_={}}incrementCounter(e,n=1){at(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Nm(this.counters_)}};var Op={},Pp={};function qg(t){let e=t.toString();return Op[e]||(Op[e]=new qp),Op[e]}function AF(t,e){let n=t.toString();return Pp[n]||(Pp[n]=e()),Pp[n]}var Yp=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var vE="start",xF="close",NF="pLPCommand",RF="pRTLPCB",aI="id",cI="pw",lI="ser",OF="cb",PF="seg",kF="ts",FF="d",LF="dframe",uI=1870,dI=30,VF=uI-dI,jF=25e3,UF=3e4,Es=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vs(e),this.stats_=qg(n),this.urlFn=c=>(this.appCheckToken&&(c[zp]=this.appCheckToken),sI(n,oI,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UF)),_F(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kp((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===vE)this.id=a,this.password=c;else if(s===xF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[vE]="t",r[lI]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[OF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ZE]=Fl,this.transportSessionId&&(r[XE]=this.transportSessionId),this.lastSessionId&&(r[nI]=this.lastSessionId),this.applicationId&&(r[rI]=this.applicationId),this.appCheckToken&&(r[zp]=this.appCheckToken),typeof location<"u"&&location.hostname&&tI.test(location.hostname)&&(r[JE]=eI);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Rt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CF()&&!DF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=xm(n),i=KE(r,VF);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Rt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[LF]="t",r[aI]=e,r[cI]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=de(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Kp=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Rt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=zE(),window[NF+this.uniqueCallbackIdentifier]=e,window[RF+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ie("frame writing exception"),a.stack&&Ie(a.stack),Ie(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ie("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[aI]=this.myID,e[cI]=this.myPW,e[lI]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dI+r.length<=uI;){let s=this.pendingSegs.shift();r=r+"&"+PF+i+"="+s.seg+"&"+kF+i+"="+s.ts+"&"+FF+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(jF)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Rt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ie("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var BF=16384,$F=45e3,Vl=null;typeof MozWebSocket<"u"?Vl=MozWebSocket:typeof WebSocket<"u"&&(Vl=WebSocket);var ki=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vs(this.connId),this.stats_=qg(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[ZE]=Fl,!Rt()&&typeof location<"u"&&location.hostname&&tI.test(location.hostname)&&(a[JE]=eI),r&&(a[XE]=r),i&&(a[nI]=i),o&&(a[zp]=o),s&&(a[rI]=s),sI(n,iI,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ir.set("previous_websocket_failure",!0);try{let i;if(Rt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Fl}/${Gg}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Vl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Vl!==null&&!t.forceDisallow_}static previouslyFailed(){return Ir.isInMemoryStorage||Ir.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ir.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Zs(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=de(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=KE(r,BF);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($F))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),fI=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Es,ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ki&&ki.isAvailable(),i=r&&!ki.previouslyFailed();if(n.webSocketOnly&&(r||Oe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ki];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),HF=6e4,GF=5e3,WF=10*1024,zF=100*1024,kp="t",yE="d",qF="s",_E="r",YF="e",wE="o",CE="a",DE="n",EE="p",KF="h",Qp=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vs("c:"+this.id+":"),this.transportManager_=new fI(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ys(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kp in e){let n=e[kp];n===CE?this.upgradeIfSecondaryHealthy_():n===_E?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===wE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=ps("t",e),r=ps("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:EE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:CE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=ps("t",e),r=ps("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=ps(kp,e);if(yE in e){let r=e[yE];if(n===KF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===DE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qF?this.onConnectionShutdown_(r):n===_E?this.onReset_(r):n===YF?Hp("Server Error: "+r):n===wE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hp("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fl!==r&&Oe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ys(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(HF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ys(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(GF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:EE,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ir.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var jl=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Ul=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Bl=class t extends Ul{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Su()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var IE=32,bE=768,Y=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function q(){return new Y("")}function j(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Wn(t){return t.pieces_.length-t.pieceNum_}function te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Y(t.pieces_,e)}function Yg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function QF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Is(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hI(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Y(e,0)}function ae(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Y)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Y(n,0)}function U(t){return t.pieceNum_>=t.pieces_.length}function $e(t,e){let n=j(t),r=j(e);if(n===null)return e;if(n===r)return $e(te(t),te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ZF(t,e){let n=Is(t,0),r=Is(e,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Sr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Kg(t,e){if(Wn(t)!==Wn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function mt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Wn(t)>Wn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Zp=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Is(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ji(this.parts_[r]);pI(this)}};function XF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ji(e),pI(t)}function JF(t){let e=t.parts_.pop();t.byteLength_-=Ji(e),t.parts_.length>0&&(t.byteLength_-=1)}function pI(t){if(t.byteLength_>bE)throw new Error(t.errorPrefix_+"has a key path longer than "+bE+" bytes ("+t.byteLength_+").");if(t.parts_.length>IE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+IE+") or object contains a cycle "+Er(t))}function Er(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Xp=class t extends Ul{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var gs=1e3,e1=60*5*1e3,TE=30*1e3,t1=1.3,n1=3e4,r1="server_kill",SE=3,Qg=(()=>{class t extends jl{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Vs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gs,this.maxReconnectDelay_=e1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Rt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Bl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(de(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ce,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&at(n,"w")){let i=mn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Oe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Vm(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=TE)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Lm(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+de(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Hp("Unrecognized action received from server: "+de(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>n1&&(this.reconnectDelay_=gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*t1)}this.onConnectStatus_(!1)}establishConnection_(){return k(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ie("getToken() completed but was canceled"):(Ie("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Qp(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Oe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(r1)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Oe(f),l())}}})}interrupt(n){Ie("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ie("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Xs(this.interruptReasons_)&&(this.reconnectDelay_=gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>zg(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Y(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ie("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=SE&&(this.reconnectDelay_=TE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ie("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=SE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Rt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Gg.replace(/\./g,"-")]=1,Su()?n["framework.cordova"]=1:Pm()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Bl.getInstance().currentlyOnline();return Xs(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),G=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Vi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new G(Gn,e),i=new G(Gn,n);return this.compare(r,i)!==0}minPost(){return G.MIN}};var kl,$l=class extends Vi{static get __EMPTY_NODE(){return kl}static set __EMPTY_NODE(e){kl=e}compare(e,n){return Sr(e.name,n.name)}isDefinedOn(e){throw Rr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return G.MIN}maxPost(){return new G(pn,kl)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new G(e,kl)}toString(){return".key"}},Qt=new $l;var Fi=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},xt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??vt.EMPTY_NODE,this.right=s??vt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return vt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Jp=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},vt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Fi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Fi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Fi(this.root_,null,this.comparator_,!0,e)}};vt.EMPTY_NODE=new Jp;function i1(t,e){return Sr(t.name,e.name)}function Zg(t,e){return Sr(t,e)}var eg;function o1(t){eg=t}var gI=function(t){return typeof t=="number"?"number:"+QE(t):"string:"+t},mI=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&at(e,".sv"),"Priority must be a string or number.")}else m(t===eg||t.isEmpty(),"priority of unexpected type.");m(t===eg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var ME,ji=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mI(this.priorityNode_)}static set __childrenNodeConstructor(n){ME=n}static get __childrenNodeConstructor(){return ME}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return U(n)?this:j(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=j(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Wn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(te(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+gI(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=QE(this.value_):n+=this.value_,this.lazyHash_=qE(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),vI,yI;function s1(t){vI=t}function a1(t){yI=t}var tg=class extends Vi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Sr(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return G.MIN}maxPost(){return new G(pn,new ji("[PRIORITY-POST]",yI))}makePost(e,n){let r=vI(e);return new G(n,new ji("[PRIORITY-POST]",r))}toString(){return".priority"}},re=new tg;var c1=Math.log(2),ng=class{constructor(e){let n=o=>parseInt(Math.log(o)/c1,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Hl=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new xt(f,d.node,xt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),y=i(h+1,l);return d=t[h],f=n?n(d):d,new xt(f,d.node,xt.BLACK,p,y)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,y){let _=d-p,C=d;d-=p;let F=i(_+1,C),B=t[_],$=n?n(B):B;h(new xt($,B.node,y,null,F))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let y=c.nextBitIsOne(),_=Math.pow(2,c.count-(p+1));y?f(_,xt.BLACK):(f(_,xt.BLACK),f(_,xt.RED))}return u},s=new ng(t.length),a=o(s);return new vt(r||e,a)};var Fp,Pi={},Ui=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Pi&&re,"ChildrenNode.ts has not been loaded"),Fp=Fp||new t({".priority":Pi},{".priority":re}),Fp}get(e){let n=mn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vt?n:null}hasIndex(e){return at(this.indexSet_,e.toString())}addIndex(e,n){m(e!==Qt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(G.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Hl(r,e.getCompare()):a=Pi;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Xi(this.indexes_,(i,o)=>{let s=mn(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===Pi)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(G.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Hl(a,s.getCompare())}else return Pi;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new G(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Xi(this.indexes_,i=>{if(i===Pi)return i;{let o=n.get(e.name);return o?i.remove(new G(e.name,o)):i}});return new t(r,this.indexSet_)}};var ms,N=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&mI(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ms||(ms=new t(new vt(Zg),null,Ui.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ms}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ms:r}}getChild(n){let r=j(n);return r===null?this:this.getImmediateChild(r).getChild(te(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new G(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ms:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=j(n);if(i===null)return r;{m(j(n)!==".priority"||Wn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(te(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(re,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+gI(this.getPriority().val())+":"),this.forEachChild(re,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":qE(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new G(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new G(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new G(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,G.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===js?-1:0}withIndex(n){if(n===Qt||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Qt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(re),o=r.getIterator(re),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Qt?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),rg=class extends N{constructor(){super(new vt(Zg),N.EMPTY_NODE,Ui.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return N.EMPTY_NODE}isEmpty(){return!1}},js=new rg;Object.defineProperties(G,{MIN:{value:new G(Gn,N.EMPTY_NODE)},MAX:{value:new G(pn,js)}});$l.__EMPTY_NODE=N.EMPTY_NODE;ji.__childrenNodeConstructor=N;o1(js);a1(js);var l1=!0;function ce(t,e=null){if(t===null)return N.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ji(n,ce(e))}if(!(t instanceof Array)&&l1){let n=[],r=!1;if(be(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=ce(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new G(s,c)))}}),n.length===0)return N.EMPTY_NODE;let o=Hl(n,i1,s=>s.name,Zg);if(r){let s=Hl(n,re.getCompare());return new N(o,ce(e),new Ui({".priority":s},{".priority":re}))}else return new N(o,ce(e),Ui.Default)}else{let n=N.EMPTY_NODE;return be(t,(r,i)=>{if(at(t,r)&&r.substring(0,1)!=="."){let o=ce(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ce(e))}}s1(ce);var bs=class extends Vi{constructor(e){super(),this.indexPath_=e,m(!U(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Sr(e.name,n.name):o}makePost(e,n){let r=ce(e),i=N.EMPTY_NODE.updateChild(this.indexPath_,r);return new G(n,i)}maxPost(){let e=N.EMPTY_NODE.updateChild(this.indexPath_,js);return new G(pn,e)}toString(){return Is(this.indexPath_,0).join("/")}};var ig=class extends Vi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Sr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return G.MIN}maxPost(){return G.MAX}makePost(e,n){let r=ce(e);return new G(n,r)}toString(){return".value"}},Xg=new ig;function _I(t){return{type:"value",snapshotNode:t}}function Bi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ts(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ss(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function u1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Ms=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Ts(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Bi(n,r)):s.trackChildChange(Ss(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(re,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ts(i,o))}),n.isLeafNode()||n.forEachChild(re,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ss(i,o,s))}else r.trackChildChange(Bi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?N.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Gl=class t{constructor(e){this.indexedFilter_=new Ms(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new G(n,r))||(r=N.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=N.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(N.EMPTY_NODE);let o=this;return n.forEachChild(re,(s,a)=>{o.matches(new G(s,a))||(i=i.updateImmediateChild(s,N.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var og=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new G(n,r))||(r=N.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=N.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=N.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(N.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,N.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new G(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ss(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ts(n,d));let y=a.updateImmediateChild(n,N.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Bi(f.name,f.node)),y.updateImmediateChild(f.name,f.node)):y}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Ts(l.name,l.node)),o.trackChildChange(Bi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,N.EMPTY_NODE)):e}};var As=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gn}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function d1(t){return t.loadsAllData()?new Ms(t.getIndex()):t.hasLimit()?new og(t):new Gl(t)}function f1(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function h1(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function sg(t,e,n){let r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function p1(t,e,n){let r;return t.index_===Qt||n?r=sg(t,e,n):r=sg(t,e,pn),r.startAfterSet_=!0,r}function ag(t,e,n){let r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function g1(t,e,n){let r;return t.index_===Qt||n?r=ag(t,e,n):r=ag(t,e,Gn),r.endBeforeSet_=!0,r}function lu(t,e){let n=t.copy();return n.index_=e,n}function AE(t){let e={};if(t.isDefault())return e;let n;if(t.index_===re?n="$priority":t.index_===Xg?n="$value":t.index_===Qt?n="$key":(m(t.index_ instanceof bs,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=de(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=de(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+de(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=de(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+de(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xE(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==re&&(e.i=t.index_.toString()),e}var cg=class t extends jl{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=AE(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),mn(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=AE(e._queryParams),r=e._path.toString(),i=new Ce;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Um(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Zs(a.responseText)}catch{Oe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Oe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var lg=class{constructor(){this.rootNode_=N.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Wl(){return{value:null,children:new Map}}function qi(t,e,n){if(U(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=j(e);t.children.has(r)||t.children.set(r,Wl());let i=t.children.get(r);e=te(e),qi(i,e,n)}}function ug(t,e){if(U(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(re,(r,i)=>{qi(t,new Y(r),i)}),ug(t,e)}}else if(t.children.size>0){let n=j(e);return e=te(e),t.children.has(n)&&ug(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function dg(t,e,n){t.value!==null?n(e,t.value):m1(t,(r,i)=>{let o=new Y(e.toString()+"/"+r);dg(i,o,n)})}function m1(t,e){t.children.forEach((n,r)=>{e(r,n)})}var fg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&be(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var NE=10*1e3,v1=30*1e3,y1=5*60*1e3,hg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new fg(e);let r=NE+(v1-NE)*Math.random();ys(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;be(e,(i,o)=>{o>0&&at(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ys(this.reportStats_.bind(this),Math.floor(Math.random()*2*y1))}};var Kt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Kt||{});function Jg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function em(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var pg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Kt.ACK_USER_WRITE,this.source=Jg()}operationForChild(e){if(U(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Y(e));return new t(q(),n,this.revert)}}else return m(j(this.path)===e,"operationForChild called for unrelated child."),new t(te(this.path),this.affectedTree,this.revert)}};var zl=class t{constructor(e,n){this.source=e,this.path=n,this.type=Kt.LISTEN_COMPLETE}operationForChild(e){return U(this.path)?new t(this.source,q()):new t(this.source,te(this.path))}};var $i=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Kt.OVERWRITE}operationForChild(e){return U(this.path)?new t(this.source,q(),this.snap.getImmediateChild(e)):new t(this.source,te(this.path),this.snap)}};var xs=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Kt.MERGE}operationForChild(e){if(U(this.path)){let n=this.children.subtree(new Y(e));return n.isEmpty()?null:n.value?new $i(this.source,q(),n.value):new t(this.source,q(),n)}else return m(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Xt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(U(e))return this.isFullyInitialized()&&!this.filtered_;let n=j(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var gg=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function _1(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(u1(s.childName,s.snapshotNode))}),vs(t,i,"child_removed",e,r,n),vs(t,i,"child_added",e,r,n),vs(t,i,"child_moved",o,r,n),vs(t,i,"child_changed",e,r,n),vs(t,i,"value",e,r,n),i}function vs(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>C1(t,a,c)),s.forEach(a=>{let c=w1(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function w1(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function C1(t,e,n){if(e.childName==null||n.childName==null)throw Rr("Should only compare child_ events.");let r=new G(e.childName,e.snapshotNode),i=new G(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function uu(t,e){return{eventCache:t,serverCache:e}}function ws(t,e,n,r){return uu(new Xt(e,n,r),t.serverCache)}function wI(t,e,n,r){return uu(t.eventCache,new Xt(e,n,r))}function ql(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Tr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Lp,D1=()=>(Lp||(Lp=new vt(wF)),Lp),He=class t{constructor(e,n=D1()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return be(e,(r,i)=>{n=n.set(new Y(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(U(e))return null;{let r=j(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(te(e),n);return o!=null?{path:ae(new Y(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(U(e))return this;{let n=j(e),r=this.children.get(n);return r!==null?r.subtree(te(e)):new t(null)}}set(e,n){if(U(e))return new t(n,this.children);{let r=j(e),o=(this.children.get(r)||new t(null)).set(te(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(U(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=j(e),r=this.children.get(n);if(r){let i=r.remove(te(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(U(e))return this.value;{let n=j(e),r=this.children.get(n);return r?r.get(te(e)):null}}setTree(e,n){if(U(e))return n;{let r=j(e),o=(this.children.get(r)||new t(null)).setTree(te(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(U(e))return null;{let o=j(e),s=this.children.get(o);return s?s.findOnPath_(te(e),ae(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,q(),n)}foreachOnPath_(e,n,r){if(U(e))return this;{this.value&&r(n,this.value);let i=j(e),o=this.children.get(i);return o?o.foreachOnPath_(te(e),ae(n,i),r):new t(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Nt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new He(null))}};function Cs(t,e,n){if(U(e))return new Nt(new He(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=$e(i,e);return o=o.updateChild(s,n),new Nt(t.writeTree_.set(i,o))}else{let i=new He(n),o=t.writeTree_.setTree(e,i);return new Nt(o)}}}function mg(t,e,n){let r=t;return be(n,(i,o)=>{r=Cs(r,ae(e,i),o)}),r}function RE(t,e){if(U(e))return Nt.empty();{let n=t.writeTree_.setTree(e,new He(null));return new Nt(n)}}function vg(t,e){return Mr(t,e)!=null}function Mr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($e(n.path,e)):null}function OE(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(re,(r,i)=>{e.push(new G(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new G(r,i.value))}),e}function $n(t,e){if(U(e))return t;{let n=Mr(t,e);return n!=null?new Nt(new He(n)):new Nt(t.writeTree_.subtree(e))}}function yg(t){return t.writeTree_.isEmpty()}function Hi(t,e){return CI(q(),t.writeTree_,e)}function CI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=CI(ae(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ae(t,".priority"),r)),n}}function du(t,e){return bI(e,t)}function E1(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Cs(t.visibleWrites,e,n)),t.lastWriteId=r}function I1(t,e,n,r){m(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=mg(t.visibleWrites,e,n),t.lastWriteId=r}function b1(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function T1(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&S1(a,r.path)?i=!1:mt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return M1(t),!0;if(r.snap)t.visibleWrites=RE(t.visibleWrites,r.path);else{let a=r.children;be(a,c=>{t.visibleWrites=RE(t.visibleWrites,ae(r.path,c))})}return!0}else return!1}function S1(t,e){if(t.snap)return mt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&mt(ae(t.path,n),e))return!0;return!1}function M1(t){t.visibleWrites=DI(t.allWrites,A1,q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function A1(t){return t.visible}function DI(t,e,n){let r=Nt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)mt(n,s)?(a=$e(n,s),r=Cs(r,a,o.snap)):mt(s,n)&&(a=$e(s,n),r=Cs(r,q(),o.snap.getChild(a)));else if(o.children){if(mt(n,s))a=$e(n,s),r=mg(r,a,o.children);else if(mt(s,n))if(a=$e(s,n),U(a))r=mg(r,q(),o.children);else{let c=mn(o.children,j(a));if(c){let l=c.getChild(te(a));r=Cs(r,q(),l)}}}else throw Rr("WriteRecord should have .snap or .children")}}return r}function EI(t,e,n,r,i){if(!r&&!i){let o=Mr(t.visibleWrites,e);if(o!=null)return o;{let s=$n(t.visibleWrites,e);if(yg(s))return n;if(n==null&&!vg(s,q()))return null;{let a=n||N.EMPTY_NODE;return Hi(s,a)}}}else{let o=$n(t.visibleWrites,e);if(!i&&yg(o))return n;if(!i&&n==null&&!vg(o,q()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(mt(l.path,e)||mt(e,l.path))},a=DI(t.allWrites,s,e),c=n||N.EMPTY_NODE;return Hi(a,c)}}}function x1(t,e,n){let r=N.EMPTY_NODE,i=Mr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(re,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=$n(t.visibleWrites,e);return n.forEachChild(re,(s,a)=>{let c=Hi($n(o,new Y(s)),a);r=r.updateImmediateChild(s,c)}),OE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=$n(t.visibleWrites,e);return OE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function N1(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ae(e,n);if(vg(t.visibleWrites,o))return null;{let s=$n(t.visibleWrites,o);return yg(s)?i.getChild(n):Hi(s,i.getChild(n))}}function R1(t,e,n,r){let i=ae(e,n),o=Mr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=$n(t.visibleWrites,i);return Hi(s,r.getNode().getImmediateChild(n))}else return null}function O1(t,e){return Mr(t.visibleWrites,e)}function P1(t,e,n,r,i,o,s){let a,c=$n(t.visibleWrites,e),l=Mr(c,q());if(l!=null)a=l;else if(n!=null)a=Hi(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function k1(){return{visibleWrites:Nt.empty(),allWrites:[],lastWriteId:-1}}function Yl(t,e,n,r){return EI(t.writeTree,t.treePath,e,n,r)}function nm(t,e){return x1(t.writeTree,t.treePath,e)}function PE(t,e,n,r){return N1(t.writeTree,t.treePath,e,n,r)}function Kl(t,e){return O1(t.writeTree,ae(t.treePath,e))}function F1(t,e,n,r,i,o){return P1(t.writeTree,t.treePath,e,n,r,i,o)}function rm(t,e,n){return R1(t.writeTree,t.treePath,e,n)}function II(t,e){return bI(ae(t.treePath,e),t.writeTree)}function bI(t,e){return{treePath:t,writeTree:e}}var _g=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ss(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ts(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Bi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ss(r,e.snapshotNode,i.oldSnap));else throw Rr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var wg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},TI=new wg,Ns=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Xt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rm(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tr(this.viewCache_),o=F1(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function L1(t){return{filter:t}}function V1(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function j1(t,e,n,r,i){let o=new _g,s,a;if(n.type===Kt.OVERWRITE){let l=n;l.source.fromUser?s=Cg(t,e,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!U(l.path),s=Ql(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Kt.MERGE){let l=n;l.source.fromUser?s=B1(t,e,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Dg(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Kt.ACK_USER_WRITE){let l=n;l.revert?s=G1(t,e,l.path,r,i,o):s=$1(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Kt.LISTEN_COMPLETE)s=H1(t,e,n.path,r,o);else throw Rr("Unknown operation type: "+n.type);let c=o.getChanges();return U1(e,s,c),{viewCache:s,changes:c}}function U1(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ql(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(_I(ql(e)))}}function SI(t,e,n,r,i,o){let s=e.eventCache;if(Kl(r,n)!=null)return e;{let a,c;if(U(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Tr(e),u=l instanceof N?l:N.EMPTY_NODE,d=nm(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Yl(r,Tr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=j(n);if(l===".priority"){m(Wn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=PE(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=te(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=PE(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=rm(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return ws(e,a,s.isFullyInitialized()||U(n),t.filter.filtersNodes())}}function Ql(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(U(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=j(n);if(!c.isCompleteForPath(n)&&Wn(n)>1)return e;let p=te(n),_=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),_):l=u.updateChild(c.getNode(),h,_,p,TI,null)}let d=wI(e,l,c.isFullyInitialized()||U(n),u.filtersNodes()),f=new Ns(i,d,o);return SI(t,d,n,i,f,a)}function Cg(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new Ns(i,e,o);if(U(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=ws(e,l,!0,t.filter.filtersNodes());else{let d=j(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=ws(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=te(n),h=a.getNode().getImmediateChild(d),p;if(U(f))p=r;else{let y=u.getCompleteChild(d);y!=null?Yg(f)===".priority"&&y.getChild(hI(f)).isEmpty()?p=y:p=y.updateChild(f,r):p=N.EMPTY_NODE}if(h.equals(p))c=e;else{let y=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=ws(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function kE(t,e){return t.eventCache.isCompleteForChild(e)}function B1(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=ae(n,c);kE(e,j(u))&&(a=Cg(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=ae(n,c);kE(e,j(u))||(a=Cg(t,a,u,l,i,o,s))}),a}function FE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Dg(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;U(n)?l=r:l=new He(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=FE(t,h,f);c=Ql(t,c,new Y(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),y=FE(t,p,f);c=Ql(t,c,new Y(d),y,i,o,s,a)}}),c}function $1(t,e,n,r,i,o,s){if(Kl(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(U(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ql(t,e,n,c.getNode().getChild(n),i,o,a,s);if(U(n)){let l=new He(null);return c.getNode().forEachChild(Qt,(u,d)=>{l=l.set(new Y(u),d)}),Dg(t,e,n,l,i,o,a,s)}else return e}else{let l=new He(null);return r.foreach((u,d)=>{let f=ae(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Dg(t,e,n,l,i,o,a,s)}}function H1(t,e,n,r,i){let o=e.serverCache,s=wI(e,o.getNode(),o.isFullyInitialized()||U(n),o.isFiltered());return SI(t,s,n,r,TI,i)}function G1(t,e,n,r,i,o){let s;if(Kl(r,n)!=null)return e;{let a=new Ns(r,e,i),c=e.eventCache.getNode(),l;if(U(n)||j(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Yl(r,Tr(e));else{let d=e.serverCache.getNode();m(d instanceof N,"serverChildren would be complete if leaf node"),u=nm(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=j(n),d=rm(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,te(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,N.EMPTY_NODE,te(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Yl(r,Tr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Kl(r,q())!=null,ws(e,l,s,t.filter.filtersNodes())}}var Eg=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Ms(r.getIndex()),o=d1(r);this.processor_=L1(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(N.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(N.EMPTY_NODE,a.getNode(),null),u=new Xt(c,s.isFullyInitialized(),i.filtersNodes()),d=new Xt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=uu(d,u),this.eventGenerator_=new gg(this.query_)}get query(){return this.query_}};function W1(t){return t.viewCache_.serverCache.getNode()}function z1(t){return ql(t.viewCache_)}function q1(t,e){let n=Tr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!U(e)&&!n.getImmediateChild(j(e)).isEmpty())?n.getChild(e):null}function LE(t){return t.eventRegistrations_.length===0}function Y1(t,e){t.eventRegistrations_.push(e)}function VE(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function jE(t,e,n,r){e.type===Kt.MERGE&&e.source.queryId!==null&&(m(Tr(t.viewCache_),"We should always have a full cache before handling merges"),m(ql(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=j1(t.processor_,i,e,n,r);return V1(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,MI(t,o.changes,o.viewCache.eventCache.getNode(),null)}function K1(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(re,(o,s)=>{r.push(Bi(o,s))}),n.isFullyInitialized()&&r.push(_I(n.getNode())),MI(t,r,n.getNode(),e)}function MI(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return _1(t.eventGenerator_,e,n,i)}var Zl,Xl=class{constructor(){this.views=new Map}};function Q1(t){m(!Zl,"__referenceConstructor has already been defined"),Zl=t}function Z1(){return m(Zl,"Reference.ts has not been loaded"),Zl}function X1(t){return t.views.size===0}function im(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),jE(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(jE(s,e,n,r));return o}}function AI(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Yl(n,i?r:null),c=!1;a?c=!0:r instanceof N?(a=nm(n,r),c=!1):(a=N.EMPTY_NODE,c=!1);let l=uu(new Xt(a,c,!1),new Xt(r,i,!1));return new Eg(e,l)}return s}function J1(t,e,n,r,i,o){let s=AI(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),Y1(s,n),K1(s,n)}function eL(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=zn(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(VE(l,n,r)),LE(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(VE(c,n,r)),LE(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!zn(t)&&o.push(new(Z1())(e._repo,e._path)),{removed:o,events:s}}function xI(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Hn(t,e){let n=null;for(let r of t.views.values())n=n||q1(r,e);return n}function NI(t,e){if(e._queryParams.loadsAllData())return fu(t);{let r=e._queryIdentifier;return t.views.get(r)}}function RI(t,e){return NI(t,e)!=null}function zn(t){return fu(t)!=null}function fu(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Jl;function tL(t){m(!Jl,"__referenceConstructor has already been defined"),Jl=t}function nL(){return m(Jl,"Reference.ts has not been loaded"),Jl}var rL=1,eu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=k1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function om(t,e,n,r,i){return E1(t.pendingWriteTree_,e,n,r,i),i?Yi(t,new $i(Jg(),e,n)):[]}function iL(t,e,n,r){I1(t.pendingWriteTree_,e,n,r);let i=He.fromObject(n);return Yi(t,new xs(Jg(),e,i))}function Bn(t,e,n=!1){let r=b1(t.pendingWriteTree_,e);if(T1(t.pendingWriteTree_,e)){let o=new He(null);return r.snap!=null?o=o.set(q(),!0):be(r.children,s=>{o=o.set(new Y(s),!0)}),Yi(t,new pg(r.path,o,n))}else return[]}function Us(t,e,n){return Yi(t,new $i(em(),e,n))}function oL(t,e,n){let r=He.fromObject(n);return Yi(t,new xs(em(),e,r))}function sL(t,e){return Yi(t,new zl(em(),e))}function aL(t,e,n){let r=sm(t,n);if(r){let i=am(r),o=i.path,s=i.queryId,a=$e(o,e),c=new zl(tm(s),a);return cm(t,o,c)}else return[]}function tu(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||RI(s,e))){let c=eL(s,e,n,r);X1(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>zn(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=uL(f);for(let p=0;p<h.length;++p){let y=h[p],_=y.query,C=FI(t,y);t.listenProvider_.startListening(Ds(_),Rs(t,_),C.hashFn,C.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Ds(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(pu(f));t.listenProvider_.stopListening(Ds(f),h)}))}dL(t,l)}return a}function OI(t,e,n,r){let i=sm(t,r);if(i!=null){let o=am(i),s=o.path,a=o.queryId,c=$e(s,e),l=new $i(tm(a),c,n);return cm(t,s,l)}else return[]}function cL(t,e,n,r){let i=sm(t,r);if(i){let o=am(i),s=o.path,a=o.queryId,c=$e(s,e),l=He.fromObject(n),u=new xs(tm(a),c,l);return cm(t,s,u)}else return[]}function Ig(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=$e(f,i);o=o||Hn(h,p),s=s||zn(h)});let a=t.syncPointTree_.get(i);a?(s=s||zn(a),o=o||Hn(a,q())):(a=new Xl,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=N.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let y=Hn(p,q());y&&(o=o.updateImmediateChild(h,y))}));let l=RI(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=pu(e);m(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=fL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=du(t.pendingWriteTree_,i),d=J1(a,e,n,u,o,c);if(!l&&!s&&!r){let f=NI(a,e);d=d.concat(hL(t,e,f))}return d}function hu(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=$e(s,e),l=Hn(a,c);if(l)return l});return EI(i,e,o,n,!0)}function lL(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=$e(l,n);r=r||Hn(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Hn(i,q()):(i=new Xl,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new Xt(r,!0,!1):null,a=du(t.pendingWriteTree_,e._path),c=AI(i,e,a,o?s.getNode():N.EMPTY_NODE,o);return z1(c)}function Yi(t,e){return PI(e,t.syncPointTree_,null,du(t.pendingWriteTree_,q()))}function PI(t,e,n,r){if(U(t.path))return kI(t,e,n,r);{let i=e.get(q());n==null&&i!=null&&(n=Hn(i,q()));let o=[],s=j(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=II(r,s);o=o.concat(PI(a,c,l,u))}return i&&(o=o.concat(im(i,t,r,n))),o}}function kI(t,e,n,r){let i=e.get(q());n==null&&i!=null&&(n=Hn(i,q()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=II(r,s),u=t.operationForChild(s);u&&(o=o.concat(kI(u,a,c,l)))}),i&&(o=o.concat(im(i,t,r,n))),o}function FI(t,e){let n=e.query,r=Rs(t,n);return{hashFn:()=>(W1(e)||N.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?aL(t,n._path,r):sL(t,n._path);{let o=EF(i,n);return tu(t,n,null,o)}}}}function Rs(t,e){let n=pu(e);return t.queryToTagMap.get(n)}function pu(t){return t._path.toString()+"$"+t._queryIdentifier}function sm(t,e){return t.tagToQueryMap.get(e)}function am(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Y(t.substr(0,e))}}function cm(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=du(t.pendingWriteTree_,e);return im(r,n,i,null)}function uL(t){return t.fold((e,n,r)=>{if(n&&zn(n))return[fu(n)];{let i=[];return n&&(i=xI(n)),be(r,(o,s)=>{i=i.concat(s)}),i}})}function Ds(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(nL())(t._repo,t._path):t}function dL(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=pu(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function fL(){return rL++}function hL(t,e,n){let r=e._path,i=Rs(t,e),o=FI(t,n),s=t.listenProvider_.startListening(Ds(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!zn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!U(l)&&u&&zn(u))return[fu(u).query];{let f=[];return u&&(f=f.concat(xI(u).map(h=>h.query))),be(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Ds(u),Rs(t,u))}}return s}var bg=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Tg=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ae(this.path_,e);return new t(this.syncTree_,n)}node(){return hu(this.syncTree_,this.path_)}},pL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},UE=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return mL(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},mL=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},LI=function(t,e,n,r){return um(e,new Tg(n,t),r)},lm=function(t,e,n){return um(t,new bg(e),n)};function um(t,e,n){let r=t.getPriority().val(),i=UE(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=UE(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new ji(a,ce(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ji(i))),s.forEachChild(re,(a,c)=>{let l=um(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Os=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function gu(t,e){let n=e instanceof Y?e:new Y(e),r=t,i=j(n);for(;i!==null;){let o=mn(r.node.children,i)||{children:{},childCount:0};r=new Os(i,r,o),n=te(n),i=j(n)}return r}function Ar(t){return t.node.value}function dm(t,e){t.node.value=e,Sg(t)}function VI(t){return t.node.childCount>0}function vL(t){return Ar(t)===void 0&&!VI(t)}function mu(t,e){be(t.node.children,(n,r)=>{e(new Os(n,t,r))})}function jI(t,e,n,r){n&&!r&&e(t),mu(t,i=>{jI(i,e,!0,r)}),n&&r&&e(t)}function yL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Bs(t){return new Y(t.parent===null?t.name:Bs(t.parent)+"/"+t.name)}function Sg(t){t.parent!==null&&_L(t.parent,t.name,t)}function _L(t,e,n){let r=vL(n),i=at(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Sg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sg(t))}var wL=/[\[\].#$\/\u0000-\u001F\u007F]/,CL=/[\[\].#$\u0000-\u001F\u007F]/,Vp=10*1024*1024,vu=function(t){return typeof t=="string"&&t.length!==0&&!wL.test(t)},UI=function(t){return typeof t=="string"&&t.length!==0&&!CL.test(t)},DL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),UI(t)},Ps=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!cu(t)||t&&typeof t=="object"&&at(t,".sv")},Jt=function(t,e,n,r){r&&e===void 0||$s(We(t,"value"),e,n)},$s=function(t,e,n){let r=n instanceof Y?new Zp(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Er(r));if(typeof e=="function")throw new Error(t+"contains a function "+Er(r)+" with contents = "+e.toString());if(cu(e))throw new Error(t+"contains "+e.toString()+" "+Er(r));if(typeof e=="string"&&e.length>Vp/3&&Ji(e)>Vp)throw new Error(t+"contains a string greater than "+Vp+" utf8 bytes "+Er(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(be(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!vu(s)))throw new Error(t+" contains an invalid key ("+s+") "+Er(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XF(r,s),$s(t,a,r),JF(r)}),i&&o)throw new Error(t+' contains ".value" child '+Er(r)+" in addition to actual children.")}},EL=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let o=Is(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!vu(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(ZF);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&mt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},BI=function(t,e,n,r){if(r&&e===void 0)return;let i=We(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let o=[];be(e,(s,a)=>{let c=new Y(s);if($s(i,a,ae(n,c)),Yg(c)===".priority"&&!Ps(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),EL(i,o)},fm=function(t,e,n){if(!(n&&e===void 0)){if(cu(e))throw new Error(We(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ps(e))throw new Error(We(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Hs=function(t,e,n,r){if(!(r&&n===void 0)&&!vu(n))throw new Error(We(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ki=function(t,e,n,r){if(!(r&&n===void 0)&&!UI(n))throw new Error(We(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ki(t,e,n,r)},rt=function(t,e){if(j(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},$I=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vu(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!DL(n))throw new Error(We(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Mg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function yu(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Kg(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function HI(t,e,n){yu(t,n),GI(t,r=>Kg(r,e))}function it(t,e,n){yu(t,n),GI(t,r=>mt(r,e)||mt(e,r))}function GI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(bL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bL(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();br&&Ie("event: "+n.toString()),zi(r)}}}var WI="repo_interrupt",TL=25,Ag=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wl(),this.transactionQueueTree_=new Os,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function SL(t,e,n){if(t.stats_=qg(t.repoInfo_),t.forceRestClient_||SF())t.server_=new cg(t.repoInfo_,(r,i,o,s)=>{BE(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>$E(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{de(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Qg(t.repoInfo_,e,(r,i,o,s)=>{BE(t,r,i,o,s)},r=>{$E(t,r)},r=>{ML(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=AF(t.repoInfo_,()=>new hg(t.stats_,t.server_)),t.infoData_=new lg,t.infoSyncTree_=new eu({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Us(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),hm(t,"connected",!1),t.serverSyncTree_=new eu({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);it(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function zI(t){let n=t.infoData_.getNode(new Y(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Gs(t){return pL({timestamp:zI(t)})}function BE(t,e,n,r,i){t.dataUpdateCount++;let o=new Y(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Xi(n,l=>ce(l));s=cL(t.serverSyncTree_,o,c,i)}else{let c=ce(n);s=OI(t.serverSyncTree_,o,c,i)}else if(r){let c=Xi(n,l=>ce(l));s=oL(t.serverSyncTree_,o,c)}else{let c=ce(n);s=Us(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Gi(t,o)),it(t.eventQueue_,a,s)}function $E(t,e){hm(t,"connected",e),e===!1&&NL(t)}function ML(t,e){be(e,(n,r)=>{hm(t,n,r)})}function hm(t,e,n){let r=new Y("/.info/"+e),i=ce(n);t.infoData_.updateSnapshot(r,i);let o=Us(t.infoSyncTree_,r,i);it(t.eventQueue_,r,o)}function _u(t){return t.nextWriteId_++}function AL(t,e,n){let r=lL(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=ce(i).withIndex(e._queryParams.getIndex());Ig(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Us(t.serverSyncTree_,e._path,o);else{let a=Rs(t.serverSyncTree_,e);s=OI(t.serverSyncTree_,e._path,o,a)}return it(t.eventQueue_,e._path,s),tu(t.serverSyncTree_,e,n,null,!0),o},i=>(Qi(t,"get for query "+de(e)+" failed: "+i),Promise.reject(new Error(i))))}function pm(t,e,n,r,i){Qi(t,"set",{path:e.toString(),value:n,priority:r});let o=Gs(t),s=ce(n,r),a=hu(t.serverSyncTree_,e),c=lm(s,a,o),l=_u(t),u=om(t.serverSyncTree_,e,c,l,!0);yu(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||Oe("set at "+e+" failed: "+f);let y=Bn(t.serverSyncTree_,l,!p);it(t.eventQueue_,e,y),qn(t,i,f,h)});let d=mm(t,e);Gi(t,d),it(t.eventQueue_,d,[])}function xL(t,e,n,r){Qi(t,"update",{path:e.toString(),value:n});let i=!0,o=Gs(t),s={};if(be(n,(a,c)=>{i=!1,s[a]=LI(ae(e,a),ce(c),t.serverSyncTree_,o)}),i)Ie("update() called with empty data.  Don't do anything."),qn(t,r,"ok",void 0);else{let a=_u(t),c=iL(t.serverSyncTree_,e,s,a);yu(t.eventQueue_,c),t.server_.merge(e.toString(),n,(l,u)=>{let d=l==="ok";d||Oe("update at "+e+" failed: "+l);let f=Bn(t.serverSyncTree_,a,!d),h=f.length>0?Gi(t,e):e;it(t.eventQueue_,h,f),qn(t,r,l,u)}),be(n,l=>{let u=mm(t,ae(e,l));Gi(t,u)}),it(t.eventQueue_,e,[])}}function NL(t){Qi(t,"onDisconnectEvents");let e=Gs(t),n=Wl();dg(t.onDisconnect_,q(),(i,o)=>{let s=LI(i,o,t.serverSyncTree_,e);qi(n,i,s)});let r=[];dg(n,q(),(i,o)=>{r=r.concat(Us(t.serverSyncTree_,i,o));let s=mm(t,i);Gi(t,s)}),t.onDisconnect_=Wl(),it(t.eventQueue_,q(),r)}function RL(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&ug(t.onDisconnect_,e),qn(t,n,r,i)})}function HE(t,e,n,r){let i=ce(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(o,s)=>{o==="ok"&&qi(t.onDisconnect_,e,i),qn(t,r,o,s)})}function OL(t,e,n,r,i){let o=ce(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&qi(t.onDisconnect_,e,o),qn(t,i,s,a)})}function PL(t,e,n,r){if(Xs(n)){Ie("onDisconnect().update() called with empty data.  Don't do anything."),qn(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,o)=>{i==="ok"&&be(n,(s,a)=>{let c=ce(a);qi(t.onDisconnect_,ae(e,s),c)}),qn(t,r,i,o)})}function kL(t,e,n){let r;j(e._path)===".info"?r=Ig(t.infoSyncTree_,e,n):r=Ig(t.serverSyncTree_,e,n),HI(t.eventQueue_,e._path,r)}function xg(t,e,n){let r;j(e._path)===".info"?r=tu(t.infoSyncTree_,e,n):r=tu(t.serverSyncTree_,e,n),HI(t.eventQueue_,e._path,r)}function qI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(WI)}function FL(t){t.persistentConnection_&&t.persistentConnection_.resume(WI)}function Qi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ie(n,...e)}function qn(t,e,n,r){e&&zi(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function LL(t,e,n,r,i,o){Qi(t,"transaction on "+e);let s={path:e,update:n,onComplete:r,status:null,order:zE(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=gm(t,e,void 0);s.currentInputSnapshot=a;let c=s.update(a.val());if(c===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{$s("transaction failed: Data returned ",c,s.path),s.status=0;let l=gu(t.transactionQueueTree_,e),u=Ar(l)||[];u.push(s),dm(l,u);let d;typeof c=="object"&&c!==null&&at(c,".priority")?(d=mn(c,".priority"),m(Ps(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(hu(t.serverSyncTree_,e)||N.EMPTY_NODE).getPriority().val();let f=Gs(t),h=ce(c,d),p=lm(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=_u(t);let y=om(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);it(t.eventQueue_,e,y),wu(t,t.transactionQueueTree_)}}function gm(t,e,n){return hu(t.serverSyncTree_,e,n)||N.EMPTY_NODE}function wu(t,e=t.transactionQueueTree_){if(e||Cu(t,e),Ar(e)){let n=KI(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&VL(t,Bs(e),n)}else VI(e)&&mu(e,n=>{wu(t,n)})}function VL(t,e,n){let r=n.map(l=>l.currentWriteId),i=gm(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=$e(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Qi(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Bn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Cu(t,gu(t.transactionQueueTree_,e)),wu(t,t.transactionQueueTree_),it(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)zi(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Oe("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Gi(t,e)}},s)}function Gi(t,e){let n=YI(t,e),r=Bs(n),i=KI(t,n);return jL(t,i,r),r}function jL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=$e(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Bn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=TL)u=!0,d="maxretry",i=i.concat(Bn(t.serverSyncTree_,c.currentWriteId,!0));else{let f=gm(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){$s("transaction failed: Data returned ",h,c.path);let p=ce(h);typeof h=="object"&&h!=null&&at(h,".priority")||(p=p.updatePriority(f.getPriority()));let _=c.currentWriteId,C=Gs(t),F=lm(p,f,C);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=F,c.currentWriteId=_u(t),s.splice(s.indexOf(_),1),i=i.concat(om(t.serverSyncTree_,c.path,F,c.currentWriteId,c.applyLocally)),i=i.concat(Bn(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(Bn(t.serverSyncTree_,c.currentWriteId,!0))}it(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Cu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)zi(r[a]);wu(t,t.transactionQueueTree_)}function YI(t,e){let n,r=t.transactionQueueTree_;for(n=j(e);n!==null&&Ar(r)===void 0;)r=gu(r,n),e=te(e),n=j(e);return r}function KI(t,e){let n=[];return QI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function QI(t,e,n){let r=Ar(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);mu(e,i=>{QI(t,i,n)})}function Cu(t,e){let n=Ar(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,dm(e,n.length>0?n:void 0)}mu(e,r=>{Cu(t,r)})}function mm(t,e){let n=Bs(YI(t,e)),r=gu(t.transactionQueueTree_,e);return yL(r,i=>{jp(t,i)}),jp(t,r),jI(r,i=>{jp(t,i)}),n}function jp(t,e){let n=Ar(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Bn(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?dm(e,void 0):n.length=o+1,it(t.eventQueue_,Bs(e),i);for(let s=0;s<r.length;s++)zi(r[s])}}function UL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function BL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Oe(`Invalid query segment '${n}' in query '${t}'`)}return e}var Ng=function(t,e){let n=$L(t),r=n.namespace;n.domain==="firebase.com"&&Zt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yF();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ll(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Y(n.pathString)}},$L=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=UL(t.substring(u,d)));let f=BL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var GE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",HL=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=GE.charAt(n%64),n=Math.floor(n/64);m(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=GE.charAt(e[i]);return m(s.length===20,"nextPushId: Length should be 20."),s}}();var nu=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+de(this.snapshot.exportVal())}},ru=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var ks=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var iu=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new Ce;return RL(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){rt("OnDisconnect.remove",this._path);let e=new Ce;return HE(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){rt("OnDisconnect.set",this._path),Jt("OnDisconnect.set",e,this._path,!1);let n=new Ce;return HE(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){rt("OnDisconnect.setWithPriority",this._path),Jt("OnDisconnect.setWithPriority",e,this._path,!1),fm("OnDisconnect.setWithPriority",n,!1);let r=new Ce;return OL(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){rt("OnDisconnect.update",this._path),BI("OnDisconnect.update",e,this._path,!1);let n=new Ce;return PL(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Ge=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return U(this._path)?null:Yg(this._path)}get ref(){return new ot(this._repo,this._path)}get _queryIdentifier(){let e=xE(this._queryParams),n=zg(e);return n==="{}"?"default":n}get _queryObject(){return xE(this._queryParams)}isEqual(e){if(e=De(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Kg(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+QF(this._path)}};function Du(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Kn(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Qt){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Gn)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==pn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===re){if(e!=null&&!Ps(e)||n!=null&&!Ps(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(m(t.getIndex()instanceof bs||t.getIndex()===Xg,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Eu(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ot=class t extends Ge{constructor(e,n){super(e,n,new As,!1)}get parent(){let e=hI(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Wi=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Y(e),r=Yn(this.ref,e);return new t(this._node.getChild(n),r,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,Yn(this.ref,r),re)))}hasChild(e){let n=new Y(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function vm(t,e){return t=De(t),t._checkNotDeleted("ref"),e!==void 0?Yn(t._root,e):t._root}function ym(t,e){t=De(t),t._checkNotDeleted("refFromURL");let n=Ng(e,t._repo.repoInfo_.nodeAdmin);$I("refFromURL",n);let r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Zt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),vm(t,n.path.toString())}function Yn(t,e){return t=De(t),j(t._path)===null?IL("child","path",e,!1):Ki("child","path",e,!1),new ot(t._repo,ae(t._path,e))}function ZI(t,e){t=De(t),rt("push",t._path),Jt("push",e,t._path,!0);let n=zI(t._repo),r=HL(n),i=Yn(t,r),o=Yn(t,r),s;return e!=null?s=Iu(o,e).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function XI(t){return rt("remove",t._path),Iu(t,null)}function Iu(t,e){t=De(t),rt("set",t._path),Jt("set",e,t._path,!1);let n=new Ce;return pm(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function JI(t,e){t=De(t),rt("setPriority",t._path),fm("setPriority",e,!1);let n=new Ce;return pm(t._repo,ae(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function eb(t,e,n){if(rt("setWithPriority",t._path),Jt("setWithPriority",e,t._path,!1),fm("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let r=new Ce;return pm(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function tb(t,e){BI("update",e,t._path,!1);let n=new Ce;return xL(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function nb(t){t=De(t);let e=new ks(()=>{}),n=new Fs(e);return AL(t._repo,t,n).then(r=>new Wi(r,new ot(t._repo,t._path),t._queryParams.getIndex()))}var Fs=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new nu("value",this,new Wi(e.snapshotNode,new ot(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ru(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},ou=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ru(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=Yn(new ot(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new nu(e.type,this,new Wi(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Ws(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{xg(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new ks(n,o||void 0),a=e==="value"?new Fs(s):new ou(e,s);return kL(t._repo,t,a),()=>xg(t._repo,t,a)}function bu(t,e,n,r){return Ws(t,"value",e,n,r)}function _m(t,e,n,r){return Ws(t,"child_added",e,n,r)}function wm(t,e,n,r){return Ws(t,"child_changed",e,n,r)}function Cm(t,e,n,r){return Ws(t,"child_moved",e,n,r)}function Dm(t,e,n,r){return Ws(t,"child_removed",e,n,r)}function Em(t,e,n){let r=null,i=n?new ks(n):null;e==="value"?r=new Fs(i):e&&(r=new ou(e,i)),xg(t._repo,t,r)}var st=class{},su=class extends st{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Jt("endAt",this._value,e._path,!0);let n=ag(e._queryParams,this._value,this._key);if(Eu(n),Kn(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(e._repo,e._path,n,e._orderByCalled)}};function rb(t,e){return Hs("endAt","key",e,!0),new su(t,e)}var Rg=class extends st{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){Jt("endBefore",this._value,e._path,!1);let n=g1(e._queryParams,this._value,this._key);if(Eu(n),Kn(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(e._repo,e._path,n,e._orderByCalled)}};function ib(t,e){return Hs("endBefore","key",e,!0),new Rg(t,e)}var au=class extends st{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Jt("startAt",this._value,e._path,!0);let n=sg(e._queryParams,this._value,this._key);if(Eu(n),Kn(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ge(e._repo,e._path,n,e._orderByCalled)}};function ob(t=null,e){return Hs("startAt","key",e,!0),new au(t,e)}var Og=class extends st{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){Jt("startAfter",this._value,e._path,!1);let n=p1(e._queryParams,this._value,this._key);if(Eu(n),Kn(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ge(e._repo,e._path,n,e._orderByCalled)}};function sb(t,e){return Hs("startAfter","key",e,!0),new Og(t,e)}var Pg=class extends st{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(e._repo,e._path,f1(e._queryParams,this._limit),e._orderByCalled)}};function ab(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pg(t)}var kg=class extends st{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(e._repo,e._path,h1(e._queryParams,this._limit),e._orderByCalled)}};function cb(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new kg(t)}var Fg=class extends st{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Du(e,"orderByChild");let n=new Y(this._path);if(U(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new bs(n),i=lu(e._queryParams,r);return Kn(i),new Ge(e._repo,e._path,i,!0)}};function lb(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ki("orderByChild","path",t,!1),new Fg(t)}var Lg=class extends st{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Du(e,"orderByKey");let n=lu(e._queryParams,Qt);return Kn(n),new Ge(e._repo,e._path,n,!0)}};function ub(){return new Lg}var Vg=class extends st{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Du(e,"orderByPriority");let n=lu(e._queryParams,re);return Kn(n),new Ge(e._repo,e._path,n,!0)}};function db(){return new Vg}var jg=class extends st{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Du(e,"orderByValue");let n=lu(e._queryParams,Xg);return Kn(n),new Ge(e._repo,e._path,n,!0)}};function fb(){return new jg}var Ug=class extends st{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Jt("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new su(this._value,this._key)._apply(new au(this._value,this._key)._apply(e))}};function hb(t,e){return Hs("equalTo","key",e,!0),new Ug(t,e)}function yt(t,...e){let n=De(t);for(let r of e)n=r._apply(n);return n}Q1(ot);tL(ot);var GL="FIREBASE_DATABASE_EMULATOR_HOST",Bg={},WL=!1;function zL(t,e,n,r){t.repoInfo_=new Ll(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Im(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Zt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ie("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=Ng(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[GL]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=Ng(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new _s(_s.OWNER):new Wp(t.name,t.options,e);$I("Invalid Firebase Database URL",s),U(s.path)||Zt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=YL(a,t,u,new Gp(t.name,n));return new $g(d,t)}function qL(t,e){let n=Bg[e];(!n||n[t.key]!==t)&&Zt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qI(t),delete n[t.key]}function YL(t,e,n,r){let i=Bg[e.name];i||(i={},Bg[e.name]=i);let o=i[t.toURLString()];return o&&Zt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ag(t,WL,n,r),i[t.toURLString()]=o,o}var $g=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(SL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ot(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zt("Cannot call "+e+" on a deleted database.")}};function pb(){fI.IS_TRANSPORT_INITIALIZED&&Oe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gb(){pb(),Es.forceDisallow()}function mb(){pb(),ki.forceDisallow(),Es.forceAllow()}function vb(t,e,n,r={}){t=De(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Zt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new _s(_s.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Rm(r.mockUserToken,t.app.options.projectId);o=new _s(s)}zL(i,e,n,o)}function yb(t){t=De(t),t._checkNotDeleted("goOffline"),qI(t._repo)}function _b(t){t=De(t),t._checkNotDeleted("goOnline"),FL(t._repo)}function wb(t,e){YE(t,e)}function KL(t){Wg(Wm),wt(new Pe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Im(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ze(hE,pE,t),ze(hE,pE,"esm2017")}var QL={".sv":"timestamp"};function Cb(){return QL}function Db(t){return{".sv":{increment:t}}}var Hg=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Eb(t,e,n){var r;if(t=De(t),rt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Ce,s=(c,l,u)=>{let d=null;c?o.reject(c):(d=new Wi(u,new ot(t._repo,t._path),re),o.resolve(new Hg(l,d)))},a=bu(t,()=>{});return LL(t._repo,t._path,e,s,a,i),o.promise}Qg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Qg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KL();var ZL="@firebase/database-compat",XL="1.0.3";var JL=new vn("@firebase/database-compat"),Ib=function(t){let e="FIREBASE WARNING: "+t;JL.warn(e)};var eV=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(We(t,e)+"must be a boolean.")},tV=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(We(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var bm=class{constructor(e){this._delegate=e}cancel(e){S("OnDisconnect.cancel",0,1,arguments.length),ve("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){S("OnDisconnect.remove",0,1,arguments.length),ve("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){S("OnDisconnect.set",1,2,arguments.length),ve("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){S("OnDisconnect.setWithPriority",2,3,arguments.length),ve("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,n){if(S("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,Ib("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ve("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}};var Tm=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return S("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var xr=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return S("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return S("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return S("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return S("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return S("DataSnapshot.child",0,1,arguments.length),e=String(e),Ki("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return S("DataSnapshot.hasChild",1,1,arguments.length),Ki("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return S("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return S("DataSnapshot.forEach",1,1,arguments.length),ve("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return S("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return S("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return S("DataSnapshot.ref",0,0,arguments.length),new gn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Tu=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var o;S("Query.on",2,4,arguments.length),ve("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",r,i),a=(l,u)=>{n.call(s.context,new xr(this.database,l),u)};a.userCallback=n,a.context=s.context;let c=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return bu(this._delegate,a,c),n;case"child_added":return _m(this._delegate,a,c),n;case"child_removed":return Dm(this._delegate,a,c),n;case"child_changed":return wm(this._delegate,a,c),n;case"child_moved":return Cm(this._delegate,a,c),n;default:throw new Error(We("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(S("Query.off",0,3,arguments.length),tV("Query.off",e,!0),ve("Query.off","callback",n,!0),Mu("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Em(this._delegate,e,i)}else Em(this._delegate,e)}get(){return nb(this._delegate).then(e=>new xr(this.database,e))}once(e,n,r,i){S("Query.once",1,4,arguments.length),ve("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",r,i),s=new Ce,a=(l,u)=>{let d=new xr(this.database,l);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let c=l=>{o.cancel&&o.cancel.call(o.context,l),s.reject(l)};switch(e){case"value":bu(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":_m(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":Dm(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":wm(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":Cm(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error(We("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return S("Query.limitToFirst",1,1,arguments.length),new t(this.database,yt(this._delegate,ab(e)))}limitToLast(e){return S("Query.limitToLast",1,1,arguments.length),new t(this.database,yt(this._delegate,cb(e)))}orderByChild(e){return S("Query.orderByChild",1,1,arguments.length),new t(this.database,yt(this._delegate,lb(e)))}orderByKey(){return S("Query.orderByKey",0,0,arguments.length),new t(this.database,yt(this._delegate,ub()))}orderByPriority(){return S("Query.orderByPriority",0,0,arguments.length),new t(this.database,yt(this._delegate,db()))}orderByValue(){return S("Query.orderByValue",0,0,arguments.length),new t(this.database,yt(this._delegate,fb()))}startAt(e=null,n){return S("Query.startAt",0,2,arguments.length),new t(this.database,yt(this._delegate,ob(e,n)))}startAfter(e=null,n){return S("Query.startAfter",0,2,arguments.length),new t(this.database,yt(this._delegate,sb(e,n)))}endAt(e=null,n){return S("Query.endAt",0,2,arguments.length),new t(this.database,yt(this._delegate,rb(e,n)))}endBefore(e=null,n){return S("Query.endBefore",0,2,arguments.length),new t(this.database,yt(this._delegate,ib(e,n)))}equalTo(e,n){return S("Query.equalTo",1,2,arguments.length),new t(this.database,yt(this._delegate,hb(e,n)))}toString(){return S("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return S("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(S("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,ve(e,"cancel",i.cancel,!0),i.context=r,Mu(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(We(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new gn(this.database,new ot(this._delegate._repo,this._delegate._path))}},gn=class t extends Tu{constructor(e,n){super(e,new Ge(n._repo,n._path,new As,!1)),this.database=e,this._delegate=n}getKey(){return S("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return S("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,Yn(this._delegate,e))}getParent(){S("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return S("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){S("Reference.set",1,2,arguments.length),ve("Reference.set","onComplete",n,!0);let r=Iu(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(S("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,Ib("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}rt("Reference.update",this._delegate._path),ve("Reference.update","onComplete",n,!0);let r=tb(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){S("Reference.setWithPriority",2,3,arguments.length),ve("Reference.setWithPriority","onComplete",r,!0);let i=eb(this._delegate,e,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){S("Reference.remove",0,1,arguments.length),ve("Reference.remove","onComplete",e,!0);let n=XI(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){S("Reference.transaction",1,3,arguments.length),ve("Reference.transaction","transactionUpdate",e,!1),ve("Reference.transaction","onComplete",n,!0),eV("Reference.transaction","applyLocally",r,!0);let i=Eb(this._delegate,e,{applyLocally:r}).then(o=>new Tm(o.committed,new xr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(e,n){S("Reference.setPriority",1,2,arguments.length),ve("Reference.setPriority","onComplete",n,!0);let r=JI(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){S("Reference.push",0,2,arguments.length),ve("Reference.push","onComplete",n,!0);let r=ZI(this._delegate,e),i=r.then(s=>new t(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new t(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return rt("Reference.onDisconnect",this._delegate._path),new bm(new iu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Nr=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gb,forceLongPolling:mb}}useEmulator(e,n,r={}){vb(this._delegate,e,n,r)}ref(e){if(S("database.ref",0,1,arguments.length),e instanceof gn){let n=ym(this._delegate,e.toString());return new gn(this,n)}else{let n=vm(this._delegate,e);return new gn(this,n)}}refFromURL(e){S("database.refFromURL",1,1,arguments.length);let r=ym(this._delegate,e);return new gn(this,r)}goOffline(){return S("database.goOffline",0,0,arguments.length),yb(this._delegate)}goOnline(){return S("database.goOnline",0,0,arguments.length),_b(this._delegate)}};Nr.ServerValue={TIMESTAMP:Cb(),increment:t=>Db(t)};function nV({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){Wg(n);let a=new Au("database-standalone"),c=new ea("auth-internal",a);c.setComponent(new Pe("auth-internal",()=>r,"PRIVATE"));let l;return i&&(l=new ea("app-check-internal",a),l.setComponent(new Pe("app-check-internal",()=>i,"PRIVATE"))),{instance:new Nr(Im(t,c,l,e,s),t),namespace:o}}var rV=Object.freeze({__proto__:null,initStandalone:nV});var iV=Nr.ServerValue;function oV(t){t.INTERNAL.registerComponent(new Pe("database-compat",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new Nr(i,r)},"PUBLIC").setServiceProps({Reference:gn,Query:Tu,Database:Nr,DataSnapshot:xr,enableLogging:wb,INTERNAL:rV,ServerValue:iV}).setMultipleInstances(!0)),t.registerVersion(ZL,XL)}oV(Je);function zs(t,e,n="on",r=ro){return new L(i=>{let o=null;return o=t[n](e,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(T(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),oo())}function sV(t){return typeof t=="string"}function aV(t){return typeof t.exportVal=="function"}function Ab(t){return t==null}function xb(t){return typeof t.set=="function"}function bb(t,e){return xb(e)?e:t.ref(e)}function Nb(t,e){if(sV(t))return e.stringCase();if(xb(t))return e.firebaseCase();if(aV(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function Rb(t){return(Ab(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Ob(t,e,n){e=Rb(e);let r=e.map(i=>zs(t,i,"on",n));return zr(...r)}function cV(t,e,n){let r=Ob(t,e).pipe(Yr((i,o)=>[...i,o],[]));return uV(t,r,n)}function lV(t,e){return zs(t,"value","on",e).pipe(T(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function uV(t,e,n){return lV(t,n).pipe(ed(e),T(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(c=>c.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Zu(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),T(i=>i.actions))}function Tb(t,e){return function(r,i){return Nb(r,{stringCase:()=>t.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function dV(t){return function(n){return n?Nb(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function fV(t,e,n){return zs(t,"value","once",n).pipe(ne(r=>{let i=[b(r)];return e.forEach(o=>i.push(zs(t,o,"on",n))),zr(...i).pipe(Yr(pV,[]))}),Yu())}function Pb(t,e){let n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function hV(t,e){if(Ab(e))return 0;{let n=Pb(t,e);return n===-1?t.length:n+1}}function pV(t,e){let{payload:n,prevKey:r,key:i}=e,o=Pb(t,i),s=hV(t,r);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(c=>{let l={payload:c,type:"value",prevKey:a,key:c.key};return a=c.key,t=[...t,l],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==r&&(t=t.filter(c=>c.payload.key!==n.key),t.splice(s,0,e));else{if(r==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===i?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function Sb(t,e,n){return e=Rb(e),fV(t,e,n)}function gV(t,e){let n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:Tb(r,"update"),set:Tb(r,"set"),push:i=>r.push(i),remove:dV(r),snapshotChanges(i){return Sb(t,i,n).pipe(hn)},stateChanges(i){return Ob(t,i,n).pipe(hn)},auditTrail(i){return cV(t,i,n).pipe(hn)},valueChanges(i,o){return Sb(t,i,n).pipe(T(a=>a.map(c=>o&&o.idField?Z(D({},c.payload.val()),{[o.idField]:c.key}):c.payload.val())),hn)}}}function Mb(t,e){return function(){return zs(t,"value","on",e)}}function mV(t,e){return{query:t,snapshotChanges(){return Mb(t,e.schedulers.outsideAngular)().pipe(hn)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return Mb(t,e.schedulers.outsideAngular)().pipe(hn,T(r=>r.payload.exists()?r.payload.val():null))}}}var vV=new w("angularfire2.realtimeDatabaseURL"),yV=new w("angularfire2.database.use-emulator"),kb=(()=>{class t{schedulers;database;constructor(n,r,i,o,s,a,c,l,u,d,f,h,p,y,_){this.schedulers=a;let C=c,F=hs(n,s,r);l&&Rp(F,s,u,f,h,p,d,y),this.database=Pl(`${F.name}.database.${i}`,"AngularFireDatabase",F.name,()=>{let B=s.runOutsideAngular(()=>F.database(i||void 0));return C&&B.useEmulator(...C),B},[C])}list(n,r){let i=this.schedulers.ngZone.runOutsideAngular(()=>bb(this.database,n)),o=i;return r&&(o=r(i)),gV(o,this)}object(n){let r=this.schedulers.ngZone.runOutsideAngular(()=>bb(this.database,n));return mV(r,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||t)(g(Ri),g(Oi,8),g(vV,8),g(Ne),g(z),g(Nl),g(yV,8),g(fE,8),g(Tp,8),g(Sp,8),g(Mp,8),g(Ap,8),g(xp,8),g(Np,8),g(Dr,8))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var Fb=(()=>{let e=class e{constructor(r){this.db=r}getAccess(){return this.db.list("item")}updateAccess(r){return this.db.object("item").update(r)}};e.\u0275fac=function(i){return new(i||e)(g(kb))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CV(t,e){t&1&&(X(0,"div",1)(1,"div",2),Ky(),X(2,"svg",3),_e(3,"path",4)(4,"path",5),oe()(),Qy(),X(5,"h1"),Ze(6,"Caricamento..."),oe()())}var Lb=(()=>{let e=class e{constructor(r){this.loader=r,this.loading$=this.loader.loading$}};e.\u0275fac=function(i){return new(i||e)(O(Ni))},e.\u0275cmp=Bt({type:e,selectors:[["app-spinner"]],decls:2,vars:3,consts:[["class","text-center",4,"ngIf"],[1,"text-center"],[1,"spinner-container"],["id","star","xmlns","http://www.w3.org/2000/svg","width","100","height","100","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrow-repeat"],["d","M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"],["fill-rule","evenodd","d","M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"]],template:function(i,o){i&1&&(Nn(0,CV,7,0,"div",0),Mc(1,"async")),i&2&&Be("ngIf",Ac(1,1,o.loading$))},dependencies:[Vc,jc],styles:[".text-center[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background-color:#000;color:#fff}.spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}#star[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(359deg)}}"]});let t=e;return t})();function EV(t,e){t&1&&(X(0,"div",18),Ze(1,"Risposta sbagliata! Riprova!"),oe())}function IV(t,e){if(t&1){let n=ow();X(0,"div",5)(1,"div",6),_e(2,"img",7),oe(),X(3,"div",8),_e(4,"img",9)(5,"img",10),oe(),X(6,"h1",11),Ze(7,"CIAO SQUADRA!"),oe(),X(8,"form",12),Mt("ngSubmit",function(){Vy(n);let i=So(2);return jy(i.onSubmit(i.form))}),X(9,"div",13),_e(10,"input",14),X(11,"small",15),Ze(12),oe()(),X(13,"button",16),Ze(14,"Invia"),oe()(),Nn(15,EV,2,0,"div",17),oe()}if(t&2){let n=So(2);Qe(8),Be("formGroup",n.form),Qe(4),Tc("Hai a disposizione ",n.numTentativi," tentativi"),Qe(),Be("disabled",!n.form.valid||n.numTentativi==0),Qe(2),Be("ngIf",n.rispostaSbagliata)}}function bV(t,e){t&1&&(X(0,"div",21)(1,"h1"),Ze(2,"Hai cannato la prova!"),oe(),X(3,"div",8),_e(4,"img",22),oe()())}function TV(t,e){t&1&&(X(0,"div",21)(1,"h1"),Ze(2,"Hai superato la prova!"),oe(),X(3,"div",8),_e(4,"img",23),oe()())}function SV(t,e){if(t&1&&(X(0,"div",19)(1,"div",6),_e(2,"img",7),oe(),X(3,"div",8),_e(4,"img",9)(5,"img",10),oe(),Nn(6,bV,5,0,"div",20)(7,TV,5,0,"div",20),oe()),t&2){let n=So(2);Qe(6),Be("ngIf",n.numTentativi==0&&n.success==!1),Qe(),Be("ngIf",n.success==!0)}}function MV(t,e){if(t&1&&(X(0,"div"),Nn(1,IV,16,4,"div",2)(2,SV,8,2,"div",3),X(3,"footer",4),Ze(4,"Powered by Reida Sat"),oe()()),t&2){let n=So();Qe(),Be("ngIf",n.numTentativi>0),Qe(),Be("ngIf",n.numTentativi==0)}}var Vb=(()=>{let e=class e{constructor(r,i,o,s){this.fb=r,this.service=i,this.loader=o,this.firebaseDb=s,this.varPassAdmin="17022001",this.title="reidaSatWeb",this.numTentativi=-1,this.risposta="",this.varStorageNumTentativi="",this.success=!1,this.access=!1,this.idAccesso="",this.idOggettoDbRest="",this.intruder=!1,this.isVisible=!1,this.loading$=this.loader.loading$,this.rispostaSbagliata=!1,this.form=this.fb.group({risposta:["",[yr.required]]})}ngOnInit(){this.service.getAccess().subscribe(r=>{if(console.log(r),this.access=r[0].access,this.idAccesso=r[0].id,this.idOggettoDbRest=r[0]._id,this.numTentativi=r[0].nTentativi,this.success=r[0].success,this.risposta=r[0].risposta,!this.access&&this.idAccesso===""){this.updateFirstAccess();return}this.access&&this.idAccesso!="",this.idAccesso=="-1"&&(this.numTentativi=0,this.intruder=!0,this.isVisible=!0)})}decreaseNumTentativi(){this.numTentativi!=0&&this.numTentativi--;let r={access:!0,id:this.idAccesso,nTentativi:this.numTentativi,success:!1,_id:this.idOggettoDbRest,risposta:this.risposta};return this.service.updateAccess(this.idOggettoDbRest,r)}onSubmit(r){if(console.log(r.value),r.value.risposta){let i=r.value.risposta;this.service.getAccess().subscribe(o=>{if(this.access=o[0].access,this.idAccesso=o[0].id,this.idOggettoDbRest=o[0]._id,this.numTentativi=o[0].nTentativi,this.success=o[0].success,this.numTentativi==0){this.ngOnInit();return}if(i.toLowerCase()==this.risposta){this.rispostaSbagliata=!1,this.success=!0;let s={access:!0,id:this.idAccesso,nTentativi:0,success:!0,_id:this.idOggettoDbRest,risposta:this.risposta};this.service.updateAccess(this.idOggettoDbRest,s).subscribe({next:()=>{this.ngOnInit()}});return}this.rispostaSbagliata=!0,i.toLowerCase()!="reida"&&this.numTentativi<=0&&(this.isVisible=!0),this.decreaseNumTentativi().subscribe({next:()=>{r.reset()}})})}}updateFirstAccess(){let r={access:!0,id:Math.round(Math.random()*1e6)+"",nTentativi:3,success:!1,_id:this.idOggettoDbRest,risposta:this.risposta};this.idAccesso=r.id+"",localStorage.setItem("idAccesso",this.idAccesso),this.service.updateAccess(this.idOggettoDbRest,r).subscribe(console.log)}};e.\u0275fac=function(i){return new(i||e)(O(Il),O(Al),O(Ni),O(Fb))},e.\u0275cmp=Bt({type:e,selectors:[["app-quiz"]],decls:4,vars:3,consts:[["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css","integrity","sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T","crossorigin","anonymous"],[4,"ngIf"],["class","container-fluid d-flex flex-column align-items-center justify-content-center","id","main-container",4,"ngIf"],["class","container-fluid d-flex flex-column align-items-center justify-content-center","id","result-container",4,"ngIf"],[1,"footer"],["id","main-container",1,"container-fluid","d-flex","flex-column","align-items-center","justify-content-center"],[1,"logo_container"],["src","assets/logo.png",1,"background-overlay-1"],[1,"image-container"],["src","assets/fucile.gif",1,"mirrored-image"],["src","assets/fucile.gif",1,"original-image"],[1,"titolo","text-center","mt-8","mb-4"],[1,"form",3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","id","risposta","formControlName","risposta","placeholder","Inserisci la risposta","autofocus","",1,"form-control"],["id","help",1,"form-text","text-muted","text-center"],["type","submit",1,"btn","btn-primary","btn-block","mt-6","custom-btn",3,"disabled"],["id","error-message","class","alert alert-danger mt-3","role","alert",4,"ngIf"],["id","error-message","role","alert",1,"alert","alert-danger","mt-3"],["id","result-container",1,"container-fluid","d-flex","flex-column","align-items-center","justify-content-center"],["class","text-center mt-4","role","alert",4,"ngIf"],["role","alert",1,"text-center","mt-4"],["src","assets/gameover.gif",1,"gameover-image"],["src","assets/fuochi-d'artificio.gif",1,"fuochi-image"]],template:function(i,o){i&1&&(_e(0,"link",0),Nn(1,MV,5,2,"div",1),Mc(2,"async"),_e(3,"app-spinner")),i&2&&(Qe(),Be("ngIf",!Ac(2,1,o.loading$)))},dependencies:[Vc,El,xi,wl,Cl,cs,ls,Lb,jc],styles:["@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(359deg)}}@keyframes _ngcontent-%COMP%_changeColor{50%{background-color:#003f00}}#star[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}#main-container[_ngcontent-%COMP%]{height:97vh;padding:10px;margin:0;overflow-x:hidden;animation:_ngcontent-%COMP%_changeColor 5s infinite;background-color:#000;color:#fff}.titolo[_ngcontent-%COMP%]{cursor:default;font-size:20px;text-shadow:2px 2px 4px rgba(28,87,0,.5)}.risposta[_ngcontent-%COMP%]{text-align:center;display:block;margin:0 auto}#risposta[_ngcontent-%COMP%]{margin:10px 0;text-align:center;box-shadow:0 0 10px #ffffff80;border:1px solid rgba(255,255,255,.5);transition:box-shadow .3s,border .3s}#risposta[_ngcontent-%COMP%]:focus{box-shadow:0 0 15px #ffffffb3;border:1px solid rgba(255,255,255,.7)}#help[_ngcontent-%COMP%]{cursor:default}.text-muted[_ngcontent-%COMP%]{color:#fff!important}.custom-btn[_ngcontent-%COMP%]{background-color:#fff!important;color:#000!important;border:1px solid black!important;cursor:pointer}.footer[_ngcontent-%COMP%]{background-color:#000;animation:_ngcontent-%COMP%_changeColor 5s infinite;width:100%;color:#f5f5f5;text-align:center;cursor:default}.logo_container[_ngcontent-%COMP%]{background-color:#000;animation:_ngcontent-%COMP%_changeColor 5s infinite;width:200px;height:auto;overflow:hidden;position:relative}.logo_container[_ngcontent-%COMP%]   .background-overlay-1[_ngcontent-%COMP%]{width:100%;height:auto;max-width:100%}.image-container[_ngcontent-%COMP%]{display:flex}.original-image[_ngcontent-%COMP%], .mirrored-image[_ngcontent-%COMP%]{width:150px;height:auto;margin-right:10px}.mirrored-image[_ngcontent-%COMP%]{transform:scaleX(-1)}.fuochi-image[_ngcontent-%COMP%], .gameover-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%;margin-top:20px;border:4px solid #ccc;box-shadow:4px 4px 10px #0003}#result-container[_ngcontent-%COMP%]{height:97vh;padding:10px;margin:0;overflow-x:hidden;animation:_ngcontent-%COMP%_changeColor 5s infinite;background-color:#000;color:#fff}#error-message[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_error-animation .5s ease-in-out}@keyframes _ngcontent-%COMP%_error-animation{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}"]});let t=e;return t})();var jb=(()=>{let e=class e{constructor(r,i,o){this.service=r,this.router=i,this.fb=o,this.idOggettoDbRest="",this.success=!1,this.form=this.fb.group({risposta:["",[yr.required]],nTentativi:["",[yr.required]]}),r.getAccess().subscribe(s=>{this.idOggettoDbRest=s[0]._id,console.log(s)})}ngOnDestroy(){clearInterval(this.successInterval)}ngOnInit(){this.getSuccess()}resetAccess(r){console.log(r.value.risposta);let i={access:!1,id:"",nTentativi:r.value.nTentativi,success:!1,_id:this.idOggettoDbRest,risposta:r.value.risposta};this.service.updateAccess(this.idOggettoDbRest,i).subscribe({next:()=>this.router.navigateByUrl("")})}getSuccess(){this.successInterval=setInterval(()=>{this.service.getAccess().subscribe(r=>this.success=r[0].success)},1e3)}};e.\u0275fac=function(i){return new(i||e)(O(Al),O(Yt),O(Il))},e.\u0275cmp=Bt({type:e,selectors:[["app-admin"]],decls:10,vars:3,consts:[[1,"form-group","d-flex","flex-column","flex-justify-content-center","align-items-center"],[1,"form",3,"formGroup","ngSubmit"],["type","number","id","risposta","formControlName","nTentativi","placeholder","Num Tentativi","autofocus","",1,"form-control"],["type","text","id","risposta","formControlName","risposta","placeholder","risposta","autofocus","",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","mt-4",3,"disabled"],["routerLink","/",1,"btn","btn-primary"]],template:function(i,o){i&1&&(X(0,"div",0)(1,"form",1),Mt("ngSubmit",function(){return o.resetAccess(o.form)}),_e(2,"input",2)(3,"input",3),X(4,"button",4),Ze(5,` Clicca per resettare
`),oe()(),X(6,"h1"),Ze(7),oe(),X(8,"button",5),Ze(9,"Vai alla home"),oe()()),i&2&&(Qe(),Be("formGroup",o.form),Qe(3),Be("disabled",!o.form.valid),Qe(3),Of(o.success))},dependencies:[kC,El,xi,np,wl,Cl,cs,ls]});let t=e;return t})();var AV=[{path:"",component:Vb},{path:"admin",component:jb}],Ub=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e}),e.\u0275inj=ge({imports:[qh.forRoot(AV),qh]});let t=e;return t})();var Bb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&_e(0,"router-outlet")},dependencies:[Uh]});let t=e;return t})();var $b=(()=>{let e=class e{constructor(r){this.loader=r,this.requestsInFlight=0}intercept(r,i){return this.requestsInFlight++,this.loader.show(),i.handle(r).pipe(se(o=>{(o instanceof mi||o instanceof vi)&&(this.requestsInFlight--,this.requestsInFlight===0&&this.loader.hide())},o=>{this.requestsInFlight--,this.requestsInFlight===0&&this.loader.hide()}))}};e.\u0275fac=function(i){return new(i||e)(g(Ni))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var Hb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=me({type:e,bootstrap:[Bb]}),e.\u0275inj=ge({providers:[Po,{provide:Xf,useClass:$b,multi:!0}],imports:[qw,Ub,mD,Vw,dE.initializeApp(jn.firebaseConfig)]});let t=e;return t})();zw().bootstrapModule(Hb).catch(t=>console.error(t));
